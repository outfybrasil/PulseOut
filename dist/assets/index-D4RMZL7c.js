(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))r(d);new MutationObserver(d=>{for(const h of d)if(h.type==="childList")for(const f of h.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function l(d){const h={};return d.integrity&&(h.integrity=d.integrity),d.referrerPolicy&&(h.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?h.credentials="include":d.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function r(d){if(d.ep)return;d.ep=!0;const h=l(d);fetch(d.href,h)}})();function Hc(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function cv(i){if(Object.prototype.hasOwnProperty.call(i,"__esModule"))return i;var n=i.default;if(typeof n=="function"){var l=function r(){return this instanceof r?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};l.prototype=n.prototype}else l={};return Object.defineProperty(l,"__esModule",{value:!0}),Object.keys(i).forEach(function(r){var d=Object.getOwnPropertyDescriptor(i,r);Object.defineProperty(l,r,d.get?d:{enumerable:!0,get:function(){return i[r]}})}),l}var dc={exports:{}},ti={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B0;function dv(){if(B0)return ti;B0=1;var i=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function l(r,d,h){var f=null;if(h!==void 0&&(f=""+h),d.key!==void 0&&(f=""+d.key),"key"in d){h={};for(var p in d)p!=="key"&&(h[p]=d[p])}else h=d;return d=h.ref,{$$typeof:i,type:r,key:f,ref:d!==void 0?d:null,props:h}}return ti.Fragment=n,ti.jsx=l,ti.jsxs=l,ti}var q0;function hv(){return q0||(q0=1,dc.exports=dv()),dc.exports}var c=hv(),hc={exports:{}},pe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L0;function fv(){if(L0)return pe;L0=1;var i=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),E=Symbol.iterator;function U(w){return w===null||typeof w!="object"?null:(w=E&&w[E]||w["@@iterator"],typeof w=="function"?w:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,B={};function Y(w,$,J){this.props=w,this.context=$,this.refs=B,this.updater=J||M}Y.prototype.isReactComponent={},Y.prototype.setState=function(w,$){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,$,"setState")},Y.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function V(){}V.prototype=Y.prototype;function H(w,$,J){this.props=w,this.context=$,this.refs=B,this.updater=J||M}var X=H.prototype=new V;X.constructor=H,k(X,Y.prototype),X.isPureReactComponent=!0;var ge=Array.isArray;function te(){}var Z={H:null,A:null,T:null,S:null},ce=Object.prototype.hasOwnProperty;function de(w,$,J){var F=J.ref;return{$$typeof:i,type:w,key:$,ref:F!==void 0?F:null,props:J}}function je(w,$){return de(w.type,$,w.props)}function ze(w){return typeof w=="object"&&w!==null&&w.$$typeof===i}function he(w){var $={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(J){return $[J]})}var Be=/\/+/g;function Qe(w,$){return typeof w=="object"&&w!==null&&w.key!=null?he(""+w.key):$.toString(36)}function Ke(w){switch(w.status){case"fulfilled":return w.value;case"rejected":throw w.reason;default:switch(typeof w.status=="string"?w.then(te,te):(w.status="pending",w.then(function($){w.status==="pending"&&(w.status="fulfilled",w.value=$)},function($){w.status==="pending"&&(w.status="rejected",w.reason=$)})),w.status){case"fulfilled":return w.value;case"rejected":throw w.reason}}throw w}function R(w,$,J,F,me){var _e=typeof w;(_e==="undefined"||_e==="boolean")&&(w=null);var Ae=!1;if(w===null)Ae=!0;else switch(_e){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(w.$$typeof){case i:case n:Ae=!0;break;case x:return Ae=w._init,R(Ae(w._payload),$,J,F,me)}}if(Ae)return me=me(w),Ae=F===""?"."+Qe(w,0):F,ge(me)?(J="",Ae!=null&&(J=Ae.replace(Be,"$&/")+"/"),R(me,$,J,"",function(vs){return vs})):me!=null&&(ze(me)&&(me=je(me,J+(me.key==null||w&&w.key===me.key?"":(""+me.key).replace(Be,"$&/")+"/")+Ae)),$.push(me)),1;Ae=0;var dt=F===""?".":F+":";if(ge(w))for(var Pe=0;Pe<w.length;Pe++)F=w[Pe],_e=dt+Qe(F,Pe),Ae+=R(F,$,J,_e,me);else if(Pe=U(w),typeof Pe=="function")for(w=Pe.call(w),Pe=0;!(F=w.next()).done;)F=F.value,_e=dt+Qe(F,Pe++),Ae+=R(F,$,J,_e,me);else if(_e==="object"){if(typeof w.then=="function")return R(Ke(w),$,J,F,me);throw $=String(w),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function I(w,$,J){if(w==null)return w;var F=[],me=0;return R(w,F,"","",function(_e){return $.call(J,_e,me++)}),F}function ne(w){if(w._status===-1){var $=w._result;$=$(),$.then(function(J){(w._status===0||w._status===-1)&&(w._status=1,w._result=J)},function(J){(w._status===0||w._status===-1)&&(w._status=2,w._result=J)}),w._status===-1&&(w._status=0,w._result=$)}if(w._status===1)return w._result.default;throw w._result}var Oe=typeof reportError=="function"?reportError:function(w){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof w=="object"&&w!==null&&typeof w.message=="string"?String(w.message):String(w),error:w});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",w);return}console.error(w)},Ue={map:I,forEach:function(w,$,J){I(w,function(){$.apply(this,arguments)},J)},count:function(w){var $=0;return I(w,function(){$++}),$},toArray:function(w){return I(w,function($){return $})||[]},only:function(w){if(!ze(w))throw Error("React.Children.only expected to receive a single React element child.");return w}};return pe.Activity=S,pe.Children=Ue,pe.Component=Y,pe.Fragment=l,pe.Profiler=d,pe.PureComponent=H,pe.StrictMode=r,pe.Suspense=g,pe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Z,pe.__COMPILER_RUNTIME={__proto__:null,c:function(w){return Z.H.useMemoCache(w)}},pe.cache=function(w){return function(){return w.apply(null,arguments)}},pe.cacheSignal=function(){return null},pe.cloneElement=function(w,$,J){if(w==null)throw Error("The argument must be a React element, but you passed "+w+".");var F=k({},w.props),me=w.key;if($!=null)for(_e in $.key!==void 0&&(me=""+$.key),$)!ce.call($,_e)||_e==="key"||_e==="__self"||_e==="__source"||_e==="ref"&&$.ref===void 0||(F[_e]=$[_e]);var _e=arguments.length-2;if(_e===1)F.children=J;else if(1<_e){for(var Ae=Array(_e),dt=0;dt<_e;dt++)Ae[dt]=arguments[dt+2];F.children=Ae}return de(w.type,me,F)},pe.createContext=function(w){return w={$$typeof:f,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null},w.Provider=w,w.Consumer={$$typeof:h,_context:w},w},pe.createElement=function(w,$,J){var F,me={},_e=null;if($!=null)for(F in $.key!==void 0&&(_e=""+$.key),$)ce.call($,F)&&F!=="key"&&F!=="__self"&&F!=="__source"&&(me[F]=$[F]);var Ae=arguments.length-2;if(Ae===1)me.children=J;else if(1<Ae){for(var dt=Array(Ae),Pe=0;Pe<Ae;Pe++)dt[Pe]=arguments[Pe+2];me.children=dt}if(w&&w.defaultProps)for(F in Ae=w.defaultProps,Ae)me[F]===void 0&&(me[F]=Ae[F]);return de(w,_e,me)},pe.createRef=function(){return{current:null}},pe.forwardRef=function(w){return{$$typeof:p,render:w}},pe.isValidElement=ze,pe.lazy=function(w){return{$$typeof:x,_payload:{_status:-1,_result:w},_init:ne}},pe.memo=function(w,$){return{$$typeof:v,type:w,compare:$===void 0?null:$}},pe.startTransition=function(w){var $=Z.T,J={};Z.T=J;try{var F=w(),me=Z.S;me!==null&&me(J,F),typeof F=="object"&&F!==null&&typeof F.then=="function"&&F.then(te,Oe)}catch(_e){Oe(_e)}finally{$!==null&&J.types!==null&&($.types=J.types),Z.T=$}},pe.unstable_useCacheRefresh=function(){return Z.H.useCacheRefresh()},pe.use=function(w){return Z.H.use(w)},pe.useActionState=function(w,$,J){return Z.H.useActionState(w,$,J)},pe.useCallback=function(w,$){return Z.H.useCallback(w,$)},pe.useContext=function(w){return Z.H.useContext(w)},pe.useDebugValue=function(){},pe.useDeferredValue=function(w,$){return Z.H.useDeferredValue(w,$)},pe.useEffect=function(w,$){return Z.H.useEffect(w,$)},pe.useEffectEvent=function(w){return Z.H.useEffectEvent(w)},pe.useId=function(){return Z.H.useId()},pe.useImperativeHandle=function(w,$,J){return Z.H.useImperativeHandle(w,$,J)},pe.useInsertionEffect=function(w,$){return Z.H.useInsertionEffect(w,$)},pe.useLayoutEffect=function(w,$){return Z.H.useLayoutEffect(w,$)},pe.useMemo=function(w,$){return Z.H.useMemo(w,$)},pe.useOptimistic=function(w,$){return Z.H.useOptimistic(w,$)},pe.useReducer=function(w,$,J){return Z.H.useReducer(w,$,J)},pe.useRef=function(w){return Z.H.useRef(w)},pe.useState=function(w){return Z.H.useState(w)},pe.useSyncExternalStore=function(w,$,J){return Z.H.useSyncExternalStore(w,$,J)},pe.useTransition=function(){return Z.H.useTransition()},pe.version="19.2.1",pe}var $0;function Gc(){return $0||($0=1,hc.exports=fv()),hc.exports}var Q=Gc();const mv=Hc(Q);var fc={exports:{}},ai={},mc={exports:{}},gc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H0;function gv(){return H0||(H0=1,(function(i){function n(R,I){var ne=R.length;R.push(I);e:for(;0<ne;){var Oe=ne-1>>>1,Ue=R[Oe];if(0<d(Ue,I))R[Oe]=I,R[ne]=Ue,ne=Oe;else break e}}function l(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var I=R[0],ne=R.pop();if(ne!==I){R[0]=ne;e:for(var Oe=0,Ue=R.length,w=Ue>>>1;Oe<w;){var $=2*(Oe+1)-1,J=R[$],F=$+1,me=R[F];if(0>d(J,ne))F<Ue&&0>d(me,J)?(R[Oe]=me,R[F]=ne,Oe=F):(R[Oe]=J,R[$]=ne,Oe=$);else if(F<Ue&&0>d(me,ne))R[Oe]=me,R[F]=ne,Oe=F;else break e}}return I}function d(R,I){var ne=R.sortIndex-I.sortIndex;return ne!==0?ne:R.id-I.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;i.unstable_now=function(){return h.now()}}else{var f=Date,p=f.now();i.unstable_now=function(){return f.now()-p}}var g=[],v=[],x=1,S=null,E=3,U=!1,M=!1,k=!1,B=!1,Y=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;function X(R){for(var I=l(v);I!==null;){if(I.callback===null)r(v);else if(I.startTime<=R)r(v),I.sortIndex=I.expirationTime,n(g,I);else break;I=l(v)}}function ge(R){if(k=!1,X(R),!M)if(l(g)!==null)M=!0,te||(te=!0,he());else{var I=l(v);I!==null&&Ke(ge,I.startTime-R)}}var te=!1,Z=-1,ce=5,de=-1;function je(){return B?!0:!(i.unstable_now()-de<ce)}function ze(){if(B=!1,te){var R=i.unstable_now();de=R;var I=!0;try{e:{M=!1,k&&(k=!1,V(Z),Z=-1),U=!0;var ne=E;try{t:{for(X(R),S=l(g);S!==null&&!(S.expirationTime>R&&je());){var Oe=S.callback;if(typeof Oe=="function"){S.callback=null,E=S.priorityLevel;var Ue=Oe(S.expirationTime<=R);if(R=i.unstable_now(),typeof Ue=="function"){S.callback=Ue,X(R),I=!0;break t}S===l(g)&&r(g),X(R)}else r(g);S=l(g)}if(S!==null)I=!0;else{var w=l(v);w!==null&&Ke(ge,w.startTime-R),I=!1}}break e}finally{S=null,E=ne,U=!1}I=void 0}}finally{I?he():te=!1}}}var he;if(typeof H=="function")he=function(){H(ze)};else if(typeof MessageChannel<"u"){var Be=new MessageChannel,Qe=Be.port2;Be.port1.onmessage=ze,he=function(){Qe.postMessage(null)}}else he=function(){Y(ze,0)};function Ke(R,I){Z=Y(function(){R(i.unstable_now())},I)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(R){R.callback=null},i.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ce=0<R?Math.floor(1e3/R):5},i.unstable_getCurrentPriorityLevel=function(){return E},i.unstable_next=function(R){switch(E){case 1:case 2:case 3:var I=3;break;default:I=E}var ne=E;E=I;try{return R()}finally{E=ne}},i.unstable_requestPaint=function(){B=!0},i.unstable_runWithPriority=function(R,I){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var ne=E;E=R;try{return I()}finally{E=ne}},i.unstable_scheduleCallback=function(R,I,ne){var Oe=i.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?Oe+ne:Oe):ne=Oe,R){case 1:var Ue=-1;break;case 2:Ue=250;break;case 5:Ue=1073741823;break;case 4:Ue=1e4;break;default:Ue=5e3}return Ue=ne+Ue,R={id:x++,callback:I,priorityLevel:R,startTime:ne,expirationTime:Ue,sortIndex:-1},ne>Oe?(R.sortIndex=ne,n(v,R),l(g)===null&&R===l(v)&&(k?(V(Z),Z=-1):k=!0,Ke(ge,ne-Oe))):(R.sortIndex=Ue,n(g,R),M||U||(M=!0,te||(te=!0,he()))),R},i.unstable_shouldYield=je,i.unstable_wrapCallback=function(R){var I=E;return function(){var ne=E;E=I;try{return R.apply(this,arguments)}finally{E=ne}}}})(gc)),gc}var G0;function pv(){return G0||(G0=1,mc.exports=gv()),mc.exports}var pc={exports:{}},Et={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V0;function vv(){if(V0)return Et;V0=1;var i=Gc();function n(g){var v="https://react.dev/errors/"+g;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)v+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+g+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var r={d:{f:l,r:function(){throw Error(n(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},d=Symbol.for("react.portal");function h(g,v,x){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:d,key:S==null?null:""+S,children:g,containerInfo:v,implementation:x}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,v){if(g==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return Et.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Et.createPortal=function(g,v){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(n(299));return h(g,v,null,x)},Et.flushSync=function(g){var v=f.T,x=r.p;try{if(f.T=null,r.p=2,g)return g()}finally{f.T=v,r.p=x,r.d.f()}},Et.preconnect=function(g,v){typeof g=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,r.d.C(g,v))},Et.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},Et.preinit=function(g,v){if(typeof g=="string"&&v&&typeof v.as=="string"){var x=v.as,S=p(x,v.crossOrigin),E=typeof v.integrity=="string"?v.integrity:void 0,U=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;x==="style"?r.d.S(g,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:S,integrity:E,fetchPriority:U}):x==="script"&&r.d.X(g,{crossOrigin:S,integrity:E,fetchPriority:U,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},Et.preinitModule=function(g,v){if(typeof g=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var x=p(v.as,v.crossOrigin);r.d.M(g,{crossOrigin:x,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&r.d.M(g)},Et.preload=function(g,v){if(typeof g=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var x=v.as,S=p(x,v.crossOrigin);r.d.L(g,x,{crossOrigin:S,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},Et.preloadModule=function(g,v){if(typeof g=="string")if(v){var x=p(v.as,v.crossOrigin);r.d.m(g,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:x,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else r.d.m(g)},Et.requestFormReset=function(g){r.d.r(g)},Et.unstable_batchedUpdates=function(g,v){return g(v)},Et.useFormState=function(g,v,x){return f.H.useFormState(g,v,x)},Et.useFormStatus=function(){return f.H.useHostTransitionStatus()},Et.version="19.2.1",Et}var K0;function bv(){if(K0)return pc.exports;K0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(n){console.error(n)}}return i(),pc.exports=vv(),pc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y0;function yv(){if(Y0)return ai;Y0=1;var i=pv(),n=Gc(),l=bv();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function d(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function f(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(h(e)!==e)throw Error(r(188))}function v(e){var t=e.alternate;if(!t){if(t=h(e),t===null)throw Error(r(188));return t!==e?null:e}for(var a=e,s=t;;){var o=a.return;if(o===null)break;var u=o.alternate;if(u===null){if(s=o.return,s!==null){a=s;continue}break}if(o.child===u.child){for(u=o.child;u;){if(u===a)return g(o),e;if(u===s)return g(o),t;u=u.sibling}throw Error(r(188))}if(a.return!==s.return)a=o,s=u;else{for(var m=!1,b=o.child;b;){if(b===a){m=!0,a=o,s=u;break}if(b===s){m=!0,s=o,a=u;break}b=b.sibling}if(!m){for(b=u.child;b;){if(b===a){m=!0,a=u,s=o;break}if(b===s){m=!0,s=u,a=o;break}b=b.sibling}if(!m)throw Error(r(189))}}if(a.alternate!==s)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:t}function x(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=x(e),t!==null)return t;e=e.sibling}return null}var S=Object.assign,E=Symbol.for("react.element"),U=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),Y=Symbol.for("react.profiler"),V=Symbol.for("react.consumer"),H=Symbol.for("react.context"),X=Symbol.for("react.forward_ref"),ge=Symbol.for("react.suspense"),te=Symbol.for("react.suspense_list"),Z=Symbol.for("react.memo"),ce=Symbol.for("react.lazy"),de=Symbol.for("react.activity"),je=Symbol.for("react.memo_cache_sentinel"),ze=Symbol.iterator;function he(e){return e===null||typeof e!="object"?null:(e=ze&&e[ze]||e["@@iterator"],typeof e=="function"?e:null)}var Be=Symbol.for("react.client.reference");function Qe(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Be?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case k:return"Fragment";case Y:return"Profiler";case B:return"StrictMode";case ge:return"Suspense";case te:return"SuspenseList";case de:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case M:return"Portal";case H:return e.displayName||"Context";case V:return(e._context.displayName||"Context")+".Consumer";case X:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Z:return t=e.displayName||null,t!==null?t:Qe(e.type)||"Memo";case ce:t=e._payload,e=e._init;try{return Qe(e(t))}catch{}}return null}var Ke=Array.isArray,R=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne={pending:!1,data:null,method:null,action:null},Oe=[],Ue=-1;function w(e){return{current:e}}function $(e){0>Ue||(e.current=Oe[Ue],Oe[Ue]=null,Ue--)}function J(e,t){Ue++,Oe[Ue]=e.current,e.current=t}var F=w(null),me=w(null),_e=w(null),Ae=w(null);function dt(e,t){switch(J(_e,t),J(me,e),J(F,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?i0(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=i0(t),e=r0(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}$(F),J(F,e)}function Pe(){$(F),$(me),$(_e)}function vs(e){e.memoizedState!==null&&J(Ae,e);var t=F.current,a=r0(t,e.type);t!==a&&(J(me,e),J(F,a))}function bs(e){me.current===e&&($(F),$(me)),Ae.current===e&&($(Ae),Zl._currentValue=ne)}var Fs,sl;function ht(e){if(Fs===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);Fs=t&&t[1]||"",sl=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Fs+e+sl}var en=!1;function Fe(e,t){if(!e||en)return"";en=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var L=function(){throw Error()};if(Object.defineProperty(L.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(L,[])}catch(D){var A=D}Reflect.construct(e,[],L)}else{try{L.call()}catch(D){A=D}e.call(L.prototype)}}else{try{throw Error()}catch(D){A=D}(L=e())&&typeof L.catch=="function"&&L.catch(function(){})}}catch(D){if(D&&A&&typeof D.stack=="string")return[D.stack,A.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var u=s.DetermineComponentFrameRoot(),m=u[0],b=u[1];if(m&&b){var y=m.split(`
`),T=b.split(`
`);for(o=s=0;s<y.length&&!y[s].includes("DetermineComponentFrameRoot");)s++;for(;o<T.length&&!T[o].includes("DetermineComponentFrameRoot");)o++;if(s===y.length||o===T.length)for(s=y.length-1,o=T.length-1;1<=s&&0<=o&&y[s]!==T[o];)o--;for(;1<=s&&0<=o;s--,o--)if(y[s]!==T[o]){if(s!==1||o!==1)do if(s--,o--,0>o||y[s]!==T[o]){var z=`
`+y[s].replace(" at new "," at ");return e.displayName&&z.includes("<anonymous>")&&(z=z.replace("<anonymous>",e.displayName)),z}while(1<=s&&0<=o);break}}}finally{en=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?ht(a):""}function Ha(e,t){switch(e.tag){case 26:case 27:case 5:return ht(e.type);case 16:return ht("Lazy");case 13:return e.child!==t&&t!==null?ht("Suspense Fallback"):ht("Suspense");case 19:return ht("SuspenseList");case 0:case 15:return Fe(e.type,!1);case 11:return Fe(e.type.render,!1);case 1:return Fe(e.type,!0);case 31:return ht("Activity");default:return""}}function _t(e){try{var t="",a=null;do t+=Ha(e,a),a=e,e=e.return;while(e);return t}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var Ga=Object.prototype.hasOwnProperty,Va=i.unstable_scheduleCallback,tn=i.unstable_cancelCallback,pi=i.unstable_shouldYield,Wc=i.unstable_requestPaint,At=i.unstable_now,nl=i.unstable_getCurrentPriorityLevel,ys=i.unstable_ImmediatePriority,ll=i.unstable_UserBlockingPriority,xs=i.unstable_NormalPriority,an=i.unstable_LowPriority,_s=i.unstable_IdlePriority,vi=i.log,Wr=i.unstable_setDisableYieldValue,ws=null,Nt=null;function da(e){if(typeof vi=="function"&&Wr(e),Nt&&typeof Nt.setStrictMode=="function")try{Nt.setStrictMode(ws,e)}catch{}}var ft=Math.clz32?Math.clz32:sn,il=Math.log,Fr=Math.LN2;function sn(e){return e>>>=0,e===0?32:31-(il(e)/Fr|0)|0}var ya=256,ha=262144,xa=4194304;function _a(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function nn(e,t,a){var s=e.pendingLanes;if(s===0)return 0;var o=0,u=e.suspendedLanes,m=e.pingedLanes;e=e.warmLanes;var b=s&134217727;return b!==0?(s=b&~u,s!==0?o=_a(s):(m&=b,m!==0?o=_a(m):a||(a=b&~e,a!==0&&(o=_a(a))))):(b=s&~u,b!==0?o=_a(b):m!==0?o=_a(m):a||(a=s&~e,a!==0&&(o=_a(a)))),o===0?0:t!==0&&t!==o&&(t&u)===0&&(u=o&-o,a=t&-t,u>=a||u===32&&(a&4194048)!==0)?t:o}function Ss(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function eo(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bi(){var e=xa;return xa<<=1,(xa&62914560)===0&&(xa=4194304),e}function rl(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function js(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function to(e,t,a,s,o,u){var m=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var b=e.entanglements,y=e.expirationTimes,T=e.hiddenUpdates;for(a=m&~a;0<a;){var z=31-ft(a),L=1<<z;b[z]=0,y[z]=-1;var A=T[z];if(A!==null)for(T[z]=null,z=0;z<A.length;z++){var D=A[z];D!==null&&(D.lane&=-536870913)}a&=~L}s!==0&&yi(e,s,0),u!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=u&~(m&~t))}function yi(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-ft(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|a&261930}function ol(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var s=31-ft(a),o=1<<s;o&t|e[s]&t&&(e[s]|=t),a&=~o}}function xi(e,t){var a=t&-t;return a=(a&42)!==0?1:ul(a),(a&(e.suspendedLanes|t))!==0?0:a}function ul(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function cl(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function _i(){var e=I.p;return e!==0?e:(e=window.event,e===void 0?32:C0(e.type))}function wi(e,t){var a=I.p;try{return I.p=e,t()}finally{I.p=a}}var na=Math.random().toString(36).slice(2),ye="__reactFiber$"+na,wt="__reactProps$"+na,Ka="__reactContainer$"+na,dl="__reactEvents$"+na,ao="__reactListeners$"+na,so="__reactHandles$"+na,Si="__reactResources$"+na,C="__reactMarker$"+na;function O(e){delete e[ye],delete e[wt],delete e[dl],delete e[ao],delete e[so]}function K(e){var t=e[ye];if(t)return t;for(var a=e.parentNode;a;){if(t=a[Ka]||a[ye]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=m0(e);e!==null;){if(a=e[ye])return a;e=m0(e)}return t}e=a,a=e.parentNode}return null}function G(e){if(e=e[ye]||e[Ka]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function P(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(r(33))}function se(e){var t=e[Si];return t||(t=e[Si]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function fe(e){e[C]=!0}var St=new Set,zt={};function qe(e,t){jt(e,t),jt(e+"Capture",t)}function jt(e,t){for(zt[e]=t,e=0;e<t.length;e++)St.add(t[e])}var Es=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),fa={},Bt={};function ji(e){return Ga.call(Bt,e)?!0:Ga.call(fa,e)?!1:Es.test(e)?Bt[e]=!0:(fa[e]=!0,!1)}function Ns(e,t,a){if(ji(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function mt(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function Pt(e,t,a,s){if(s===null)e.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+s)}}function Tt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function hl(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ei(e,t,a){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var o=s.get,u=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(m){a=""+m,u.call(this,m)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return a},setValue:function(m){a=""+m},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ln(e){if(!e._valueTracker){var t=hl(e)?"checked":"value";e._valueTracker=Ei(e,t,""+e[t])}}function fl(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),s="";return e&&(s=hl(e)?e.checked?"true":"false":e.value),e=s,e!==a?(t.setValue(e),!0):!1}function Ts(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ni=/[\n"\\]/g;function Xt(e){return e.replace(Ni,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function no(e,t,a,s,o,u,m,b){e.name="",m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"?e.type=m:e.removeAttribute("type"),t!=null?m==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Tt(t)):e.value!==""+Tt(t)&&(e.value=""+Tt(t)):m!=="submit"&&m!=="reset"||e.removeAttribute("value"),t!=null?lo(e,m,Tt(t)):a!=null?lo(e,m,Tt(a)):s!=null&&e.removeAttribute("value"),o==null&&u!=null&&(e.defaultChecked=!!u),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.name=""+Tt(b):e.removeAttribute("name")}function Fc(e,t,a,s,o,u,m,b){if(u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(e.type=u),t!=null||a!=null){if(!(u!=="submit"&&u!=="reset"||t!=null)){ln(e);return}a=a!=null?""+Tt(a):"",t=t!=null?""+Tt(t):a,b||t===e.value||(e.value=t),e.defaultValue=t}s=s??o,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=b?e.checked:!!s,e.defaultChecked=!!s,m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.name=m),ln(e)}function lo(e,t,a){t==="number"&&Ts(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function rn(e,t,a,s){if(e=e.options,t){t={};for(var o=0;o<a.length;o++)t["$"+a[o]]=!0;for(a=0;a<e.length;a++)o=t.hasOwnProperty("$"+e[a].value),e[a].selected!==o&&(e[a].selected=o),o&&s&&(e[a].defaultSelected=!0)}else{for(a=""+Tt(a),t=null,o=0;o<e.length;o++){if(e[o].value===a){e[o].selected=!0,s&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function ed(e,t,a){if(t!=null&&(t=""+Tt(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+Tt(a):""}function td(e,t,a,s){if(t==null){if(s!=null){if(a!=null)throw Error(r(92));if(Ke(s)){if(1<s.length)throw Error(r(93));s=s[0]}a=s}a==null&&(a=""),t=a}a=Tt(t),e.defaultValue=a,s=e.textContent,s===a&&s!==""&&s!==null&&(e.value=s),ln(e)}function on(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var lg=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ad(e,t,a){var s=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,a):typeof a!="number"||a===0||lg.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function sd(e,t,a){if(t!=null&&typeof t!="object")throw Error(r(62));if(e=e.style,a!=null){for(var s in a)!a.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var o in t)s=t[o],t.hasOwnProperty(o)&&a[o]!==s&&ad(e,o,s)}else for(var u in t)t.hasOwnProperty(u)&&ad(e,u,t[u])}function io(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ig=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),rg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ti(e){return rg.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function wa(){}var ro=null;function oo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var un=null,cn=null;function nd(e){var t=G(e);if(t&&(e=t.stateNode)){var a=e[wt]||null;e:switch(e=t.stateNode,t.type){case"input":if(no(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Xt(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var s=a[t];if(s!==e&&s.form===e.form){var o=s[wt]||null;if(!o)throw Error(r(90));no(s,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<a.length;t++)s=a[t],s.form===e.form&&fl(s)}break e;case"textarea":ed(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&rn(e,!!a.multiple,t,!1)}}}var uo=!1;function ld(e,t,a){if(uo)return e(t,a);uo=!0;try{var s=e(t);return s}finally{if(uo=!1,(un!==null||cn!==null)&&(mr(),un&&(t=un,e=cn,cn=un=null,nd(t),e)))for(t=0;t<e.length;t++)nd(e[t])}}function ml(e,t){var a=e.stateNode;if(a===null)return null;var s=a[wt]||null;if(s===null)return null;a=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,t,typeof a));return a}var Sa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),co=!1;if(Sa)try{var gl={};Object.defineProperty(gl,"passive",{get:function(){co=!0}}),window.addEventListener("test",gl,gl),window.removeEventListener("test",gl,gl)}catch{co=!1}var Ya=null,ho=null,Oi=null;function id(){if(Oi)return Oi;var e,t=ho,a=t.length,s,o="value"in Ya?Ya.value:Ya.textContent,u=o.length;for(e=0;e<a&&t[e]===o[e];e++);var m=a-e;for(s=1;s<=m&&t[a-s]===o[u-s];s++);return Oi=o.slice(e,1<s?1-s:void 0)}function Ai(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ci(){return!0}function rd(){return!1}function Ct(e){function t(a,s,o,u,m){this._reactName=a,this._targetInst=o,this.type=s,this.nativeEvent=u,this.target=m,this.currentTarget=null;for(var b in e)e.hasOwnProperty(b)&&(a=e[b],this[b]=a?a(u):u[b]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?Ci:rd,this.isPropagationStopped=rd,this}return S(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ci)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ci)},persist:function(){},isPersistent:Ci}),t}var Os={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ki=Ct(Os),pl=S({},Os,{view:0,detail:0}),og=Ct(pl),fo,mo,vl,Ri=S({},pl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:po,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==vl&&(vl&&e.type==="mousemove"?(fo=e.screenX-vl.screenX,mo=e.screenY-vl.screenY):mo=fo=0,vl=e),fo)},movementY:function(e){return"movementY"in e?e.movementY:mo}}),od=Ct(Ri),ug=S({},Ri,{dataTransfer:0}),cg=Ct(ug),dg=S({},pl,{relatedTarget:0}),go=Ct(dg),hg=S({},Os,{animationName:0,elapsedTime:0,pseudoElement:0}),fg=Ct(hg),mg=S({},Os,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),gg=Ct(mg),pg=S({},Os,{data:0}),ud=Ct(pg),vg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=yg[e])?!!t[e]:!1}function po(){return xg}var _g=S({},pl,{key:function(e){if(e.key){var t=vg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ai(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?bg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:po,charCode:function(e){return e.type==="keypress"?Ai(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ai(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),wg=Ct(_g),Sg=S({},Ri,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cd=Ct(Sg),jg=S({},pl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:po}),Eg=Ct(jg),Ng=S({},Os,{propertyName:0,elapsedTime:0,pseudoElement:0}),Tg=Ct(Ng),Og=S({},Ri,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ag=Ct(Og),Cg=S({},Os,{newState:0,oldState:0}),kg=Ct(Cg),Rg=[9,13,27,32],vo=Sa&&"CompositionEvent"in window,bl=null;Sa&&"documentMode"in document&&(bl=document.documentMode);var Ug=Sa&&"TextEvent"in window&&!bl,dd=Sa&&(!vo||bl&&8<bl&&11>=bl),hd=" ",fd=!1;function md(e,t){switch(e){case"keyup":return Rg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var dn=!1;function Mg(e,t){switch(e){case"compositionend":return gd(t);case"keypress":return t.which!==32?null:(fd=!0,hd);case"textInput":return e=t.data,e===hd&&fd?null:e;default:return null}}function Dg(e,t){if(dn)return e==="compositionend"||!vo&&md(e,t)?(e=id(),Oi=ho=Ya=null,dn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return dd&&t.locale!=="ko"?null:t.data;default:return null}}var zg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!zg[e.type]:t==="textarea"}function vd(e,t,a,s){un?cn?cn.push(s):cn=[s]:un=s,t=_r(t,"onChange"),0<t.length&&(a=new ki("onChange","change",null,a,s),e.push({event:a,listeners:t}))}var yl=null,xl=null;function Bg(e){e0(e,0)}function Ui(e){var t=P(e);if(fl(t))return e}function bd(e,t){if(e==="change")return t}var yd=!1;if(Sa){var bo;if(Sa){var yo="oninput"in document;if(!yo){var xd=document.createElement("div");xd.setAttribute("oninput","return;"),yo=typeof xd.oninput=="function"}bo=yo}else bo=!1;yd=bo&&(!document.documentMode||9<document.documentMode)}function _d(){yl&&(yl.detachEvent("onpropertychange",wd),xl=yl=null)}function wd(e){if(e.propertyName==="value"&&Ui(xl)){var t=[];vd(t,xl,e,oo(e)),ld(Bg,t)}}function qg(e,t,a){e==="focusin"?(_d(),yl=t,xl=a,yl.attachEvent("onpropertychange",wd)):e==="focusout"&&_d()}function Lg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ui(xl)}function $g(e,t){if(e==="click")return Ui(t)}function Hg(e,t){if(e==="input"||e==="change")return Ui(t)}function Gg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var qt=typeof Object.is=="function"?Object.is:Gg;function _l(e,t){if(qt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),s=Object.keys(t);if(a.length!==s.length)return!1;for(s=0;s<a.length;s++){var o=a[s];if(!Ga.call(t,o)||!qt(e[o],t[o]))return!1}return!0}function Sd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function jd(e,t){var a=Sd(e);e=0;for(var s;a;){if(a.nodeType===3){if(s=e+a.textContent.length,e<=t&&s>=t)return{node:a,offset:t-e};e=s}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Sd(a)}}function Ed(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ed(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Nd(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Ts(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=Ts(e.document)}return t}function xo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Vg=Sa&&"documentMode"in document&&11>=document.documentMode,hn=null,_o=null,wl=null,wo=!1;function Td(e,t,a){var s=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;wo||hn==null||hn!==Ts(s)||(s=hn,"selectionStart"in s&&xo(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),wl&&_l(wl,s)||(wl=s,s=_r(_o,"onSelect"),0<s.length&&(t=new ki("onSelect","select",null,t,a),e.push({event:t,listeners:s}),t.target=hn)))}function As(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var fn={animationend:As("Animation","AnimationEnd"),animationiteration:As("Animation","AnimationIteration"),animationstart:As("Animation","AnimationStart"),transitionrun:As("Transition","TransitionRun"),transitionstart:As("Transition","TransitionStart"),transitioncancel:As("Transition","TransitionCancel"),transitionend:As("Transition","TransitionEnd")},So={},Od={};Sa&&(Od=document.createElement("div").style,"AnimationEvent"in window||(delete fn.animationend.animation,delete fn.animationiteration.animation,delete fn.animationstart.animation),"TransitionEvent"in window||delete fn.transitionend.transition);function Cs(e){if(So[e])return So[e];if(!fn[e])return e;var t=fn[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in Od)return So[e]=t[a];return e}var Ad=Cs("animationend"),Cd=Cs("animationiteration"),kd=Cs("animationstart"),Kg=Cs("transitionrun"),Yg=Cs("transitionstart"),Ig=Cs("transitioncancel"),Rd=Cs("transitionend"),Ud=new Map,jo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");jo.push("scrollEnd");function la(e,t){Ud.set(e,t),qe(t,[e])}var Mi=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Jt=[],mn=0,Eo=0;function Di(){for(var e=mn,t=Eo=mn=0;t<e;){var a=Jt[t];Jt[t++]=null;var s=Jt[t];Jt[t++]=null;var o=Jt[t];Jt[t++]=null;var u=Jt[t];if(Jt[t++]=null,s!==null&&o!==null){var m=s.pending;m===null?o.next=o:(o.next=m.next,m.next=o),s.pending=o}u!==0&&Md(a,o,u)}}function zi(e,t,a,s){Jt[mn++]=e,Jt[mn++]=t,Jt[mn++]=a,Jt[mn++]=s,Eo|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function No(e,t,a,s){return zi(e,t,a,s),Bi(e)}function ks(e,t){return zi(e,null,null,t),Bi(e)}function Md(e,t,a){e.lanes|=a;var s=e.alternate;s!==null&&(s.lanes|=a);for(var o=!1,u=e.return;u!==null;)u.childLanes|=a,s=u.alternate,s!==null&&(s.childLanes|=a),u.tag===22&&(e=u.stateNode,e===null||e._visibility&1||(o=!0)),e=u,u=u.return;return e.tag===3?(u=e.stateNode,o&&t!==null&&(o=31-ft(a),e=u.hiddenUpdates,s=e[o],s===null?e[o]=[t]:s.push(t),t.lane=a|536870912),u):null}function Bi(e){if(50<Kl)throw Kl=0,Du=null,Error(r(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var gn={};function Qg(e,t,a,s){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lt(e,t,a,s){return new Qg(e,t,a,s)}function To(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ja(e,t){var a=e.alternate;return a===null?(a=Lt(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Dd(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function qi(e,t,a,s,o,u){var m=0;if(s=e,typeof e=="function")To(e)&&(m=1);else if(typeof e=="string")m=Wp(e,a,F.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case de:return e=Lt(31,a,t,o),e.elementType=de,e.lanes=u,e;case k:return Rs(a.children,o,u,t);case B:m=8,o|=24;break;case Y:return e=Lt(12,a,t,o|2),e.elementType=Y,e.lanes=u,e;case ge:return e=Lt(13,a,t,o),e.elementType=ge,e.lanes=u,e;case te:return e=Lt(19,a,t,o),e.elementType=te,e.lanes=u,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case H:m=10;break e;case V:m=9;break e;case X:m=11;break e;case Z:m=14;break e;case ce:m=16,s=null;break e}m=29,a=Error(r(130,e===null?"null":typeof e,"")),s=null}return t=Lt(m,a,t,o),t.elementType=e,t.type=s,t.lanes=u,t}function Rs(e,t,a,s){return e=Lt(7,e,s,t),e.lanes=a,e}function Oo(e,t,a){return e=Lt(6,e,null,t),e.lanes=a,e}function zd(e){var t=Lt(18,null,null,0);return t.stateNode=e,t}function Ao(e,t,a){return t=Lt(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Bd=new WeakMap;function Zt(e,t){if(typeof e=="object"&&e!==null){var a=Bd.get(e);return a!==void 0?a:(t={value:e,source:t,stack:_t(t)},Bd.set(e,t),t)}return{value:e,source:t,stack:_t(t)}}var pn=[],vn=0,Li=null,Sl=0,Wt=[],Ft=0,Ia=null,ma=1,ga="";function Ea(e,t){pn[vn++]=Sl,pn[vn++]=Li,Li=e,Sl=t}function qd(e,t,a){Wt[Ft++]=ma,Wt[Ft++]=ga,Wt[Ft++]=Ia,Ia=e;var s=ma;e=ga;var o=32-ft(s)-1;s&=~(1<<o),a+=1;var u=32-ft(t)+o;if(30<u){var m=o-o%5;u=(s&(1<<m)-1).toString(32),s>>=m,o-=m,ma=1<<32-ft(t)+o|a<<o|s,ga=u+e}else ma=1<<u|a<<o|s,ga=e}function Co(e){e.return!==null&&(Ea(e,1),qd(e,1,0))}function ko(e){for(;e===Li;)Li=pn[--vn],pn[vn]=null,Sl=pn[--vn],pn[vn]=null;for(;e===Ia;)Ia=Wt[--Ft],Wt[Ft]=null,ga=Wt[--Ft],Wt[Ft]=null,ma=Wt[--Ft],Wt[Ft]=null}function Ld(e,t){Wt[Ft++]=ma,Wt[Ft++]=ga,Wt[Ft++]=Ia,ma=t.id,ga=t.overflow,Ia=e}var gt=null,Ye=null,Te=!1,Qa=null,ea=!1,Ro=Error(r(519));function Pa(e){var t=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw jl(Zt(t,e)),Ro}function $d(e){var t=e.stateNode,a=e.type,s=e.memoizedProps;switch(t[ye]=e,t[wt]=s,a){case"dialog":Se("cancel",t),Se("close",t);break;case"iframe":case"object":case"embed":Se("load",t);break;case"video":case"audio":for(a=0;a<Il.length;a++)Se(Il[a],t);break;case"source":Se("error",t);break;case"img":case"image":case"link":Se("error",t),Se("load",t);break;case"details":Se("toggle",t);break;case"input":Se("invalid",t),Fc(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":Se("invalid",t);break;case"textarea":Se("invalid",t),td(t,s.value,s.defaultValue,s.children)}a=s.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||s.suppressHydrationWarning===!0||n0(t.textContent,a)?(s.popover!=null&&(Se("beforetoggle",t),Se("toggle",t)),s.onScroll!=null&&Se("scroll",t),s.onScrollEnd!=null&&Se("scrollend",t),s.onClick!=null&&(t.onclick=wa),t=!0):t=!1,t||Pa(e,!0)}function Hd(e){for(gt=e.return;gt;)switch(gt.tag){case 5:case 31:case 13:ea=!1;return;case 27:case 3:ea=!0;return;default:gt=gt.return}}function bn(e){if(e!==gt)return!1;if(!Te)return Hd(e),Te=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Ju(e.type,e.memoizedProps)),a=!a),a&&Ye&&Pa(e),Hd(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Ye=f0(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Ye=f0(e)}else t===27?(t=Ye,os(e.type)?(e=tc,tc=null,Ye=e):Ye=t):Ye=gt?aa(e.stateNode.nextSibling):null;return!0}function Us(){Ye=gt=null,Te=!1}function Uo(){var e=Qa;return e!==null&&(Mt===null?Mt=e:Mt.push.apply(Mt,e),Qa=null),e}function jl(e){Qa===null?Qa=[e]:Qa.push(e)}var Mo=w(null),Ms=null,Na=null;function Xa(e,t,a){J(Mo,t._currentValue),t._currentValue=a}function Ta(e){e._currentValue=Mo.current,$(Mo)}function Do(e,t,a){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===a)break;e=e.return}}function zo(e,t,a,s){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var u=o.dependencies;if(u!==null){var m=o.child;u=u.firstContext;e:for(;u!==null;){var b=u;u=o;for(var y=0;y<t.length;y++)if(b.context===t[y]){u.lanes|=a,b=u.alternate,b!==null&&(b.lanes|=a),Do(u.return,a,e),s||(m=null);break e}u=b.next}}else if(o.tag===18){if(m=o.return,m===null)throw Error(r(341));m.lanes|=a,u=m.alternate,u!==null&&(u.lanes|=a),Do(m,a,e),m=null}else m=o.child;if(m!==null)m.return=o;else for(m=o;m!==null;){if(m===e){m=null;break}if(o=m.sibling,o!==null){o.return=m.return,m=o;break}m=m.return}o=m}}function yn(e,t,a,s){e=null;for(var o=t,u=!1;o!==null;){if(!u){if((o.flags&524288)!==0)u=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var m=o.alternate;if(m===null)throw Error(r(387));if(m=m.memoizedProps,m!==null){var b=o.type;qt(o.pendingProps.value,m.value)||(e!==null?e.push(b):e=[b])}}else if(o===Ae.current){if(m=o.alternate,m===null)throw Error(r(387));m.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(Zl):e=[Zl])}o=o.return}e!==null&&zo(t,e,a,s),t.flags|=262144}function $i(e){for(e=e.firstContext;e!==null;){if(!qt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ds(e){Ms=e,Na=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function pt(e){return Gd(Ms,e)}function Hi(e,t){return Ms===null&&Ds(e),Gd(e,t)}function Gd(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},Na===null){if(e===null)throw Error(r(308));Na=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Na=Na.next=t;return a}var Pg=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},Xg=i.unstable_scheduleCallback,Jg=i.unstable_NormalPriority,at={$$typeof:H,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Bo(){return{controller:new Pg,data:new Map,refCount:0}}function El(e){e.refCount--,e.refCount===0&&Xg(Jg,function(){e.controller.abort()})}var Nl=null,qo=0,xn=0,_n=null;function Zg(e,t){if(Nl===null){var a=Nl=[];qo=0,xn=Hu(),_n={status:"pending",value:void 0,then:function(s){a.push(s)}}}return qo++,t.then(Vd,Vd),t}function Vd(){if(--qo===0&&Nl!==null){_n!==null&&(_n.status="fulfilled");var e=Nl;Nl=null,xn=0,_n=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Wg(e,t){var a=[],s={status:"pending",value:null,reason:null,then:function(o){a.push(o)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var o=0;o<a.length;o++)(0,a[o])(t)},function(o){for(s.status="rejected",s.reason=o,o=0;o<a.length;o++)(0,a[o])(void 0)}),s}var Kd=R.S;R.S=function(e,t){Of=At(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Zg(e,t),Kd!==null&&Kd(e,t)};var zs=w(null);function Lo(){var e=zs.current;return e!==null?e:Ge.pooledCache}function Gi(e,t){t===null?J(zs,zs.current):J(zs,t.pool)}function Yd(){var e=Lo();return e===null?null:{parent:at._currentValue,pool:e}}var wn=Error(r(460)),$o=Error(r(474)),Vi=Error(r(542)),Ki={then:function(){}};function Id(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Qd(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(wa,wa),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Xd(e),e;default:if(typeof t.status=="string")t.then(wa,wa);else{if(e=Ge,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=s}},function(s){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Xd(e),e}throw qs=t,wn}}function Bs(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(qs=a,wn):a}}var qs=null;function Pd(){if(qs===null)throw Error(r(459));var e=qs;return qs=null,e}function Xd(e){if(e===wn||e===Vi)throw Error(r(483))}var Sn=null,Tl=0;function Yi(e){var t=Tl;return Tl+=1,Sn===null&&(Sn=[]),Qd(Sn,e,t)}function Ol(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Ii(e,t){throw t.$$typeof===E?Error(r(525)):(e=Object.prototype.toString.call(t),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Jd(e){function t(j,_){if(e){var N=j.deletions;N===null?(j.deletions=[_],j.flags|=16):N.push(_)}}function a(j,_){if(!e)return null;for(;_!==null;)t(j,_),_=_.sibling;return null}function s(j){for(var _=new Map;j!==null;)j.key!==null?_.set(j.key,j):_.set(j.index,j),j=j.sibling;return _}function o(j,_){return j=ja(j,_),j.index=0,j.sibling=null,j}function u(j,_,N){return j.index=N,e?(N=j.alternate,N!==null?(N=N.index,N<_?(j.flags|=67108866,_):N):(j.flags|=67108866,_)):(j.flags|=1048576,_)}function m(j){return e&&j.alternate===null&&(j.flags|=67108866),j}function b(j,_,N,q){return _===null||_.tag!==6?(_=Oo(N,j.mode,q),_.return=j,_):(_=o(_,N),_.return=j,_)}function y(j,_,N,q){var ie=N.type;return ie===k?z(j,_,N.props.children,q,N.key):_!==null&&(_.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===ce&&Bs(ie)===_.type)?(_=o(_,N.props),Ol(_,N),_.return=j,_):(_=qi(N.type,N.key,N.props,null,j.mode,q),Ol(_,N),_.return=j,_)}function T(j,_,N,q){return _===null||_.tag!==4||_.stateNode.containerInfo!==N.containerInfo||_.stateNode.implementation!==N.implementation?(_=Ao(N,j.mode,q),_.return=j,_):(_=o(_,N.children||[]),_.return=j,_)}function z(j,_,N,q,ie){return _===null||_.tag!==7?(_=Rs(N,j.mode,q,ie),_.return=j,_):(_=o(_,N),_.return=j,_)}function L(j,_,N){if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return _=Oo(""+_,j.mode,N),_.return=j,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case U:return N=qi(_.type,_.key,_.props,null,j.mode,N),Ol(N,_),N.return=j,N;case M:return _=Ao(_,j.mode,N),_.return=j,_;case ce:return _=Bs(_),L(j,_,N)}if(Ke(_)||he(_))return _=Rs(_,j.mode,N,null),_.return=j,_;if(typeof _.then=="function")return L(j,Yi(_),N);if(_.$$typeof===H)return L(j,Hi(j,_),N);Ii(j,_)}return null}function A(j,_,N,q){var ie=_!==null?_.key:null;if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return ie!==null?null:b(j,_,""+N,q);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case U:return N.key===ie?y(j,_,N,q):null;case M:return N.key===ie?T(j,_,N,q):null;case ce:return N=Bs(N),A(j,_,N,q)}if(Ke(N)||he(N))return ie!==null?null:z(j,_,N,q,null);if(typeof N.then=="function")return A(j,_,Yi(N),q);if(N.$$typeof===H)return A(j,_,Hi(j,N),q);Ii(j,N)}return null}function D(j,_,N,q,ie){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return j=j.get(N)||null,b(_,j,""+q,ie);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case U:return j=j.get(q.key===null?N:q.key)||null,y(_,j,q,ie);case M:return j=j.get(q.key===null?N:q.key)||null,T(_,j,q,ie);case ce:return q=Bs(q),D(j,_,N,q,ie)}if(Ke(q)||he(q))return j=j.get(N)||null,z(_,j,q,ie,null);if(typeof q.then=="function")return D(j,_,N,Yi(q),ie);if(q.$$typeof===H)return D(j,_,N,Hi(_,q),ie);Ii(_,q)}return null}function W(j,_,N,q){for(var ie=null,Ce=null,ae=_,xe=_=0,Ne=null;ae!==null&&xe<N.length;xe++){ae.index>xe?(Ne=ae,ae=null):Ne=ae.sibling;var ke=A(j,ae,N[xe],q);if(ke===null){ae===null&&(ae=Ne);break}e&&ae&&ke.alternate===null&&t(j,ae),_=u(ke,_,xe),Ce===null?ie=ke:Ce.sibling=ke,Ce=ke,ae=Ne}if(xe===N.length)return a(j,ae),Te&&Ea(j,xe),ie;if(ae===null){for(;xe<N.length;xe++)ae=L(j,N[xe],q),ae!==null&&(_=u(ae,_,xe),Ce===null?ie=ae:Ce.sibling=ae,Ce=ae);return Te&&Ea(j,xe),ie}for(ae=s(ae);xe<N.length;xe++)Ne=D(ae,j,xe,N[xe],q),Ne!==null&&(e&&Ne.alternate!==null&&ae.delete(Ne.key===null?xe:Ne.key),_=u(Ne,_,xe),Ce===null?ie=Ne:Ce.sibling=Ne,Ce=Ne);return e&&ae.forEach(function(fs){return t(j,fs)}),Te&&Ea(j,xe),ie}function re(j,_,N,q){if(N==null)throw Error(r(151));for(var ie=null,Ce=null,ae=_,xe=_=0,Ne=null,ke=N.next();ae!==null&&!ke.done;xe++,ke=N.next()){ae.index>xe?(Ne=ae,ae=null):Ne=ae.sibling;var fs=A(j,ae,ke.value,q);if(fs===null){ae===null&&(ae=Ne);break}e&&ae&&fs.alternate===null&&t(j,ae),_=u(fs,_,xe),Ce===null?ie=fs:Ce.sibling=fs,Ce=fs,ae=Ne}if(ke.done)return a(j,ae),Te&&Ea(j,xe),ie;if(ae===null){for(;!ke.done;xe++,ke=N.next())ke=L(j,ke.value,q),ke!==null&&(_=u(ke,_,xe),Ce===null?ie=ke:Ce.sibling=ke,Ce=ke);return Te&&Ea(j,xe),ie}for(ae=s(ae);!ke.done;xe++,ke=N.next())ke=D(ae,j,xe,ke.value,q),ke!==null&&(e&&ke.alternate!==null&&ae.delete(ke.key===null?xe:ke.key),_=u(ke,_,xe),Ce===null?ie=ke:Ce.sibling=ke,Ce=ke);return e&&ae.forEach(function(uv){return t(j,uv)}),Te&&Ea(j,xe),ie}function He(j,_,N,q){if(typeof N=="object"&&N!==null&&N.type===k&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case U:e:{for(var ie=N.key;_!==null;){if(_.key===ie){if(ie=N.type,ie===k){if(_.tag===7){a(j,_.sibling),q=o(_,N.props.children),q.return=j,j=q;break e}}else if(_.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===ce&&Bs(ie)===_.type){a(j,_.sibling),q=o(_,N.props),Ol(q,N),q.return=j,j=q;break e}a(j,_);break}else t(j,_);_=_.sibling}N.type===k?(q=Rs(N.props.children,j.mode,q,N.key),q.return=j,j=q):(q=qi(N.type,N.key,N.props,null,j.mode,q),Ol(q,N),q.return=j,j=q)}return m(j);case M:e:{for(ie=N.key;_!==null;){if(_.key===ie)if(_.tag===4&&_.stateNode.containerInfo===N.containerInfo&&_.stateNode.implementation===N.implementation){a(j,_.sibling),q=o(_,N.children||[]),q.return=j,j=q;break e}else{a(j,_);break}else t(j,_);_=_.sibling}q=Ao(N,j.mode,q),q.return=j,j=q}return m(j);case ce:return N=Bs(N),He(j,_,N,q)}if(Ke(N))return W(j,_,N,q);if(he(N)){if(ie=he(N),typeof ie!="function")throw Error(r(150));return N=ie.call(N),re(j,_,N,q)}if(typeof N.then=="function")return He(j,_,Yi(N),q);if(N.$$typeof===H)return He(j,_,Hi(j,N),q);Ii(j,N)}return typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint"?(N=""+N,_!==null&&_.tag===6?(a(j,_.sibling),q=o(_,N),q.return=j,j=q):(a(j,_),q=Oo(N,j.mode,q),q.return=j,j=q),m(j)):a(j,_)}return function(j,_,N,q){try{Tl=0;var ie=He(j,_,N,q);return Sn=null,ie}catch(ae){if(ae===wn||ae===Vi)throw ae;var Ce=Lt(29,ae,null,j.mode);return Ce.lanes=q,Ce.return=j,Ce}finally{}}}var Ls=Jd(!0),Zd=Jd(!1),Ja=!1;function Ho(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Go(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Za(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Wa(e,t,a){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(Re&2)!==0){var o=s.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),s.pending=t,t=Bi(e),Md(e,null,a),t}return zi(e,s,t,a),Bi(e)}function Al(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var s=t.lanes;s&=e.pendingLanes,a|=s,t.lanes=a,ol(e,a)}}function Vo(e,t){var a=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,a===s)){var o=null,u=null;if(a=a.firstBaseUpdate,a!==null){do{var m={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};u===null?o=u=m:u=u.next=m,a=a.next}while(a!==null);u===null?o=u=t:u=u.next=t}else o=u=t;a={baseState:s.baseState,firstBaseUpdate:o,lastBaseUpdate:u,shared:s.shared,callbacks:s.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var Ko=!1;function Cl(){if(Ko){var e=_n;if(e!==null)throw e}}function kl(e,t,a,s){Ko=!1;var o=e.updateQueue;Ja=!1;var u=o.firstBaseUpdate,m=o.lastBaseUpdate,b=o.shared.pending;if(b!==null){o.shared.pending=null;var y=b,T=y.next;y.next=null,m===null?u=T:m.next=T,m=y;var z=e.alternate;z!==null&&(z=z.updateQueue,b=z.lastBaseUpdate,b!==m&&(b===null?z.firstBaseUpdate=T:b.next=T,z.lastBaseUpdate=y))}if(u!==null){var L=o.baseState;m=0,z=T=y=null,b=u;do{var A=b.lane&-536870913,D=A!==b.lane;if(D?(Ee&A)===A:(s&A)===A){A!==0&&A===xn&&(Ko=!0),z!==null&&(z=z.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var W=e,re=b;A=t;var He=a;switch(re.tag){case 1:if(W=re.payload,typeof W=="function"){L=W.call(He,L,A);break e}L=W;break e;case 3:W.flags=W.flags&-65537|128;case 0:if(W=re.payload,A=typeof W=="function"?W.call(He,L,A):W,A==null)break e;L=S({},L,A);break e;case 2:Ja=!0}}A=b.callback,A!==null&&(e.flags|=64,D&&(e.flags|=8192),D=o.callbacks,D===null?o.callbacks=[A]:D.push(A))}else D={lane:A,tag:b.tag,payload:b.payload,callback:b.callback,next:null},z===null?(T=z=D,y=L):z=z.next=D,m|=A;if(b=b.next,b===null){if(b=o.shared.pending,b===null)break;D=b,b=D.next,D.next=null,o.lastBaseUpdate=D,o.shared.pending=null}}while(!0);z===null&&(y=L),o.baseState=y,o.firstBaseUpdate=T,o.lastBaseUpdate=z,u===null&&(o.shared.lanes=0),ss|=m,e.lanes=m,e.memoizedState=L}}function Wd(e,t){if(typeof e!="function")throw Error(r(191,e));e.call(t)}function Fd(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Wd(a[e],t)}var jn=w(null),Qi=w(0);function eh(e,t){e=za,J(Qi,e),J(jn,t),za=e|t.baseLanes}function Yo(){J(Qi,za),J(jn,jn.current)}function Io(){za=Qi.current,$(jn),$(Qi)}var $t=w(null),ta=null;function Fa(e){var t=e.alternate;J(et,et.current&1),J($t,e),ta===null&&(t===null||jn.current!==null||t.memoizedState!==null)&&(ta=e)}function Qo(e){J(et,et.current),J($t,e),ta===null&&(ta=e)}function th(e){e.tag===22?(J(et,et.current),J($t,e),ta===null&&(ta=e)):es()}function es(){J(et,et.current),J($t,$t.current)}function Ht(e){$($t),ta===e&&(ta=null),$(et)}var et=w(0);function Pi(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Fu(a)||ec(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Oa=0,be=null,Le=null,st=null,Xi=!1,En=!1,$s=!1,Ji=0,Rl=0,Nn=null,Fg=0;function Ze(){throw Error(r(321))}function Po(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!qt(e[a],t[a]))return!1;return!0}function Xo(e,t,a,s,o,u){return Oa=u,be=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,R.H=e===null||e.memoizedState===null?qh:cu,$s=!1,u=a(s,o),$s=!1,En&&(u=sh(t,a,s,o)),ah(e),u}function ah(e){R.H=Dl;var t=Le!==null&&Le.next!==null;if(Oa=0,st=Le=be=null,Xi=!1,Rl=0,Nn=null,t)throw Error(r(300));e===null||nt||(e=e.dependencies,e!==null&&$i(e)&&(nt=!0))}function sh(e,t,a,s){be=e;var o=0;do{if(En&&(Nn=null),Rl=0,En=!1,25<=o)throw Error(r(301));if(o+=1,st=Le=null,e.updateQueue!=null){var u=e.updateQueue;u.lastEffect=null,u.events=null,u.stores=null,u.memoCache!=null&&(u.memoCache.index=0)}R.H=Lh,u=t(a,s)}while(En);return u}function ep(){var e=R.H,t=e.useState()[0];return t=typeof t.then=="function"?Ul(t):t,e=e.useState()[0],(Le!==null?Le.memoizedState:null)!==e&&(be.flags|=1024),t}function Jo(){var e=Ji!==0;return Ji=0,e}function Zo(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function Wo(e){if(Xi){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Xi=!1}Oa=0,st=Le=be=null,En=!1,Rl=Ji=0,Nn=null}function Ot(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return st===null?be.memoizedState=st=e:st=st.next=e,st}function tt(){if(Le===null){var e=be.alternate;e=e!==null?e.memoizedState:null}else e=Le.next;var t=st===null?be.memoizedState:st.next;if(t!==null)st=t,Le=e;else{if(e===null)throw be.alternate===null?Error(r(467)):Error(r(310));Le=e,e={memoizedState:Le.memoizedState,baseState:Le.baseState,baseQueue:Le.baseQueue,queue:Le.queue,next:null},st===null?be.memoizedState=st=e:st=st.next=e}return st}function Zi(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ul(e){var t=Rl;return Rl+=1,Nn===null&&(Nn=[]),e=Qd(Nn,e,t),t=be,(st===null?t.memoizedState:st.next)===null&&(t=t.alternate,R.H=t===null||t.memoizedState===null?qh:cu),e}function Wi(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ul(e);if(e.$$typeof===H)return pt(e)}throw Error(r(438,String(e)))}function Fo(e){var t=null,a=be.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var s=be.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=Zi(),be.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),s=0;s<e;s++)a[s]=je;return t.index++,a}function Aa(e,t){return typeof t=="function"?t(e):t}function Fi(e){var t=tt();return eu(t,Le,e)}function eu(e,t,a){var s=e.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=a;var o=e.baseQueue,u=s.pending;if(u!==null){if(o!==null){var m=o.next;o.next=u.next,u.next=m}t.baseQueue=o=u,s.pending=null}if(u=e.baseState,o===null)e.memoizedState=u;else{t=o.next;var b=m=null,y=null,T=t,z=!1;do{var L=T.lane&-536870913;if(L!==T.lane?(Ee&L)===L:(Oa&L)===L){var A=T.revertLane;if(A===0)y!==null&&(y=y.next={lane:0,revertLane:0,gesture:null,action:T.action,hasEagerState:T.hasEagerState,eagerState:T.eagerState,next:null}),L===xn&&(z=!0);else if((Oa&A)===A){T=T.next,A===xn&&(z=!0);continue}else L={lane:0,revertLane:T.revertLane,gesture:null,action:T.action,hasEagerState:T.hasEagerState,eagerState:T.eagerState,next:null},y===null?(b=y=L,m=u):y=y.next=L,be.lanes|=A,ss|=A;L=T.action,$s&&a(u,L),u=T.hasEagerState?T.eagerState:a(u,L)}else A={lane:L,revertLane:T.revertLane,gesture:T.gesture,action:T.action,hasEagerState:T.hasEagerState,eagerState:T.eagerState,next:null},y===null?(b=y=A,m=u):y=y.next=A,be.lanes|=L,ss|=L;T=T.next}while(T!==null&&T!==t);if(y===null?m=u:y.next=b,!qt(u,e.memoizedState)&&(nt=!0,z&&(a=_n,a!==null)))throw a;e.memoizedState=u,e.baseState=m,e.baseQueue=y,s.lastRenderedState=u}return o===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function tu(e){var t=tt(),a=t.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var s=a.dispatch,o=a.pending,u=t.memoizedState;if(o!==null){a.pending=null;var m=o=o.next;do u=e(u,m.action),m=m.next;while(m!==o);qt(u,t.memoizedState)||(nt=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),a.lastRenderedState=u}return[u,s]}function nh(e,t,a){var s=be,o=tt(),u=Te;if(u){if(a===void 0)throw Error(r(407));a=a()}else a=t();var m=!qt((Le||o).memoizedState,a);if(m&&(o.memoizedState=a,nt=!0),o=o.queue,nu(rh.bind(null,s,o,e),[e]),o.getSnapshot!==t||m||st!==null&&st.memoizedState.tag&1){if(s.flags|=2048,Tn(9,{destroy:void 0},ih.bind(null,s,o,a,t),null),Ge===null)throw Error(r(349));u||(Oa&127)!==0||lh(s,t,a)}return a}function lh(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=be.updateQueue,t===null?(t=Zi(),be.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function ih(e,t,a,s){t.value=a,t.getSnapshot=s,oh(t)&&uh(e)}function rh(e,t,a){return a(function(){oh(t)&&uh(e)})}function oh(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!qt(e,a)}catch{return!0}}function uh(e){var t=ks(e,2);t!==null&&Dt(t,e,2)}function au(e){var t=Ot();if(typeof e=="function"){var a=e;if(e=a(),$s){da(!0);try{a()}finally{da(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Aa,lastRenderedState:e},t}function ch(e,t,a,s){return e.baseState=a,eu(e,Le,typeof s=="function"?s:Aa)}function tp(e,t,a,s,o){if(ar(e))throw Error(r(485));if(e=t.action,e!==null){var u={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(m){u.listeners.push(m)}};R.T!==null?a(!0):u.isTransition=!1,s(u),a=t.pending,a===null?(u.next=t.pending=u,dh(t,u)):(u.next=a.next,t.pending=a.next=u)}}function dh(e,t){var a=t.action,s=t.payload,o=e.state;if(t.isTransition){var u=R.T,m={};R.T=m;try{var b=a(o,s),y=R.S;y!==null&&y(m,b),hh(e,t,b)}catch(T){su(e,t,T)}finally{u!==null&&m.types!==null&&(u.types=m.types),R.T=u}}else try{u=a(o,s),hh(e,t,u)}catch(T){su(e,t,T)}}function hh(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(s){fh(e,t,s)},function(s){return su(e,t,s)}):fh(e,t,a)}function fh(e,t,a){t.status="fulfilled",t.value=a,mh(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,dh(e,a)))}function su(e,t,a){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=a,mh(t),t=t.next;while(t!==s)}e.action=null}function mh(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function gh(e,t){return t}function ph(e,t){if(Te){var a=Ge.formState;if(a!==null){e:{var s=be;if(Te){if(Ye){t:{for(var o=Ye,u=ea;o.nodeType!==8;){if(!u){o=null;break t}if(o=aa(o.nextSibling),o===null){o=null;break t}}u=o.data,o=u==="F!"||u==="F"?o:null}if(o){Ye=aa(o.nextSibling),s=o.data==="F!";break e}}Pa(s)}s=!1}s&&(t=a[0])}}return a=Ot(),a.memoizedState=a.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gh,lastRenderedState:t},a.queue=s,a=Dh.bind(null,be,s),s.dispatch=a,s=au(!1),u=uu.bind(null,be,!1,s.queue),s=Ot(),o={state:t,dispatch:null,action:e,pending:null},s.queue=o,a=tp.bind(null,be,o,u,a),o.dispatch=a,s.memoizedState=e,[t,a,!1]}function vh(e){var t=tt();return bh(t,Le,e)}function bh(e,t,a){if(t=eu(e,t,gh)[0],e=Fi(Aa)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var s=Ul(t)}catch(m){throw m===wn?Vi:m}else s=t;t=tt();var o=t.queue,u=o.dispatch;return a!==t.memoizedState&&(be.flags|=2048,Tn(9,{destroy:void 0},ap.bind(null,o,a),null)),[s,u,e]}function ap(e,t){e.action=t}function yh(e){var t=tt(),a=Le;if(a!==null)return bh(t,a,e);tt(),t=t.memoizedState,a=tt();var s=a.queue.dispatch;return a.memoizedState=e,[t,s,!1]}function Tn(e,t,a,s){return e={tag:e,create:a,deps:s,inst:t,next:null},t=be.updateQueue,t===null&&(t=Zi(),be.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(s=a.next,a.next=e,e.next=s,t.lastEffect=e),e}function xh(){return tt().memoizedState}function er(e,t,a,s){var o=Ot();be.flags|=e,o.memoizedState=Tn(1|t,{destroy:void 0},a,s===void 0?null:s)}function tr(e,t,a,s){var o=tt();s=s===void 0?null:s;var u=o.memoizedState.inst;Le!==null&&s!==null&&Po(s,Le.memoizedState.deps)?o.memoizedState=Tn(t,u,a,s):(be.flags|=e,o.memoizedState=Tn(1|t,u,a,s))}function _h(e,t){er(8390656,8,e,t)}function nu(e,t){tr(2048,8,e,t)}function sp(e){be.flags|=4;var t=be.updateQueue;if(t===null)t=Zi(),be.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function wh(e){var t=tt().memoizedState;return sp({ref:t,nextImpl:e}),function(){if((Re&2)!==0)throw Error(r(440));return t.impl.apply(void 0,arguments)}}function Sh(e,t){return tr(4,2,e,t)}function jh(e,t){return tr(4,4,e,t)}function Eh(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Nh(e,t,a){a=a!=null?a.concat([e]):null,tr(4,4,Eh.bind(null,t,e),a)}function lu(){}function Th(e,t){var a=tt();t=t===void 0?null:t;var s=a.memoizedState;return t!==null&&Po(t,s[1])?s[0]:(a.memoizedState=[e,t],e)}function Oh(e,t){var a=tt();t=t===void 0?null:t;var s=a.memoizedState;if(t!==null&&Po(t,s[1]))return s[0];if(s=e(),$s){da(!0);try{e()}finally{da(!1)}}return a.memoizedState=[s,t],s}function iu(e,t,a){return a===void 0||(Oa&1073741824)!==0&&(Ee&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=Cf(),be.lanes|=e,ss|=e,a)}function Ah(e,t,a,s){return qt(a,t)?a:jn.current!==null?(e=iu(e,a,s),qt(e,t)||(nt=!0),e):(Oa&42)===0||(Oa&1073741824)!==0&&(Ee&261930)===0?(nt=!0,e.memoizedState=a):(e=Cf(),be.lanes|=e,ss|=e,t)}function Ch(e,t,a,s,o){var u=I.p;I.p=u!==0&&8>u?u:8;var m=R.T,b={};R.T=b,uu(e,!1,t,a);try{var y=o(),T=R.S;if(T!==null&&T(b,y),y!==null&&typeof y=="object"&&typeof y.then=="function"){var z=Wg(y,s);Ml(e,t,z,Kt(e))}else Ml(e,t,s,Kt(e))}catch(L){Ml(e,t,{then:function(){},status:"rejected",reason:L},Kt())}finally{I.p=u,m!==null&&b.types!==null&&(m.types=b.types),R.T=m}}function np(){}function ru(e,t,a,s){if(e.tag!==5)throw Error(r(476));var o=kh(e).queue;Ch(e,o,t,ne,a===null?np:function(){return Rh(e),a(s)})}function kh(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ne,baseState:ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Aa,lastRenderedState:ne},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Aa,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Rh(e){var t=kh(e);t.next===null&&(t=e.alternate.memoizedState),Ml(e,t.next.queue,{},Kt())}function ou(){return pt(Zl)}function Uh(){return tt().memoizedState}function Mh(){return tt().memoizedState}function lp(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=Kt();e=Za(a);var s=Wa(t,e,a);s!==null&&(Dt(s,t,a),Al(s,t,a)),t={cache:Bo()},e.payload=t;return}t=t.return}}function ip(e,t,a){var s=Kt();a={lane:s,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},ar(e)?zh(t,a):(a=No(e,t,a,s),a!==null&&(Dt(a,e,s),Bh(a,t,s)))}function Dh(e,t,a){var s=Kt();Ml(e,t,a,s)}function Ml(e,t,a,s){var o={lane:s,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(ar(e))zh(t,o);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var m=t.lastRenderedState,b=u(m,a);if(o.hasEagerState=!0,o.eagerState=b,qt(b,m))return zi(e,t,o,0),Ge===null&&Di(),!1}catch{}finally{}if(a=No(e,t,o,s),a!==null)return Dt(a,e,s),Bh(a,t,s),!0}return!1}function uu(e,t,a,s){if(s={lane:2,revertLane:Hu(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},ar(e)){if(t)throw Error(r(479))}else t=No(e,a,s,2),t!==null&&Dt(t,e,2)}function ar(e){var t=e.alternate;return e===be||t!==null&&t===be}function zh(e,t){En=Xi=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function Bh(e,t,a){if((a&4194048)!==0){var s=t.lanes;s&=e.pendingLanes,a|=s,t.lanes=a,ol(e,a)}}var Dl={readContext:pt,use:Wi,useCallback:Ze,useContext:Ze,useEffect:Ze,useImperativeHandle:Ze,useLayoutEffect:Ze,useInsertionEffect:Ze,useMemo:Ze,useReducer:Ze,useRef:Ze,useState:Ze,useDebugValue:Ze,useDeferredValue:Ze,useTransition:Ze,useSyncExternalStore:Ze,useId:Ze,useHostTransitionStatus:Ze,useFormState:Ze,useActionState:Ze,useOptimistic:Ze,useMemoCache:Ze,useCacheRefresh:Ze};Dl.useEffectEvent=Ze;var qh={readContext:pt,use:Wi,useCallback:function(e,t){return Ot().memoizedState=[e,t===void 0?null:t],e},useContext:pt,useEffect:_h,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,er(4194308,4,Eh.bind(null,t,e),a)},useLayoutEffect:function(e,t){return er(4194308,4,e,t)},useInsertionEffect:function(e,t){er(4,2,e,t)},useMemo:function(e,t){var a=Ot();t=t===void 0?null:t;var s=e();if($s){da(!0);try{e()}finally{da(!1)}}return a.memoizedState=[s,t],s},useReducer:function(e,t,a){var s=Ot();if(a!==void 0){var o=a(t);if($s){da(!0);try{a(t)}finally{da(!1)}}}else o=t;return s.memoizedState=s.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},s.queue=e,e=e.dispatch=ip.bind(null,be,e),[s.memoizedState,e]},useRef:function(e){var t=Ot();return e={current:e},t.memoizedState=e},useState:function(e){e=au(e);var t=e.queue,a=Dh.bind(null,be,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:lu,useDeferredValue:function(e,t){var a=Ot();return iu(a,e,t)},useTransition:function(){var e=au(!1);return e=Ch.bind(null,be,e.queue,!0,!1),Ot().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var s=be,o=Ot();if(Te){if(a===void 0)throw Error(r(407));a=a()}else{if(a=t(),Ge===null)throw Error(r(349));(Ee&127)!==0||lh(s,t,a)}o.memoizedState=a;var u={value:a,getSnapshot:t};return o.queue=u,_h(rh.bind(null,s,u,e),[e]),s.flags|=2048,Tn(9,{destroy:void 0},ih.bind(null,s,u,a,t),null),a},useId:function(){var e=Ot(),t=Ge.identifierPrefix;if(Te){var a=ga,s=ma;a=(s&~(1<<32-ft(s)-1)).toString(32)+a,t="_"+t+"R_"+a,a=Ji++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=Fg++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:ou,useFormState:ph,useActionState:ph,useOptimistic:function(e){var t=Ot();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=uu.bind(null,be,!0,a),a.dispatch=t,[e,t]},useMemoCache:Fo,useCacheRefresh:function(){return Ot().memoizedState=lp.bind(null,be)},useEffectEvent:function(e){var t=Ot(),a={impl:e};return t.memoizedState=a,function(){if((Re&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},cu={readContext:pt,use:Wi,useCallback:Th,useContext:pt,useEffect:nu,useImperativeHandle:Nh,useInsertionEffect:Sh,useLayoutEffect:jh,useMemo:Oh,useReducer:Fi,useRef:xh,useState:function(){return Fi(Aa)},useDebugValue:lu,useDeferredValue:function(e,t){var a=tt();return Ah(a,Le.memoizedState,e,t)},useTransition:function(){var e=Fi(Aa)[0],t=tt().memoizedState;return[typeof e=="boolean"?e:Ul(e),t]},useSyncExternalStore:nh,useId:Uh,useHostTransitionStatus:ou,useFormState:vh,useActionState:vh,useOptimistic:function(e,t){var a=tt();return ch(a,Le,e,t)},useMemoCache:Fo,useCacheRefresh:Mh};cu.useEffectEvent=wh;var Lh={readContext:pt,use:Wi,useCallback:Th,useContext:pt,useEffect:nu,useImperativeHandle:Nh,useInsertionEffect:Sh,useLayoutEffect:jh,useMemo:Oh,useReducer:tu,useRef:xh,useState:function(){return tu(Aa)},useDebugValue:lu,useDeferredValue:function(e,t){var a=tt();return Le===null?iu(a,e,t):Ah(a,Le.memoizedState,e,t)},useTransition:function(){var e=tu(Aa)[0],t=tt().memoizedState;return[typeof e=="boolean"?e:Ul(e),t]},useSyncExternalStore:nh,useId:Uh,useHostTransitionStatus:ou,useFormState:yh,useActionState:yh,useOptimistic:function(e,t){var a=tt();return Le!==null?ch(a,Le,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Fo,useCacheRefresh:Mh};Lh.useEffectEvent=wh;function du(e,t,a,s){t=e.memoizedState,a=a(s,t),a=a==null?t:S({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var hu={enqueueSetState:function(e,t,a){e=e._reactInternals;var s=Kt(),o=Za(s);o.payload=t,a!=null&&(o.callback=a),t=Wa(e,o,s),t!==null&&(Dt(t,e,s),Al(t,e,s))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var s=Kt(),o=Za(s);o.tag=1,o.payload=t,a!=null&&(o.callback=a),t=Wa(e,o,s),t!==null&&(Dt(t,e,s),Al(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=Kt(),s=Za(a);s.tag=2,t!=null&&(s.callback=t),t=Wa(e,s,a),t!==null&&(Dt(t,e,a),Al(t,e,a))}};function $h(e,t,a,s,o,u,m){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,u,m):t.prototype&&t.prototype.isPureReactComponent?!_l(a,s)||!_l(o,u):!0}function Hh(e,t,a,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,s),t.state!==e&&hu.enqueueReplaceState(t,t.state,null)}function Hs(e,t){var a=t;if("ref"in t){a={};for(var s in t)s!=="ref"&&(a[s]=t[s])}if(e=e.defaultProps){a===t&&(a=S({},a));for(var o in e)a[o]===void 0&&(a[o]=e[o])}return a}function Gh(e){Mi(e)}function Vh(e){console.error(e)}function Kh(e){Mi(e)}function sr(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function Yh(e,t,a){try{var s=e.onCaughtError;s(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function fu(e,t,a){return a=Za(a),a.tag=3,a.payload={element:null},a.callback=function(){sr(e,t)},a}function Ih(e){return e=Za(e),e.tag=3,e}function Qh(e,t,a,s){var o=a.type.getDerivedStateFromError;if(typeof o=="function"){var u=s.value;e.payload=function(){return o(u)},e.callback=function(){Yh(t,a,s)}}var m=a.stateNode;m!==null&&typeof m.componentDidCatch=="function"&&(e.callback=function(){Yh(t,a,s),typeof o!="function"&&(ns===null?ns=new Set([this]):ns.add(this));var b=s.stack;this.componentDidCatch(s.value,{componentStack:b!==null?b:""})})}function rp(e,t,a,s,o){if(a.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=a.alternate,t!==null&&yn(t,a,o,!0),a=$t.current,a!==null){switch(a.tag){case 31:case 13:return ta===null?gr():a.alternate===null&&We===0&&(We=3),a.flags&=-257,a.flags|=65536,a.lanes=o,s===Ki?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([s]):t.add(s),qu(e,s,o)),!1;case 22:return a.flags|=65536,s===Ki?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([s]):a.add(s)),qu(e,s,o)),!1}throw Error(r(435,a.tag))}return qu(e,s,o),gr(),!1}if(Te)return t=$t.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=o,s!==Ro&&(e=Error(r(422),{cause:s}),jl(Zt(e,a)))):(s!==Ro&&(t=Error(r(423),{cause:s}),jl(Zt(t,a))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,s=Zt(s,a),o=fu(e.stateNode,s,o),Vo(e,o),We!==4&&(We=2)),!1;var u=Error(r(520),{cause:s});if(u=Zt(u,a),Vl===null?Vl=[u]:Vl.push(u),We!==4&&(We=2),t===null)return!0;s=Zt(s,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=o&-o,a.lanes|=e,e=fu(a.stateNode,s,e),Vo(a,e),!1;case 1:if(t=a.type,u=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&(ns===null||!ns.has(u))))return a.flags|=65536,o&=-o,a.lanes|=o,o=Ih(o),Qh(o,e,a,s),Vo(a,o),!1}a=a.return}while(a!==null);return!1}var mu=Error(r(461)),nt=!1;function vt(e,t,a,s){t.child=e===null?Zd(t,null,a,s):Ls(t,e.child,a,s)}function Ph(e,t,a,s,o){a=a.render;var u=t.ref;if("ref"in s){var m={};for(var b in s)b!=="ref"&&(m[b]=s[b])}else m=s;return Ds(t),s=Xo(e,t,a,m,u,o),b=Jo(),e!==null&&!nt?(Zo(e,t,o),Ca(e,t,o)):(Te&&b&&Co(t),t.flags|=1,vt(e,t,s,o),t.child)}function Xh(e,t,a,s,o){if(e===null){var u=a.type;return typeof u=="function"&&!To(u)&&u.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=u,Jh(e,t,u,s,o)):(e=qi(a.type,null,s,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,!wu(e,o)){var m=u.memoizedProps;if(a=a.compare,a=a!==null?a:_l,a(m,s)&&e.ref===t.ref)return Ca(e,t,o)}return t.flags|=1,e=ja(u,s),e.ref=t.ref,e.return=t,t.child=e}function Jh(e,t,a,s,o){if(e!==null){var u=e.memoizedProps;if(_l(u,s)&&e.ref===t.ref)if(nt=!1,t.pendingProps=s=u,wu(e,o))(e.flags&131072)!==0&&(nt=!0);else return t.lanes=e.lanes,Ca(e,t,o)}return gu(e,t,a,s,o)}function Zh(e,t,a,s){var o=s.children,u=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((t.flags&128)!==0){if(u=u!==null?u.baseLanes|a:a,e!==null){for(s=t.child=e.child,o=0;s!==null;)o=o|s.lanes|s.childLanes,s=s.sibling;s=o&~u}else s=0,t.child=null;return Wh(e,t,u,a,s)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Gi(t,u!==null?u.cachePool:null),u!==null?eh(t,u):Yo(),th(t);else return s=t.lanes=536870912,Wh(e,t,u!==null?u.baseLanes|a:a,a,s)}else u!==null?(Gi(t,u.cachePool),eh(t,u),es(),t.memoizedState=null):(e!==null&&Gi(t,null),Yo(),es());return vt(e,t,o,a),t.child}function zl(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Wh(e,t,a,s,o){var u=Lo();return u=u===null?null:{parent:at._currentValue,pool:u},t.memoizedState={baseLanes:a,cachePool:u},e!==null&&Gi(t,null),Yo(),th(t),e!==null&&yn(e,t,s,!0),t.childLanes=o,null}function nr(e,t){return t=ir({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Fh(e,t,a){return Ls(t,e.child,null,a),e=nr(t,t.pendingProps),e.flags|=2,Ht(t),t.memoizedState=null,e}function op(e,t,a){var s=t.pendingProps,o=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Te){if(s.mode==="hidden")return e=nr(t,s),t.lanes=536870912,zl(null,e);if(Qo(t),(e=Ye)?(e=h0(e,ea),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ia!==null?{id:ma,overflow:ga}:null,retryLane:536870912,hydrationErrors:null},a=zd(e),a.return=t,t.child=a,gt=t,Ye=null)):e=null,e===null)throw Pa(t);return t.lanes=536870912,null}return nr(t,s)}var u=e.memoizedState;if(u!==null){var m=u.dehydrated;if(Qo(t),o)if(t.flags&256)t.flags&=-257,t=Fh(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(r(558));else if(nt||yn(e,t,a,!1),o=(a&e.childLanes)!==0,nt||o){if(s=Ge,s!==null&&(m=xi(s,a),m!==0&&m!==u.retryLane))throw u.retryLane=m,ks(e,m),Dt(s,e,m),mu;gr(),t=Fh(e,t,a)}else e=u.treeContext,Ye=aa(m.nextSibling),gt=t,Te=!0,Qa=null,ea=!1,e!==null&&Ld(t,e),t=nr(t,s),t.flags|=4096;return t}return e=ja(e.child,{mode:s.mode,children:s.children}),e.ref=t.ref,t.child=e,e.return=t,e}function lr(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function gu(e,t,a,s,o){return Ds(t),a=Xo(e,t,a,s,void 0,o),s=Jo(),e!==null&&!nt?(Zo(e,t,o),Ca(e,t,o)):(Te&&s&&Co(t),t.flags|=1,vt(e,t,a,o),t.child)}function ef(e,t,a,s,o,u){return Ds(t),t.updateQueue=null,a=sh(t,s,a,o),ah(e),s=Jo(),e!==null&&!nt?(Zo(e,t,u),Ca(e,t,u)):(Te&&s&&Co(t),t.flags|=1,vt(e,t,a,u),t.child)}function tf(e,t,a,s,o){if(Ds(t),t.stateNode===null){var u=gn,m=a.contextType;typeof m=="object"&&m!==null&&(u=pt(m)),u=new a(s,u),t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=hu,t.stateNode=u,u._reactInternals=t,u=t.stateNode,u.props=s,u.state=t.memoizedState,u.refs={},Ho(t),m=a.contextType,u.context=typeof m=="object"&&m!==null?pt(m):gn,u.state=t.memoizedState,m=a.getDerivedStateFromProps,typeof m=="function"&&(du(t,a,m,s),u.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(m=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),m!==u.state&&hu.enqueueReplaceState(u,u.state,null),kl(t,s,u,o),Cl(),u.state=t.memoizedState),typeof u.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){u=t.stateNode;var b=t.memoizedProps,y=Hs(a,b);u.props=y;var T=u.context,z=a.contextType;m=gn,typeof z=="object"&&z!==null&&(m=pt(z));var L=a.getDerivedStateFromProps;z=typeof L=="function"||typeof u.getSnapshotBeforeUpdate=="function",b=t.pendingProps!==b,z||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(b||T!==m)&&Hh(t,u,s,m),Ja=!1;var A=t.memoizedState;u.state=A,kl(t,s,u,o),Cl(),T=t.memoizedState,b||A!==T||Ja?(typeof L=="function"&&(du(t,a,L,s),T=t.memoizedState),(y=Ja||$h(t,a,y,s,A,T,m))?(z||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=T),u.props=s,u.state=T,u.context=m,s=y):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{u=t.stateNode,Go(e,t),m=t.memoizedProps,z=Hs(a,m),u.props=z,L=t.pendingProps,A=u.context,T=a.contextType,y=gn,typeof T=="object"&&T!==null&&(y=pt(T)),b=a.getDerivedStateFromProps,(T=typeof b=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(m!==L||A!==y)&&Hh(t,u,s,y),Ja=!1,A=t.memoizedState,u.state=A,kl(t,s,u,o),Cl();var D=t.memoizedState;m!==L||A!==D||Ja||e!==null&&e.dependencies!==null&&$i(e.dependencies)?(typeof b=="function"&&(du(t,a,b,s),D=t.memoizedState),(z=Ja||$h(t,a,z,s,A,D,y)||e!==null&&e.dependencies!==null&&$i(e.dependencies))?(T||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(s,D,y),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(s,D,y)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||m===e.memoizedProps&&A===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&A===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=D),u.props=s,u.state=D,u.context=y,s=z):(typeof u.componentDidUpdate!="function"||m===e.memoizedProps&&A===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&A===e.memoizedState||(t.flags|=1024),s=!1)}return u=s,lr(e,t),s=(t.flags&128)!==0,u||s?(u=t.stateNode,a=s&&typeof a.getDerivedStateFromError!="function"?null:u.render(),t.flags|=1,e!==null&&s?(t.child=Ls(t,e.child,null,o),t.child=Ls(t,null,a,o)):vt(e,t,a,o),t.memoizedState=u.state,e=t.child):e=Ca(e,t,o),e}function af(e,t,a,s){return Us(),t.flags|=256,vt(e,t,a,s),t.child}var pu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function vu(e){return{baseLanes:e,cachePool:Yd()}}function bu(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=Vt),e}function sf(e,t,a){var s=t.pendingProps,o=!1,u=(t.flags&128)!==0,m;if((m=u)||(m=e!==null&&e.memoizedState===null?!1:(et.current&2)!==0),m&&(o=!0,t.flags&=-129),m=(t.flags&32)!==0,t.flags&=-33,e===null){if(Te){if(o?Fa(t):es(),(e=Ye)?(e=h0(e,ea),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ia!==null?{id:ma,overflow:ga}:null,retryLane:536870912,hydrationErrors:null},a=zd(e),a.return=t,t.child=a,gt=t,Ye=null)):e=null,e===null)throw Pa(t);return ec(e)?t.lanes=32:t.lanes=536870912,null}var b=s.children;return s=s.fallback,o?(es(),o=t.mode,b=ir({mode:"hidden",children:b},o),s=Rs(s,o,a,null),b.return=t,s.return=t,b.sibling=s,t.child=b,s=t.child,s.memoizedState=vu(a),s.childLanes=bu(e,m,a),t.memoizedState=pu,zl(null,s)):(Fa(t),yu(t,b))}var y=e.memoizedState;if(y!==null&&(b=y.dehydrated,b!==null)){if(u)t.flags&256?(Fa(t),t.flags&=-257,t=xu(e,t,a)):t.memoizedState!==null?(es(),t.child=e.child,t.flags|=128,t=null):(es(),b=s.fallback,o=t.mode,s=ir({mode:"visible",children:s.children},o),b=Rs(b,o,a,null),b.flags|=2,s.return=t,b.return=t,s.sibling=b,t.child=s,Ls(t,e.child,null,a),s=t.child,s.memoizedState=vu(a),s.childLanes=bu(e,m,a),t.memoizedState=pu,t=zl(null,s));else if(Fa(t),ec(b)){if(m=b.nextSibling&&b.nextSibling.dataset,m)var T=m.dgst;m=T,s=Error(r(419)),s.stack="",s.digest=m,jl({value:s,source:null,stack:null}),t=xu(e,t,a)}else if(nt||yn(e,t,a,!1),m=(a&e.childLanes)!==0,nt||m){if(m=Ge,m!==null&&(s=xi(m,a),s!==0&&s!==y.retryLane))throw y.retryLane=s,ks(e,s),Dt(m,e,s),mu;Fu(b)||gr(),t=xu(e,t,a)}else Fu(b)?(t.flags|=192,t.child=e.child,t=null):(e=y.treeContext,Ye=aa(b.nextSibling),gt=t,Te=!0,Qa=null,ea=!1,e!==null&&Ld(t,e),t=yu(t,s.children),t.flags|=4096);return t}return o?(es(),b=s.fallback,o=t.mode,y=e.child,T=y.sibling,s=ja(y,{mode:"hidden",children:s.children}),s.subtreeFlags=y.subtreeFlags&65011712,T!==null?b=ja(T,b):(b=Rs(b,o,a,null),b.flags|=2),b.return=t,s.return=t,s.sibling=b,t.child=s,zl(null,s),s=t.child,b=e.child.memoizedState,b===null?b=vu(a):(o=b.cachePool,o!==null?(y=at._currentValue,o=o.parent!==y?{parent:y,pool:y}:o):o=Yd(),b={baseLanes:b.baseLanes|a,cachePool:o}),s.memoizedState=b,s.childLanes=bu(e,m,a),t.memoizedState=pu,zl(e.child,s)):(Fa(t),a=e.child,e=a.sibling,a=ja(a,{mode:"visible",children:s.children}),a.return=t,a.sibling=null,e!==null&&(m=t.deletions,m===null?(t.deletions=[e],t.flags|=16):m.push(e)),t.child=a,t.memoizedState=null,a)}function yu(e,t){return t=ir({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function ir(e,t){return e=Lt(22,e,null,t),e.lanes=0,e}function xu(e,t,a){return Ls(t,e.child,null,a),e=yu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function nf(e,t,a){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Do(e.return,t,a)}function _u(e,t,a,s,o,u){var m=e.memoizedState;m===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:a,tailMode:o,treeForkCount:u}:(m.isBackwards=t,m.rendering=null,m.renderingStartTime=0,m.last=s,m.tail=a,m.tailMode=o,m.treeForkCount=u)}function lf(e,t,a){var s=t.pendingProps,o=s.revealOrder,u=s.tail;s=s.children;var m=et.current,b=(m&2)!==0;if(b?(m=m&1|2,t.flags|=128):m&=1,J(et,m),vt(e,t,s,a),s=Te?Sl:0,!b&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&nf(e,a,t);else if(e.tag===19)nf(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(o){case"forwards":for(a=t.child,o=null;a!==null;)e=a.alternate,e!==null&&Pi(e)===null&&(o=a),a=a.sibling;a=o,a===null?(o=t.child,t.child=null):(o=a.sibling,a.sibling=null),_u(t,!1,o,a,u,s);break;case"backwards":case"unstable_legacy-backwards":for(a=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Pi(e)===null){t.child=o;break}e=o.sibling,o.sibling=a,a=o,o=e}_u(t,!0,a,null,u,s);break;case"together":_u(t,!1,null,null,void 0,s);break;default:t.memoizedState=null}return t.child}function Ca(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),ss|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(yn(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(r(153));if(t.child!==null){for(e=t.child,a=ja(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=ja(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function wu(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&$i(e)))}function up(e,t,a){switch(t.tag){case 3:dt(t,t.stateNode.containerInfo),Xa(t,at,e.memoizedState.cache),Us();break;case 27:case 5:vs(t);break;case 4:dt(t,t.stateNode.containerInfo);break;case 10:Xa(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Qo(t),null;break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?(Fa(t),t.flags|=128,null):(a&t.child.childLanes)!==0?sf(e,t,a):(Fa(t),e=Ca(e,t,a),e!==null?e.sibling:null);Fa(t);break;case 19:var o=(e.flags&128)!==0;if(s=(a&t.childLanes)!==0,s||(yn(e,t,a,!1),s=(a&t.childLanes)!==0),o){if(s)return lf(e,t,a);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),J(et,et.current),s)break;return null;case 22:return t.lanes=0,Zh(e,t,a,t.pendingProps);case 24:Xa(t,at,e.memoizedState.cache)}return Ca(e,t,a)}function rf(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)nt=!0;else{if(!wu(e,a)&&(t.flags&128)===0)return nt=!1,up(e,t,a);nt=(e.flags&131072)!==0}else nt=!1,Te&&(t.flags&1048576)!==0&&qd(t,Sl,t.index);switch(t.lanes=0,t.tag){case 16:e:{var s=t.pendingProps;if(e=Bs(t.elementType),t.type=e,typeof e=="function")To(e)?(s=Hs(e,s),t.tag=1,t=tf(null,t,e,s,a)):(t.tag=0,t=gu(null,t,e,s,a));else{if(e!=null){var o=e.$$typeof;if(o===X){t.tag=11,t=Ph(null,t,e,s,a);break e}else if(o===Z){t.tag=14,t=Xh(null,t,e,s,a);break e}}throw t=Qe(e)||e,Error(r(306,t,""))}}return t;case 0:return gu(e,t,t.type,t.pendingProps,a);case 1:return s=t.type,o=Hs(s,t.pendingProps),tf(e,t,s,o,a);case 3:e:{if(dt(t,t.stateNode.containerInfo),e===null)throw Error(r(387));s=t.pendingProps;var u=t.memoizedState;o=u.element,Go(e,t),kl(t,s,null,a);var m=t.memoizedState;if(s=m.cache,Xa(t,at,s),s!==u.cache&&zo(t,[at],a,!0),Cl(),s=m.element,u.isDehydrated)if(u={element:s,isDehydrated:!1,cache:m.cache},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){t=af(e,t,s,a);break e}else if(s!==o){o=Zt(Error(r(424)),t),jl(o),t=af(e,t,s,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ye=aa(e.firstChild),gt=t,Te=!0,Qa=null,ea=!0,a=Zd(t,null,s,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Us(),s===o){t=Ca(e,t,a);break e}vt(e,t,s,a)}t=t.child}return t;case 26:return lr(e,t),e===null?(a=b0(t.type,null,t.pendingProps,null))?t.memoizedState=a:Te||(a=t.type,e=t.pendingProps,s=wr(_e.current).createElement(a),s[ye]=t,s[wt]=e,bt(s,a,e),fe(s),t.stateNode=s):t.memoizedState=b0(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return vs(t),e===null&&Te&&(s=t.stateNode=g0(t.type,t.pendingProps,_e.current),gt=t,ea=!0,o=Ye,os(t.type)?(tc=o,Ye=aa(s.firstChild)):Ye=o),vt(e,t,t.pendingProps.children,a),lr(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Te&&((o=s=Ye)&&(s=Lp(s,t.type,t.pendingProps,ea),s!==null?(t.stateNode=s,gt=t,Ye=aa(s.firstChild),ea=!1,o=!0):o=!1),o||Pa(t)),vs(t),o=t.type,u=t.pendingProps,m=e!==null?e.memoizedProps:null,s=u.children,Ju(o,u)?s=null:m!==null&&Ju(o,m)&&(t.flags|=32),t.memoizedState!==null&&(o=Xo(e,t,ep,null,null,a),Zl._currentValue=o),lr(e,t),vt(e,t,s,a),t.child;case 6:return e===null&&Te&&((e=a=Ye)&&(a=$p(a,t.pendingProps,ea),a!==null?(t.stateNode=a,gt=t,Ye=null,e=!0):e=!1),e||Pa(t)),null;case 13:return sf(e,t,a);case 4:return dt(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Ls(t,null,s,a):vt(e,t,s,a),t.child;case 11:return Ph(e,t,t.type,t.pendingProps,a);case 7:return vt(e,t,t.pendingProps,a),t.child;case 8:return vt(e,t,t.pendingProps.children,a),t.child;case 12:return vt(e,t,t.pendingProps.children,a),t.child;case 10:return s=t.pendingProps,Xa(t,t.type,s.value),vt(e,t,s.children,a),t.child;case 9:return o=t.type._context,s=t.pendingProps.children,Ds(t),o=pt(o),s=s(o),t.flags|=1,vt(e,t,s,a),t.child;case 14:return Xh(e,t,t.type,t.pendingProps,a);case 15:return Jh(e,t,t.type,t.pendingProps,a);case 19:return lf(e,t,a);case 31:return op(e,t,a);case 22:return Zh(e,t,a,t.pendingProps);case 24:return Ds(t),s=pt(at),e===null?(o=Lo(),o===null&&(o=Ge,u=Bo(),o.pooledCache=u,u.refCount++,u!==null&&(o.pooledCacheLanes|=a),o=u),t.memoizedState={parent:s,cache:o},Ho(t),Xa(t,at,o)):((e.lanes&a)!==0&&(Go(e,t),kl(t,null,null,a),Cl()),o=e.memoizedState,u=t.memoizedState,o.parent!==s?(o={parent:s,cache:s},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),Xa(t,at,s)):(s=u.cache,Xa(t,at,s),s!==o.cache&&zo(t,[at],a,!0))),vt(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function ka(e){e.flags|=4}function Su(e,t,a,s,o){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(o&335544128)===o)if(e.stateNode.complete)e.flags|=8192;else if(Mf())e.flags|=8192;else throw qs=Ki,$o}else e.flags&=-16777217}function of(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!S0(t))if(Mf())e.flags|=8192;else throw qs=Ki,$o}function rr(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?bi():536870912,e.lanes|=t,kn|=t)}function Bl(e,t){if(!Te)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var s=null;a!==null;)a.alternate!==null&&(s=a),a=a.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Ie(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,s=0;if(t)for(var o=e.child;o!==null;)a|=o.lanes|o.childLanes,s|=o.subtreeFlags&65011712,s|=o.flags&65011712,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)a|=o.lanes|o.childLanes,s|=o.subtreeFlags,s|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=s,e.childLanes=a,t}function cp(e,t,a){var s=t.pendingProps;switch(ko(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ie(t),null;case 1:return Ie(t),null;case 3:return a=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),Ta(at),Pe(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(bn(t)?ka(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Uo())),Ie(t),null;case 26:var o=t.type,u=t.memoizedState;return e===null?(ka(t),u!==null?(Ie(t),of(t,u)):(Ie(t),Su(t,o,null,s,a))):u?u!==e.memoizedState?(ka(t),Ie(t),of(t,u)):(Ie(t),t.flags&=-16777217):(e=e.memoizedProps,e!==s&&ka(t),Ie(t),Su(t,o,e,s,a)),null;case 27:if(bs(t),a=_e.current,o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&ka(t);else{if(!s){if(t.stateNode===null)throw Error(r(166));return Ie(t),null}e=F.current,bn(t)?$d(t):(e=g0(o,s,a),t.stateNode=e,ka(t))}return Ie(t),null;case 5:if(bs(t),o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&ka(t);else{if(!s){if(t.stateNode===null)throw Error(r(166));return Ie(t),null}if(u=F.current,bn(t))$d(t);else{var m=wr(_e.current);switch(u){case 1:u=m.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:u=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":u=m.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":u=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":u=m.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u=typeof s.is=="string"?m.createElement("select",{is:s.is}):m.createElement("select"),s.multiple?u.multiple=!0:s.size&&(u.size=s.size);break;default:u=typeof s.is=="string"?m.createElement(o,{is:s.is}):m.createElement(o)}}u[ye]=t,u[wt]=s;e:for(m=t.child;m!==null;){if(m.tag===5||m.tag===6)u.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}t.stateNode=u;e:switch(bt(u,o,s),o){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&ka(t)}}return Ie(t),Su(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&ka(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error(r(166));if(e=_e.current,bn(t)){if(e=t.stateNode,a=t.memoizedProps,s=null,o=gt,o!==null)switch(o.tag){case 27:case 5:s=o.memoizedProps}e[ye]=t,e=!!(e.nodeValue===a||s!==null&&s.suppressHydrationWarning===!0||n0(e.nodeValue,a)),e||Pa(t,!0)}else e=wr(e).createTextNode(s),e[ye]=t,t.stateNode=e}return Ie(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(s=bn(t),a!==null){if(e===null){if(!s)throw Error(r(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[ye]=t}else Us(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ie(t),e=!1}else a=Uo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(Ht(t),t):(Ht(t),null);if((t.flags&128)!==0)throw Error(r(558))}return Ie(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=bn(t),s!==null&&s.dehydrated!==null){if(e===null){if(!o)throw Error(r(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));o[ye]=t}else Us(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ie(t),o=!1}else o=Uo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return t.flags&256?(Ht(t),t):(Ht(t),null)}return Ht(t),(t.flags&128)!==0?(t.lanes=a,t):(a=s!==null,e=e!==null&&e.memoizedState!==null,a&&(s=t.child,o=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(o=s.alternate.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),rr(t,t.updateQueue),Ie(t),null);case 4:return Pe(),e===null&&Yu(t.stateNode.containerInfo),Ie(t),null;case 10:return Ta(t.type),Ie(t),null;case 19:if($(et),s=t.memoizedState,s===null)return Ie(t),null;if(o=(t.flags&128)!==0,u=s.rendering,u===null)if(o)Bl(s,!1);else{if(We!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(u=Pi(e),u!==null){for(t.flags|=128,Bl(s,!1),e=u.updateQueue,t.updateQueue=e,rr(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)Dd(a,e),a=a.sibling;return J(et,et.current&1|2),Te&&Ea(t,s.treeForkCount),t.child}e=e.sibling}s.tail!==null&&At()>hr&&(t.flags|=128,o=!0,Bl(s,!1),t.lanes=4194304)}else{if(!o)if(e=Pi(u),e!==null){if(t.flags|=128,o=!0,e=e.updateQueue,t.updateQueue=e,rr(t,e),Bl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!u.alternate&&!Te)return Ie(t),null}else 2*At()-s.renderingStartTime>hr&&a!==536870912&&(t.flags|=128,o=!0,Bl(s,!1),t.lanes=4194304);s.isBackwards?(u.sibling=t.child,t.child=u):(e=s.last,e!==null?e.sibling=u:t.child=u,s.last=u)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=At(),e.sibling=null,a=et.current,J(et,o?a&1|2:a&1),Te&&Ea(t,s.treeForkCount),e):(Ie(t),null);case 22:case 23:return Ht(t),Io(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?(a&536870912)!==0&&(t.flags&128)===0&&(Ie(t),t.subtreeFlags&6&&(t.flags|=8192)):Ie(t),a=t.updateQueue,a!==null&&rr(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==a&&(t.flags|=2048),e!==null&&$(zs),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Ta(at),Ie(t),null;case 25:return null;case 30:return null}throw Error(r(156,t.tag))}function dp(e,t){switch(ko(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ta(at),Pe(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return bs(t),null;case 31:if(t.memoizedState!==null){if(Ht(t),t.alternate===null)throw Error(r(340));Us()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Ht(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(r(340));Us()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return $(et),null;case 4:return Pe(),null;case 10:return Ta(t.type),null;case 22:case 23:return Ht(t),Io(),e!==null&&$(zs),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Ta(at),null;case 25:return null;default:return null}}function uf(e,t){switch(ko(t),t.tag){case 3:Ta(at),Pe();break;case 26:case 27:case 5:bs(t);break;case 4:Pe();break;case 31:t.memoizedState!==null&&Ht(t);break;case 13:Ht(t);break;case 19:$(et);break;case 10:Ta(t.type);break;case 22:case 23:Ht(t),Io(),e!==null&&$(zs);break;case 24:Ta(at)}}function ql(e,t){try{var a=t.updateQueue,s=a!==null?a.lastEffect:null;if(s!==null){var o=s.next;a=o;do{if((a.tag&e)===e){s=void 0;var u=a.create,m=a.inst;s=u(),m.destroy=s}a=a.next}while(a!==o)}}catch(b){De(t,t.return,b)}}function ts(e,t,a){try{var s=t.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var u=o.next;s=u;do{if((s.tag&e)===e){var m=s.inst,b=m.destroy;if(b!==void 0){m.destroy=void 0,o=t;var y=a,T=b;try{T()}catch(z){De(o,y,z)}}}s=s.next}while(s!==u)}}catch(z){De(t,t.return,z)}}function cf(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{Fd(t,a)}catch(s){De(e,e.return,s)}}}function df(e,t,a){a.props=Hs(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(s){De(e,t,s)}}function Ll(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof a=="function"?e.refCleanup=a(s):a.current=s}}catch(o){De(e,t,o)}}function pa(e,t){var a=e.ref,s=e.refCleanup;if(a!==null)if(typeof s=="function")try{s()}catch(o){De(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(o){De(e,t,o)}else a.current=null}function hf(e){var t=e.type,a=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&s.focus();break e;case"img":a.src?s.src=a.src:a.srcSet&&(s.srcset=a.srcSet)}}catch(o){De(e,e.return,o)}}function ju(e,t,a){try{var s=e.stateNode;Up(s,e.type,a,t),s[wt]=t}catch(o){De(e,e.return,o)}}function ff(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&os(e.type)||e.tag===4}function Eu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ff(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&os(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Nu(e,t,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=wa));else if(s!==4&&(s===27&&os(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(Nu(e,t,a),e=e.sibling;e!==null;)Nu(e,t,a),e=e.sibling}function or(e,t,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(s!==4&&(s===27&&os(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(or(e,t,a),e=e.sibling;e!==null;)or(e,t,a),e=e.sibling}function mf(e){var t=e.stateNode,a=e.memoizedProps;try{for(var s=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);bt(t,s,a),t[ye]=e,t[wt]=a}catch(u){De(e,e.return,u)}}var Ra=!1,lt=!1,Tu=!1,gf=typeof WeakSet=="function"?WeakSet:Set,ut=null;function hp(e,t){if(e=e.containerInfo,Pu=Ar,e=Nd(e),xo(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var s=a.getSelection&&a.getSelection();if(s&&s.rangeCount!==0){a=s.anchorNode;var o=s.anchorOffset,u=s.focusNode;s=s.focusOffset;try{a.nodeType,u.nodeType}catch{a=null;break e}var m=0,b=-1,y=-1,T=0,z=0,L=e,A=null;t:for(;;){for(var D;L!==a||o!==0&&L.nodeType!==3||(b=m+o),L!==u||s!==0&&L.nodeType!==3||(y=m+s),L.nodeType===3&&(m+=L.nodeValue.length),(D=L.firstChild)!==null;)A=L,L=D;for(;;){if(L===e)break t;if(A===a&&++T===o&&(b=m),A===u&&++z===s&&(y=m),(D=L.nextSibling)!==null)break;L=A,A=L.parentNode}L=D}a=b===-1||y===-1?null:{start:b,end:y}}else a=null}a=a||{start:0,end:0}}else a=null;for(Xu={focusedElem:e,selectionRange:a},Ar=!1,ut=t;ut!==null;)if(t=ut,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ut=e;else for(;ut!==null;){switch(t=ut,u=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)o=e[a],o.ref.impl=o.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&u!==null){e=void 0,a=t,o=u.memoizedProps,u=u.memoizedState,s=a.stateNode;try{var W=Hs(a.type,o);e=s.getSnapshotBeforeUpdate(W,u),s.__reactInternalSnapshotBeforeUpdate=e}catch(re){De(a,a.return,re)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)Wu(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Wu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=t.sibling,e!==null){e.return=t.return,ut=e;break}ut=t.return}}function pf(e,t,a){var s=a.flags;switch(a.tag){case 0:case 11:case 15:Ma(e,a),s&4&&ql(5,a);break;case 1:if(Ma(e,a),s&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(m){De(a,a.return,m)}else{var o=Hs(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(m){De(a,a.return,m)}}s&64&&cf(a),s&512&&Ll(a,a.return);break;case 3:if(Ma(e,a),s&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Fd(e,t)}catch(m){De(a,a.return,m)}}break;case 27:t===null&&s&4&&mf(a);case 26:case 5:Ma(e,a),t===null&&s&4&&hf(a),s&512&&Ll(a,a.return);break;case 12:Ma(e,a);break;case 31:Ma(e,a),s&4&&yf(e,a);break;case 13:Ma(e,a),s&4&&xf(e,a),s&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=_p.bind(null,a),Hp(e,a))));break;case 22:if(s=a.memoizedState!==null||Ra,!s){t=t!==null&&t.memoizedState!==null||lt,o=Ra;var u=lt;Ra=s,(lt=t)&&!u?Da(e,a,(a.subtreeFlags&8772)!==0):Ma(e,a),Ra=o,lt=u}break;case 30:break;default:Ma(e,a)}}function vf(e){var t=e.alternate;t!==null&&(e.alternate=null,vf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&O(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Xe=null,kt=!1;function Ua(e,t,a){for(a=a.child;a!==null;)bf(e,t,a),a=a.sibling}function bf(e,t,a){if(Nt&&typeof Nt.onCommitFiberUnmount=="function")try{Nt.onCommitFiberUnmount(ws,a)}catch{}switch(a.tag){case 26:lt||pa(a,t),Ua(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:lt||pa(a,t);var s=Xe,o=kt;os(a.type)&&(Xe=a.stateNode,kt=!1),Ua(e,t,a),Pl(a.stateNode),Xe=s,kt=o;break;case 5:lt||pa(a,t);case 6:if(s=Xe,o=kt,Xe=null,Ua(e,t,a),Xe=s,kt=o,Xe!==null)if(kt)try{(Xe.nodeType===9?Xe.body:Xe.nodeName==="HTML"?Xe.ownerDocument.body:Xe).removeChild(a.stateNode)}catch(u){De(a,t,u)}else try{Xe.removeChild(a.stateNode)}catch(u){De(a,t,u)}break;case 18:Xe!==null&&(kt?(e=Xe,c0(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Ln(e)):c0(Xe,a.stateNode));break;case 4:s=Xe,o=kt,Xe=a.stateNode.containerInfo,kt=!0,Ua(e,t,a),Xe=s,kt=o;break;case 0:case 11:case 14:case 15:ts(2,a,t),lt||ts(4,a,t),Ua(e,t,a);break;case 1:lt||(pa(a,t),s=a.stateNode,typeof s.componentWillUnmount=="function"&&df(a,t,s)),Ua(e,t,a);break;case 21:Ua(e,t,a);break;case 22:lt=(s=lt)||a.memoizedState!==null,Ua(e,t,a),lt=s;break;default:Ua(e,t,a)}}function yf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ln(e)}catch(a){De(t,t.return,a)}}}function xf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ln(e)}catch(a){De(t,t.return,a)}}function fp(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new gf),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new gf),t;default:throw Error(r(435,e.tag))}}function ur(e,t){var a=fp(e);t.forEach(function(s){if(!a.has(s)){a.add(s);var o=wp.bind(null,e,s);s.then(o,o)}})}function Rt(e,t){var a=t.deletions;if(a!==null)for(var s=0;s<a.length;s++){var o=a[s],u=e,m=t,b=m;e:for(;b!==null;){switch(b.tag){case 27:if(os(b.type)){Xe=b.stateNode,kt=!1;break e}break;case 5:Xe=b.stateNode,kt=!1;break e;case 3:case 4:Xe=b.stateNode.containerInfo,kt=!0;break e}b=b.return}if(Xe===null)throw Error(r(160));bf(u,m,o),Xe=null,kt=!1,u=o.alternate,u!==null&&(u.return=null),o.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)_f(t,e),t=t.sibling}var ia=null;function _f(e,t){var a=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Rt(t,e),Ut(e),s&4&&(ts(3,e,e.return),ql(3,e),ts(5,e,e.return));break;case 1:Rt(t,e),Ut(e),s&512&&(lt||a===null||pa(a,a.return)),s&64&&Ra&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?s:a.concat(s))));break;case 26:var o=ia;if(Rt(t,e),Ut(e),s&512&&(lt||a===null||pa(a,a.return)),s&4){var u=a!==null?a.memoizedState:null;if(s=e.memoizedState,a===null)if(s===null)if(e.stateNode===null){e:{s=e.type,a=e.memoizedProps,o=o.ownerDocument||o;t:switch(s){case"title":u=o.getElementsByTagName("title")[0],(!u||u[C]||u[ye]||u.namespaceURI==="http://www.w3.org/2000/svg"||u.hasAttribute("itemprop"))&&(u=o.createElement(s),o.head.insertBefore(u,o.querySelector("head > title"))),bt(u,s,a),u[ye]=e,fe(u),s=u;break e;case"link":var m=_0("link","href",o).get(s+(a.href||""));if(m){for(var b=0;b<m.length;b++)if(u=m[b],u.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&u.getAttribute("rel")===(a.rel==null?null:a.rel)&&u.getAttribute("title")===(a.title==null?null:a.title)&&u.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){m.splice(b,1);break t}}u=o.createElement(s),bt(u,s,a),o.head.appendChild(u);break;case"meta":if(m=_0("meta","content",o).get(s+(a.content||""))){for(b=0;b<m.length;b++)if(u=m[b],u.getAttribute("content")===(a.content==null?null:""+a.content)&&u.getAttribute("name")===(a.name==null?null:a.name)&&u.getAttribute("property")===(a.property==null?null:a.property)&&u.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&u.getAttribute("charset")===(a.charSet==null?null:a.charSet)){m.splice(b,1);break t}}u=o.createElement(s),bt(u,s,a),o.head.appendChild(u);break;default:throw Error(r(468,s))}u[ye]=e,fe(u),s=u}e.stateNode=s}else w0(o,e.type,e.stateNode);else e.stateNode=x0(o,s,e.memoizedProps);else u!==s?(u===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):u.count--,s===null?w0(o,e.type,e.stateNode):x0(o,s,e.memoizedProps)):s===null&&e.stateNode!==null&&ju(e,e.memoizedProps,a.memoizedProps)}break;case 27:Rt(t,e),Ut(e),s&512&&(lt||a===null||pa(a,a.return)),a!==null&&s&4&&ju(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Rt(t,e),Ut(e),s&512&&(lt||a===null||pa(a,a.return)),e.flags&32){o=e.stateNode;try{on(o,"")}catch(W){De(e,e.return,W)}}s&4&&e.stateNode!=null&&(o=e.memoizedProps,ju(e,o,a!==null?a.memoizedProps:o)),s&1024&&(Tu=!0);break;case 6:if(Rt(t,e),Ut(e),s&4){if(e.stateNode===null)throw Error(r(162));s=e.memoizedProps,a=e.stateNode;try{a.nodeValue=s}catch(W){De(e,e.return,W)}}break;case 3:if(Er=null,o=ia,ia=Sr(t.containerInfo),Rt(t,e),ia=o,Ut(e),s&4&&a!==null&&a.memoizedState.isDehydrated)try{Ln(t.containerInfo)}catch(W){De(e,e.return,W)}Tu&&(Tu=!1,wf(e));break;case 4:s=ia,ia=Sr(e.stateNode.containerInfo),Rt(t,e),Ut(e),ia=s;break;case 12:Rt(t,e),Ut(e);break;case 31:Rt(t,e),Ut(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,ur(e,s)));break;case 13:Rt(t,e),Ut(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(dr=At()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,ur(e,s)));break;case 22:o=e.memoizedState!==null;var y=a!==null&&a.memoizedState!==null,T=Ra,z=lt;if(Ra=T||o,lt=z||y,Rt(t,e),lt=z,Ra=T,Ut(e),s&8192)e:for(t=e.stateNode,t._visibility=o?t._visibility&-2:t._visibility|1,o&&(a===null||y||Ra||lt||Gs(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){y=a=t;try{if(u=y.stateNode,o)m=u.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{b=y.stateNode;var L=y.memoizedProps.style,A=L!=null&&L.hasOwnProperty("display")?L.display:null;b.style.display=A==null||typeof A=="boolean"?"":(""+A).trim()}}catch(W){De(y,y.return,W)}}}else if(t.tag===6){if(a===null){y=t;try{y.stateNode.nodeValue=o?"":y.memoizedProps}catch(W){De(y,y.return,W)}}}else if(t.tag===18){if(a===null){y=t;try{var D=y.stateNode;o?d0(D,!0):d0(y.stateNode,!1)}catch(W){De(y,y.return,W)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(a=s.retryQueue,a!==null&&(s.retryQueue=null,ur(e,a))));break;case 19:Rt(t,e),Ut(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,ur(e,s)));break;case 30:break;case 21:break;default:Rt(t,e),Ut(e)}}function Ut(e){var t=e.flags;if(t&2){try{for(var a,s=e.return;s!==null;){if(ff(s)){a=s;break}s=s.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var o=a.stateNode,u=Eu(e);or(e,u,o);break;case 5:var m=a.stateNode;a.flags&32&&(on(m,""),a.flags&=-33);var b=Eu(e);or(e,b,m);break;case 3:case 4:var y=a.stateNode.containerInfo,T=Eu(e);Nu(e,T,y);break;default:throw Error(r(161))}}catch(z){De(e,e.return,z)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function wf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;wf(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Ma(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)pf(e,t.alternate,t),t=t.sibling}function Gs(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ts(4,t,t.return),Gs(t);break;case 1:pa(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&df(t,t.return,a),Gs(t);break;case 27:Pl(t.stateNode);case 26:case 5:pa(t,t.return),Gs(t);break;case 22:t.memoizedState===null&&Gs(t);break;case 30:Gs(t);break;default:Gs(t)}e=e.sibling}}function Da(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,o=e,u=t,m=u.flags;switch(u.tag){case 0:case 11:case 15:Da(o,u,a),ql(4,u);break;case 1:if(Da(o,u,a),s=u,o=s.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(T){De(s,s.return,T)}if(s=u,o=s.updateQueue,o!==null){var b=s.stateNode;try{var y=o.shared.hiddenCallbacks;if(y!==null)for(o.shared.hiddenCallbacks=null,o=0;o<y.length;o++)Wd(y[o],b)}catch(T){De(s,s.return,T)}}a&&m&64&&cf(u),Ll(u,u.return);break;case 27:mf(u);case 26:case 5:Da(o,u,a),a&&s===null&&m&4&&hf(u),Ll(u,u.return);break;case 12:Da(o,u,a);break;case 31:Da(o,u,a),a&&m&4&&yf(o,u);break;case 13:Da(o,u,a),a&&m&4&&xf(o,u);break;case 22:u.memoizedState===null&&Da(o,u,a),Ll(u,u.return);break;case 30:break;default:Da(o,u,a)}t=t.sibling}}function Ou(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&El(a))}function Au(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&El(e))}function ra(e,t,a,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Sf(e,t,a,s),t=t.sibling}function Sf(e,t,a,s){var o=t.flags;switch(t.tag){case 0:case 11:case 15:ra(e,t,a,s),o&2048&&ql(9,t);break;case 1:ra(e,t,a,s);break;case 3:ra(e,t,a,s),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&El(e)));break;case 12:if(o&2048){ra(e,t,a,s),e=t.stateNode;try{var u=t.memoizedProps,m=u.id,b=u.onPostCommit;typeof b=="function"&&b(m,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(y){De(t,t.return,y)}}else ra(e,t,a,s);break;case 31:ra(e,t,a,s);break;case 13:ra(e,t,a,s);break;case 23:break;case 22:u=t.stateNode,m=t.alternate,t.memoizedState!==null?u._visibility&2?ra(e,t,a,s):$l(e,t):u._visibility&2?ra(e,t,a,s):(u._visibility|=2,On(e,t,a,s,(t.subtreeFlags&10256)!==0||!1)),o&2048&&Ou(m,t);break;case 24:ra(e,t,a,s),o&2048&&Au(t.alternate,t);break;default:ra(e,t,a,s)}}function On(e,t,a,s,o){for(o=o&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var u=e,m=t,b=a,y=s,T=m.flags;switch(m.tag){case 0:case 11:case 15:On(u,m,b,y,o),ql(8,m);break;case 23:break;case 22:var z=m.stateNode;m.memoizedState!==null?z._visibility&2?On(u,m,b,y,o):$l(u,m):(z._visibility|=2,On(u,m,b,y,o)),o&&T&2048&&Ou(m.alternate,m);break;case 24:On(u,m,b,y,o),o&&T&2048&&Au(m.alternate,m);break;default:On(u,m,b,y,o)}t=t.sibling}}function $l(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,s=t,o=s.flags;switch(s.tag){case 22:$l(a,s),o&2048&&Ou(s.alternate,s);break;case 24:$l(a,s),o&2048&&Au(s.alternate,s);break;default:$l(a,s)}t=t.sibling}}var Hl=8192;function An(e,t,a){if(e.subtreeFlags&Hl)for(e=e.child;e!==null;)jf(e,t,a),e=e.sibling}function jf(e,t,a){switch(e.tag){case 26:An(e,t,a),e.flags&Hl&&e.memoizedState!==null&&Fp(a,ia,e.memoizedState,e.memoizedProps);break;case 5:An(e,t,a);break;case 3:case 4:var s=ia;ia=Sr(e.stateNode.containerInfo),An(e,t,a),ia=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=Hl,Hl=16777216,An(e,t,a),Hl=s):An(e,t,a));break;default:An(e,t,a)}}function Ef(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Gl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var s=t[a];ut=s,Tf(s,e)}Ef(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Nf(e),e=e.sibling}function Nf(e){switch(e.tag){case 0:case 11:case 15:Gl(e),e.flags&2048&&ts(9,e,e.return);break;case 3:Gl(e);break;case 12:Gl(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,cr(e)):Gl(e);break;default:Gl(e)}}function cr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var s=t[a];ut=s,Tf(s,e)}Ef(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:ts(8,t,t.return),cr(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,cr(t));break;default:cr(t)}e=e.sibling}}function Tf(e,t){for(;ut!==null;){var a=ut;switch(a.tag){case 0:case 11:case 15:ts(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var s=a.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:El(a.memoizedState.cache)}if(s=a.child,s!==null)s.return=a,ut=s;else e:for(a=e;ut!==null;){s=ut;var o=s.sibling,u=s.return;if(vf(s),s===a){ut=null;break e}if(o!==null){o.return=u,ut=o;break e}ut=u}}}var mp={getCacheForType:function(e){var t=pt(at),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return pt(at).controller.signal}},gp=typeof WeakMap=="function"?WeakMap:Map,Re=0,Ge=null,we=null,Ee=0,Me=0,Gt=null,as=!1,Cn=!1,Cu=!1,za=0,We=0,ss=0,Vs=0,ku=0,Vt=0,kn=0,Vl=null,Mt=null,Ru=!1,dr=0,Of=0,hr=1/0,fr=null,ns=null,rt=0,ls=null,Rn=null,Ba=0,Uu=0,Mu=null,Af=null,Kl=0,Du=null;function Kt(){return(Re&2)!==0&&Ee!==0?Ee&-Ee:R.T!==null?Hu():_i()}function Cf(){if(Vt===0)if((Ee&536870912)===0||Te){var e=ha;ha<<=1,(ha&3932160)===0&&(ha=262144),Vt=e}else Vt=536870912;return e=$t.current,e!==null&&(e.flags|=32),Vt}function Dt(e,t,a){(e===Ge&&(Me===2||Me===9)||e.cancelPendingCommit!==null)&&(Un(e,0),is(e,Ee,Vt,!1)),js(e,a),((Re&2)===0||e!==Ge)&&(e===Ge&&((Re&2)===0&&(Vs|=a),We===4&&is(e,Ee,Vt,!1)),va(e))}function kf(e,t,a){if((Re&6)!==0)throw Error(r(327));var s=!a&&(t&127)===0&&(t&e.expiredLanes)===0||Ss(e,t),o=s?bp(e,t):Bu(e,t,!0),u=s;do{if(o===0){Cn&&!s&&is(e,t,0,!1);break}else{if(a=e.current.alternate,u&&!pp(a)){o=Bu(e,t,!1),u=!1;continue}if(o===2){if(u=t,e.errorRecoveryDisabledLanes&u)var m=0;else m=e.pendingLanes&-536870913,m=m!==0?m:m&536870912?536870912:0;if(m!==0){t=m;e:{var b=e;o=Vl;var y=b.current.memoizedState.isDehydrated;if(y&&(Un(b,m).flags|=256),m=Bu(b,m,!1),m!==2){if(Cu&&!y){b.errorRecoveryDisabledLanes|=u,Vs|=u,o=4;break e}u=Mt,Mt=o,u!==null&&(Mt===null?Mt=u:Mt.push.apply(Mt,u))}o=m}if(u=!1,o!==2)continue}}if(o===1){Un(e,0),is(e,t,0,!0);break}e:{switch(s=e,u=o,u){case 0:case 1:throw Error(r(345));case 4:if((t&4194048)!==t)break;case 6:is(s,t,Vt,!as);break e;case 2:Mt=null;break;case 3:case 5:break;default:throw Error(r(329))}if((t&62914560)===t&&(o=dr+300-At(),10<o)){if(is(s,t,Vt,!as),nn(s,0,!0)!==0)break e;Ba=t,s.timeoutHandle=o0(Rf.bind(null,s,a,Mt,fr,Ru,t,Vt,Vs,kn,as,u,"Throttled",-0,0),o);break e}Rf(s,a,Mt,fr,Ru,t,Vt,Vs,kn,as,u,null,-0,0)}}break}while(!0);va(e)}function Rf(e,t,a,s,o,u,m,b,y,T,z,L,A,D){if(e.timeoutHandle=-1,L=t.subtreeFlags,L&8192||(L&16785408)===16785408){L={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:wa},jf(t,u,L);var W=(u&62914560)===u?dr-At():(u&4194048)===u?Of-At():0;if(W=ev(L,W),W!==null){Ba=u,e.cancelPendingCommit=W($f.bind(null,e,t,u,a,s,o,m,b,y,z,L,null,A,D)),is(e,u,m,!T);return}}$f(e,t,u,a,s,o,m,b,y)}function pp(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var s=0;s<a.length;s++){var o=a[s],u=o.getSnapshot;o=o.value;try{if(!qt(u(),o))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function is(e,t,a,s){t&=~ku,t&=~Vs,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var o=t;0<o;){var u=31-ft(o),m=1<<u;s[u]=-1,o&=~m}a!==0&&yi(e,a,t)}function mr(){return(Re&6)===0?(Yl(0),!1):!0}function zu(){if(we!==null){if(Me===0)var e=we.return;else e=we,Na=Ms=null,Wo(e),Sn=null,Tl=0,e=we;for(;e!==null;)uf(e.alternate,e),e=e.return;we=null}}function Un(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,zp(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Ba=0,zu(),Ge=e,we=a=ja(e.current,null),Ee=t,Me=0,Gt=null,as=!1,Cn=Ss(e,t),Cu=!1,kn=Vt=ku=Vs=ss=We=0,Mt=Vl=null,Ru=!1,(t&8)!==0&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var o=31-ft(s),u=1<<o;t|=e[o],s&=~u}return za=t,Di(),a}function Uf(e,t){be=null,R.H=Dl,t===wn||t===Vi?(t=Pd(),Me=3):t===$o?(t=Pd(),Me=4):Me=t===mu?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Gt=t,we===null&&(We=1,sr(e,Zt(t,e.current)))}function Mf(){var e=$t.current;return e===null?!0:(Ee&4194048)===Ee?ta===null:(Ee&62914560)===Ee||(Ee&536870912)!==0?e===ta:!1}function Df(){var e=R.H;return R.H=Dl,e===null?Dl:e}function zf(){var e=R.A;return R.A=mp,e}function gr(){We=4,as||(Ee&4194048)!==Ee&&$t.current!==null||(Cn=!0),(ss&134217727)===0&&(Vs&134217727)===0||Ge===null||is(Ge,Ee,Vt,!1)}function Bu(e,t,a){var s=Re;Re|=2;var o=Df(),u=zf();(Ge!==e||Ee!==t)&&(fr=null,Un(e,t)),t=!1;var m=We;e:do try{if(Me!==0&&we!==null){var b=we,y=Gt;switch(Me){case 8:zu(),m=6;break e;case 3:case 2:case 9:case 6:$t.current===null&&(t=!0);var T=Me;if(Me=0,Gt=null,Mn(e,b,y,T),a&&Cn){m=0;break e}break;default:T=Me,Me=0,Gt=null,Mn(e,b,y,T)}}vp(),m=We;break}catch(z){Uf(e,z)}while(!0);return t&&e.shellSuspendCounter++,Na=Ms=null,Re=s,R.H=o,R.A=u,we===null&&(Ge=null,Ee=0,Di()),m}function vp(){for(;we!==null;)Bf(we)}function bp(e,t){var a=Re;Re|=2;var s=Df(),o=zf();Ge!==e||Ee!==t?(fr=null,hr=At()+500,Un(e,t)):Cn=Ss(e,t);e:do try{if(Me!==0&&we!==null){t=we;var u=Gt;t:switch(Me){case 1:Me=0,Gt=null,Mn(e,t,u,1);break;case 2:case 9:if(Id(u)){Me=0,Gt=null,qf(t);break}t=function(){Me!==2&&Me!==9||Ge!==e||(Me=7),va(e)},u.then(t,t);break e;case 3:Me=7;break e;case 4:Me=5;break e;case 7:Id(u)?(Me=0,Gt=null,qf(t)):(Me=0,Gt=null,Mn(e,t,u,7));break;case 5:var m=null;switch(we.tag){case 26:m=we.memoizedState;case 5:case 27:var b=we;if(m?S0(m):b.stateNode.complete){Me=0,Gt=null;var y=b.sibling;if(y!==null)we=y;else{var T=b.return;T!==null?(we=T,pr(T)):we=null}break t}}Me=0,Gt=null,Mn(e,t,u,5);break;case 6:Me=0,Gt=null,Mn(e,t,u,6);break;case 8:zu(),We=6;break e;default:throw Error(r(462))}}yp();break}catch(z){Uf(e,z)}while(!0);return Na=Ms=null,R.H=s,R.A=o,Re=a,we!==null?0:(Ge=null,Ee=0,Di(),We)}function yp(){for(;we!==null&&!pi();)Bf(we)}function Bf(e){var t=rf(e.alternate,e,za);e.memoizedProps=e.pendingProps,t===null?pr(e):we=t}function qf(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=ef(a,t,t.pendingProps,t.type,void 0,Ee);break;case 11:t=ef(a,t,t.pendingProps,t.type.render,t.ref,Ee);break;case 5:Wo(t);default:uf(a,t),t=we=Dd(t,za),t=rf(a,t,za)}e.memoizedProps=e.pendingProps,t===null?pr(e):we=t}function Mn(e,t,a,s){Na=Ms=null,Wo(t),Sn=null,Tl=0;var o=t.return;try{if(rp(e,o,t,a,Ee)){We=1,sr(e,Zt(a,e.current)),we=null;return}}catch(u){if(o!==null)throw we=o,u;We=1,sr(e,Zt(a,e.current)),we=null;return}t.flags&32768?(Te||s===1?e=!0:Cn||(Ee&536870912)!==0?e=!1:(as=e=!0,(s===2||s===9||s===3||s===6)&&(s=$t.current,s!==null&&s.tag===13&&(s.flags|=16384))),Lf(t,e)):pr(t)}function pr(e){var t=e;do{if((t.flags&32768)!==0){Lf(t,as);return}e=t.return;var a=cp(t.alternate,t,za);if(a!==null){we=a;return}if(t=t.sibling,t!==null){we=t;return}we=t=e}while(t!==null);We===0&&(We=5)}function Lf(e,t){do{var a=dp(e.alternate,e);if(a!==null){a.flags&=32767,we=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){we=e;return}we=e=a}while(e!==null);We=6,we=null}function $f(e,t,a,s,o,u,m,b,y){e.cancelPendingCommit=null;do vr();while(rt!==0);if((Re&6)!==0)throw Error(r(327));if(t!==null){if(t===e.current)throw Error(r(177));if(u=t.lanes|t.childLanes,u|=Eo,to(e,a,u,m,b,y),e===Ge&&(we=Ge=null,Ee=0),Rn=t,ls=e,Ba=a,Uu=u,Mu=o,Af=s,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Sp(xs,function(){return Yf(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||s){s=R.T,R.T=null,o=I.p,I.p=2,m=Re,Re|=4;try{hp(e,t,a)}finally{Re=m,I.p=o,R.T=s}}rt=1,Hf(),Gf(),Vf()}}function Hf(){if(rt===1){rt=0;var e=ls,t=Rn,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=R.T,R.T=null;var s=I.p;I.p=2;var o=Re;Re|=4;try{_f(t,e);var u=Xu,m=Nd(e.containerInfo),b=u.focusedElem,y=u.selectionRange;if(m!==b&&b&&b.ownerDocument&&Ed(b.ownerDocument.documentElement,b)){if(y!==null&&xo(b)){var T=y.start,z=y.end;if(z===void 0&&(z=T),"selectionStart"in b)b.selectionStart=T,b.selectionEnd=Math.min(z,b.value.length);else{var L=b.ownerDocument||document,A=L&&L.defaultView||window;if(A.getSelection){var D=A.getSelection(),W=b.textContent.length,re=Math.min(y.start,W),He=y.end===void 0?re:Math.min(y.end,W);!D.extend&&re>He&&(m=He,He=re,re=m);var j=jd(b,re),_=jd(b,He);if(j&&_&&(D.rangeCount!==1||D.anchorNode!==j.node||D.anchorOffset!==j.offset||D.focusNode!==_.node||D.focusOffset!==_.offset)){var N=L.createRange();N.setStart(j.node,j.offset),D.removeAllRanges(),re>He?(D.addRange(N),D.extend(_.node,_.offset)):(N.setEnd(_.node,_.offset),D.addRange(N))}}}}for(L=[],D=b;D=D.parentNode;)D.nodeType===1&&L.push({element:D,left:D.scrollLeft,top:D.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<L.length;b++){var q=L[b];q.element.scrollLeft=q.left,q.element.scrollTop=q.top}}Ar=!!Pu,Xu=Pu=null}finally{Re=o,I.p=s,R.T=a}}e.current=t,rt=2}}function Gf(){if(rt===2){rt=0;var e=ls,t=Rn,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=R.T,R.T=null;var s=I.p;I.p=2;var o=Re;Re|=4;try{pf(e,t.alternate,t)}finally{Re=o,I.p=s,R.T=a}}rt=3}}function Vf(){if(rt===4||rt===3){rt=0,Wc();var e=ls,t=Rn,a=Ba,s=Af;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?rt=5:(rt=0,Rn=ls=null,Kf(e,e.pendingLanes));var o=e.pendingLanes;if(o===0&&(ns=null),cl(a),t=t.stateNode,Nt&&typeof Nt.onCommitFiberRoot=="function")try{Nt.onCommitFiberRoot(ws,t,void 0,(t.current.flags&128)===128)}catch{}if(s!==null){t=R.T,o=I.p,I.p=2,R.T=null;try{for(var u=e.onRecoverableError,m=0;m<s.length;m++){var b=s[m];u(b.value,{componentStack:b.stack})}}finally{R.T=t,I.p=o}}(Ba&3)!==0&&vr(),va(e),o=e.pendingLanes,(a&261930)!==0&&(o&42)!==0?e===Du?Kl++:(Kl=0,Du=e):Kl=0,Yl(0)}}function Kf(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,El(t)))}function vr(){return Hf(),Gf(),Vf(),Yf()}function Yf(){if(rt!==5)return!1;var e=ls,t=Uu;Uu=0;var a=cl(Ba),s=R.T,o=I.p;try{I.p=32>a?32:a,R.T=null,a=Mu,Mu=null;var u=ls,m=Ba;if(rt=0,Rn=ls=null,Ba=0,(Re&6)!==0)throw Error(r(331));var b=Re;if(Re|=4,Nf(u.current),Sf(u,u.current,m,a),Re=b,Yl(0,!1),Nt&&typeof Nt.onPostCommitFiberRoot=="function")try{Nt.onPostCommitFiberRoot(ws,u)}catch{}return!0}finally{I.p=o,R.T=s,Kf(e,t)}}function If(e,t,a){t=Zt(a,t),t=fu(e.stateNode,t,2),e=Wa(e,t,2),e!==null&&(js(e,2),va(e))}function De(e,t,a){if(e.tag===3)If(e,e,a);else for(;t!==null;){if(t.tag===3){If(t,e,a);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(ns===null||!ns.has(s))){e=Zt(a,e),a=Ih(2),s=Wa(t,a,2),s!==null&&(Qh(a,s,t,e),js(s,2),va(s));break}}t=t.return}}function qu(e,t,a){var s=e.pingCache;if(s===null){s=e.pingCache=new gp;var o=new Set;s.set(t,o)}else o=s.get(t),o===void 0&&(o=new Set,s.set(t,o));o.has(a)||(Cu=!0,o.add(a),e=xp.bind(null,e,t,a),t.then(e,e))}function xp(e,t,a){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Ge===e&&(Ee&a)===a&&(We===4||We===3&&(Ee&62914560)===Ee&&300>At()-dr?(Re&2)===0&&Un(e,0):ku|=a,kn===Ee&&(kn=0)),va(e)}function Qf(e,t){t===0&&(t=bi()),e=ks(e,t),e!==null&&(js(e,t),va(e))}function _p(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),Qf(e,a)}function wp(e,t){var a=0;switch(e.tag){case 31:case 13:var s=e.stateNode,o=e.memoizedState;o!==null&&(a=o.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(r(314))}s!==null&&s.delete(t),Qf(e,a)}function Sp(e,t){return Va(e,t)}var br=null,Dn=null,Lu=!1,yr=!1,$u=!1,rs=0;function va(e){e!==Dn&&e.next===null&&(Dn===null?br=Dn=e:Dn=Dn.next=e),yr=!0,Lu||(Lu=!0,Ep())}function Yl(e,t){if(!$u&&yr){$u=!0;do for(var a=!1,s=br;s!==null;){if(e!==0){var o=s.pendingLanes;if(o===0)var u=0;else{var m=s.suspendedLanes,b=s.pingedLanes;u=(1<<31-ft(42|e)+1)-1,u&=o&~(m&~b),u=u&201326741?u&201326741|1:u?u|2:0}u!==0&&(a=!0,Zf(s,u))}else u=Ee,u=nn(s,s===Ge?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(u&3)===0||Ss(s,u)||(a=!0,Zf(s,u));s=s.next}while(a);$u=!1}}function jp(){Pf()}function Pf(){yr=Lu=!1;var e=0;rs!==0&&Dp()&&(e=rs);for(var t=At(),a=null,s=br;s!==null;){var o=s.next,u=Xf(s,t);u===0?(s.next=null,a===null?br=o:a.next=o,o===null&&(Dn=a)):(a=s,(e!==0||(u&3)!==0)&&(yr=!0)),s=o}rt!==0&&rt!==5||Yl(e),rs!==0&&(rs=0)}function Xf(e,t){for(var a=e.suspendedLanes,s=e.pingedLanes,o=e.expirationTimes,u=e.pendingLanes&-62914561;0<u;){var m=31-ft(u),b=1<<m,y=o[m];y===-1?((b&a)===0||(b&s)!==0)&&(o[m]=eo(b,t)):y<=t&&(e.expiredLanes|=b),u&=~b}if(t=Ge,a=Ee,a=nn(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,a===0||e===t&&(Me===2||Me===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&tn(s),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Ss(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(s!==null&&tn(s),cl(a)){case 2:case 8:a=ll;break;case 32:a=xs;break;case 268435456:a=_s;break;default:a=xs}return s=Jf.bind(null,e),a=Va(a,s),e.callbackPriority=t,e.callbackNode=a,t}return s!==null&&s!==null&&tn(s),e.callbackPriority=2,e.callbackNode=null,2}function Jf(e,t){if(rt!==0&&rt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(vr()&&e.callbackNode!==a)return null;var s=Ee;return s=nn(e,e===Ge?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(kf(e,s,t),Xf(e,At()),e.callbackNode!=null&&e.callbackNode===a?Jf.bind(null,e):null)}function Zf(e,t){if(vr())return null;kf(e,t,!0)}function Ep(){Bp(function(){(Re&6)!==0?Va(ys,jp):Pf()})}function Hu(){if(rs===0){var e=xn;e===0&&(e=ya,ya<<=1,(ya&261888)===0&&(ya=256)),rs=e}return rs}function Wf(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ti(""+e)}function Ff(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function Np(e,t,a,s,o){if(t==="submit"&&a&&a.stateNode===o){var u=Wf((o[wt]||null).action),m=s.submitter;m&&(t=(t=m[wt]||null)?Wf(t.formAction):m.getAttribute("formAction"),t!==null&&(u=t,m=null));var b=new ki("action","action",null,s,o);e.push({event:b,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(rs!==0){var y=m?Ff(o,m):new FormData(o);ru(a,{pending:!0,data:y,method:o.method,action:u},null,y)}}else typeof u=="function"&&(b.preventDefault(),y=m?Ff(o,m):new FormData(o),ru(a,{pending:!0,data:y,method:o.method,action:u},u,y))},currentTarget:o}]})}}for(var Gu=0;Gu<jo.length;Gu++){var Vu=jo[Gu],Tp=Vu.toLowerCase(),Op=Vu[0].toUpperCase()+Vu.slice(1);la(Tp,"on"+Op)}la(Ad,"onAnimationEnd"),la(Cd,"onAnimationIteration"),la(kd,"onAnimationStart"),la("dblclick","onDoubleClick"),la("focusin","onFocus"),la("focusout","onBlur"),la(Kg,"onTransitionRun"),la(Yg,"onTransitionStart"),la(Ig,"onTransitionCancel"),la(Rd,"onTransitionEnd"),jt("onMouseEnter",["mouseout","mouseover"]),jt("onMouseLeave",["mouseout","mouseover"]),jt("onPointerEnter",["pointerout","pointerover"]),jt("onPointerLeave",["pointerout","pointerover"]),qe("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),qe("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),qe("onBeforeInput",["compositionend","keypress","textInput","paste"]),qe("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),qe("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),qe("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Il="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ap=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Il));function e0(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var s=e[a],o=s.event;s=s.listeners;e:{var u=void 0;if(t)for(var m=s.length-1;0<=m;m--){var b=s[m],y=b.instance,T=b.currentTarget;if(b=b.listener,y!==u&&o.isPropagationStopped())break e;u=b,o.currentTarget=T;try{u(o)}catch(z){Mi(z)}o.currentTarget=null,u=y}else for(m=0;m<s.length;m++){if(b=s[m],y=b.instance,T=b.currentTarget,b=b.listener,y!==u&&o.isPropagationStopped())break e;u=b,o.currentTarget=T;try{u(o)}catch(z){Mi(z)}o.currentTarget=null,u=y}}}}function Se(e,t){var a=t[dl];a===void 0&&(a=t[dl]=new Set);var s=e+"__bubble";a.has(s)||(t0(t,e,2,!1),a.add(s))}function Ku(e,t,a){var s=0;t&&(s|=4),t0(a,e,s,t)}var xr="_reactListening"+Math.random().toString(36).slice(2);function Yu(e){if(!e[xr]){e[xr]=!0,St.forEach(function(a){a!=="selectionchange"&&(Ap.has(a)||Ku(a,!1,e),Ku(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[xr]||(t[xr]=!0,Ku("selectionchange",!1,t))}}function t0(e,t,a,s){switch(C0(t)){case 2:var o=sv;break;case 8:o=nv;break;default:o=ic}a=o.bind(null,t,a,e),o=void 0,!co||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),s?o!==void 0?e.addEventListener(t,a,{capture:!0,passive:o}):e.addEventListener(t,a,!0):o!==void 0?e.addEventListener(t,a,{passive:o}):e.addEventListener(t,a,!1)}function Iu(e,t,a,s,o){var u=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var m=s.tag;if(m===3||m===4){var b=s.stateNode.containerInfo;if(b===o)break;if(m===4)for(m=s.return;m!==null;){var y=m.tag;if((y===3||y===4)&&m.stateNode.containerInfo===o)return;m=m.return}for(;b!==null;){if(m=K(b),m===null)return;if(y=m.tag,y===5||y===6||y===26||y===27){s=u=m;continue e}b=b.parentNode}}s=s.return}ld(function(){var T=u,z=oo(a),L=[];e:{var A=Ud.get(e);if(A!==void 0){var D=ki,W=e;switch(e){case"keypress":if(Ai(a)===0)break e;case"keydown":case"keyup":D=wg;break;case"focusin":W="focus",D=go;break;case"focusout":W="blur",D=go;break;case"beforeblur":case"afterblur":D=go;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":D=od;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":D=cg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":D=Eg;break;case Ad:case Cd:case kd:D=fg;break;case Rd:D=Tg;break;case"scroll":case"scrollend":D=og;break;case"wheel":D=Ag;break;case"copy":case"cut":case"paste":D=gg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":D=cd;break;case"toggle":case"beforetoggle":D=kg}var re=(t&4)!==0,He=!re&&(e==="scroll"||e==="scrollend"),j=re?A!==null?A+"Capture":null:A;re=[];for(var _=T,N;_!==null;){var q=_;if(N=q.stateNode,q=q.tag,q!==5&&q!==26&&q!==27||N===null||j===null||(q=ml(_,j),q!=null&&re.push(Ql(_,q,N))),He)break;_=_.return}0<re.length&&(A=new D(A,W,null,a,z),L.push({event:A,listeners:re}))}}if((t&7)===0){e:{if(A=e==="mouseover"||e==="pointerover",D=e==="mouseout"||e==="pointerout",A&&a!==ro&&(W=a.relatedTarget||a.fromElement)&&(K(W)||W[Ka]))break e;if((D||A)&&(A=z.window===z?z:(A=z.ownerDocument)?A.defaultView||A.parentWindow:window,D?(W=a.relatedTarget||a.toElement,D=T,W=W?K(W):null,W!==null&&(He=h(W),re=W.tag,W!==He||re!==5&&re!==27&&re!==6)&&(W=null)):(D=null,W=T),D!==W)){if(re=od,q="onMouseLeave",j="onMouseEnter",_="mouse",(e==="pointerout"||e==="pointerover")&&(re=cd,q="onPointerLeave",j="onPointerEnter",_="pointer"),He=D==null?A:P(D),N=W==null?A:P(W),A=new re(q,_+"leave",D,a,z),A.target=He,A.relatedTarget=N,q=null,K(z)===T&&(re=new re(j,_+"enter",W,a,z),re.target=N,re.relatedTarget=He,q=re),He=q,D&&W)t:{for(re=Cp,j=D,_=W,N=0,q=j;q;q=re(q))N++;q=0;for(var ie=_;ie;ie=re(ie))q++;for(;0<N-q;)j=re(j),N--;for(;0<q-N;)_=re(_),q--;for(;N--;){if(j===_||_!==null&&j===_.alternate){re=j;break t}j=re(j),_=re(_)}re=null}else re=null;D!==null&&a0(L,A,D,re,!1),W!==null&&He!==null&&a0(L,He,W,re,!0)}}e:{if(A=T?P(T):window,D=A.nodeName&&A.nodeName.toLowerCase(),D==="select"||D==="input"&&A.type==="file")var Ce=bd;else if(pd(A))if(yd)Ce=Hg;else{Ce=Lg;var ae=qg}else D=A.nodeName,!D||D.toLowerCase()!=="input"||A.type!=="checkbox"&&A.type!=="radio"?T&&io(T.elementType)&&(Ce=bd):Ce=$g;if(Ce&&(Ce=Ce(e,T))){vd(L,Ce,a,z);break e}ae&&ae(e,A,T),e==="focusout"&&T&&A.type==="number"&&T.memoizedProps.value!=null&&lo(A,"number",A.value)}switch(ae=T?P(T):window,e){case"focusin":(pd(ae)||ae.contentEditable==="true")&&(hn=ae,_o=T,wl=null);break;case"focusout":wl=_o=hn=null;break;case"mousedown":wo=!0;break;case"contextmenu":case"mouseup":case"dragend":wo=!1,Td(L,a,z);break;case"selectionchange":if(Vg)break;case"keydown":case"keyup":Td(L,a,z)}var xe;if(vo)e:{switch(e){case"compositionstart":var Ne="onCompositionStart";break e;case"compositionend":Ne="onCompositionEnd";break e;case"compositionupdate":Ne="onCompositionUpdate";break e}Ne=void 0}else dn?md(e,a)&&(Ne="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Ne="onCompositionStart");Ne&&(dd&&a.locale!=="ko"&&(dn||Ne!=="onCompositionStart"?Ne==="onCompositionEnd"&&dn&&(xe=id()):(Ya=z,ho="value"in Ya?Ya.value:Ya.textContent,dn=!0)),ae=_r(T,Ne),0<ae.length&&(Ne=new ud(Ne,e,null,a,z),L.push({event:Ne,listeners:ae}),xe?Ne.data=xe:(xe=gd(a),xe!==null&&(Ne.data=xe)))),(xe=Ug?Mg(e,a):Dg(e,a))&&(Ne=_r(T,"onBeforeInput"),0<Ne.length&&(ae=new ud("onBeforeInput","beforeinput",null,a,z),L.push({event:ae,listeners:Ne}),ae.data=xe)),Np(L,e,T,a,z)}e0(L,t)})}function Ql(e,t,a){return{instance:e,listener:t,currentTarget:a}}function _r(e,t){for(var a=t+"Capture",s=[];e!==null;){var o=e,u=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||u===null||(o=ml(e,a),o!=null&&s.unshift(Ql(e,o,u)),o=ml(e,t),o!=null&&s.push(Ql(e,o,u))),e.tag===3)return s;e=e.return}return[]}function Cp(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function a0(e,t,a,s,o){for(var u=t._reactName,m=[];a!==null&&a!==s;){var b=a,y=b.alternate,T=b.stateNode;if(b=b.tag,y!==null&&y===s)break;b!==5&&b!==26&&b!==27||T===null||(y=T,o?(T=ml(a,u),T!=null&&m.unshift(Ql(a,T,y))):o||(T=ml(a,u),T!=null&&m.push(Ql(a,T,y)))),a=a.return}m.length!==0&&e.push({event:t,listeners:m})}var kp=/\r\n?/g,Rp=/\u0000|\uFFFD/g;function s0(e){return(typeof e=="string"?e:""+e).replace(kp,`
`).replace(Rp,"")}function n0(e,t){return t=s0(t),s0(e)===t}function $e(e,t,a,s,o,u){switch(a){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||on(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&on(e,""+s);break;case"className":mt(e,"class",s);break;case"tabIndex":mt(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":mt(e,a,s);break;case"style":sd(e,s,u);break;case"data":if(t!=="object"){mt(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(a);break}s=Ti(""+s),e.setAttribute(a,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof u=="function"&&(a==="formAction"?(t!=="input"&&$e(e,t,"name",o.name,o,null),$e(e,t,"formEncType",o.formEncType,o,null),$e(e,t,"formMethod",o.formMethod,o,null),$e(e,t,"formTarget",o.formTarget,o,null)):($e(e,t,"encType",o.encType,o,null),$e(e,t,"method",o.method,o,null),$e(e,t,"target",o.target,o,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(a);break}s=Ti(""+s),e.setAttribute(a,s);break;case"onClick":s!=null&&(e.onclick=wa);break;case"onScroll":s!=null&&Se("scroll",e);break;case"onScrollEnd":s!=null&&Se("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(r(61));if(a=s.__html,a!=null){if(o.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}a=Ti(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,""+s):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":s===!0?e.setAttribute(a,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,s):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(a,s):e.removeAttribute(a);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(a):e.setAttribute(a,s);break;case"popover":Se("beforetoggle",e),Se("toggle",e),Ns(e,"popover",s);break;case"xlinkActuate":Pt(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":Pt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":Pt(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":Pt(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":Pt(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":Pt(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":Pt(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":Pt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":Pt(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":Ns(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=ig.get(a)||a,Ns(e,a,s))}}function Qu(e,t,a,s,o,u){switch(a){case"style":sd(e,s,u);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(r(61));if(a=s.__html,a!=null){if(o.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof s=="string"?on(e,s):(typeof s=="number"||typeof s=="bigint")&&on(e,""+s);break;case"onScroll":s!=null&&Se("scroll",e);break;case"onScrollEnd":s!=null&&Se("scrollend",e);break;case"onClick":s!=null&&(e.onclick=wa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!zt.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(o=a.endsWith("Capture"),t=a.slice(2,o?a.length-7:void 0),u=e[wt]||null,u=u!=null?u[a]:null,typeof u=="function"&&e.removeEventListener(t,u,o),typeof s=="function")){typeof u!="function"&&u!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,s,o);break e}a in e?e[a]=s:s===!0?e.setAttribute(a,""):Ns(e,a,s)}}}function bt(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Se("error",e),Se("load",e);var s=!1,o=!1,u;for(u in a)if(a.hasOwnProperty(u)){var m=a[u];if(m!=null)switch(u){case"src":s=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:$e(e,t,u,m,a,null)}}o&&$e(e,t,"srcSet",a.srcSet,a,null),s&&$e(e,t,"src",a.src,a,null);return;case"input":Se("invalid",e);var b=u=m=o=null,y=null,T=null;for(s in a)if(a.hasOwnProperty(s)){var z=a[s];if(z!=null)switch(s){case"name":o=z;break;case"type":m=z;break;case"checked":y=z;break;case"defaultChecked":T=z;break;case"value":u=z;break;case"defaultValue":b=z;break;case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(r(137,t));break;default:$e(e,t,s,z,a,null)}}Fc(e,u,b,y,T,m,o,!1);return;case"select":Se("invalid",e),s=m=u=null;for(o in a)if(a.hasOwnProperty(o)&&(b=a[o],b!=null))switch(o){case"value":u=b;break;case"defaultValue":m=b;break;case"multiple":s=b;default:$e(e,t,o,b,a,null)}t=u,a=m,e.multiple=!!s,t!=null?rn(e,!!s,t,!1):a!=null&&rn(e,!!s,a,!0);return;case"textarea":Se("invalid",e),u=o=s=null;for(m in a)if(a.hasOwnProperty(m)&&(b=a[m],b!=null))switch(m){case"value":s=b;break;case"defaultValue":o=b;break;case"children":u=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(r(91));break;default:$e(e,t,m,b,a,null)}td(e,s,o,u);return;case"option":for(y in a)if(a.hasOwnProperty(y)&&(s=a[y],s!=null))switch(y){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:$e(e,t,y,s,a,null)}return;case"dialog":Se("beforetoggle",e),Se("toggle",e),Se("cancel",e),Se("close",e);break;case"iframe":case"object":Se("load",e);break;case"video":case"audio":for(s=0;s<Il.length;s++)Se(Il[s],e);break;case"image":Se("error",e),Se("load",e);break;case"details":Se("toggle",e);break;case"embed":case"source":case"link":Se("error",e),Se("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(T in a)if(a.hasOwnProperty(T)&&(s=a[T],s!=null))switch(T){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:$e(e,t,T,s,a,null)}return;default:if(io(t)){for(z in a)a.hasOwnProperty(z)&&(s=a[z],s!==void 0&&Qu(e,t,z,s,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(s=a[b],s!=null&&$e(e,t,b,s,a,null))}function Up(e,t,a,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,u=null,m=null,b=null,y=null,T=null,z=null;for(D in a){var L=a[D];if(a.hasOwnProperty(D)&&L!=null)switch(D){case"checked":break;case"value":break;case"defaultValue":y=L;default:s.hasOwnProperty(D)||$e(e,t,D,null,s,L)}}for(var A in s){var D=s[A];if(L=a[A],s.hasOwnProperty(A)&&(D!=null||L!=null))switch(A){case"type":u=D;break;case"name":o=D;break;case"checked":T=D;break;case"defaultChecked":z=D;break;case"value":m=D;break;case"defaultValue":b=D;break;case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(r(137,t));break;default:D!==L&&$e(e,t,A,D,s,L)}}no(e,m,b,y,T,z,u,o);return;case"select":D=m=b=A=null;for(u in a)if(y=a[u],a.hasOwnProperty(u)&&y!=null)switch(u){case"value":break;case"multiple":D=y;default:s.hasOwnProperty(u)||$e(e,t,u,null,s,y)}for(o in s)if(u=s[o],y=a[o],s.hasOwnProperty(o)&&(u!=null||y!=null))switch(o){case"value":A=u;break;case"defaultValue":b=u;break;case"multiple":m=u;default:u!==y&&$e(e,t,o,u,s,y)}t=b,a=m,s=D,A!=null?rn(e,!!a,A,!1):!!s!=!!a&&(t!=null?rn(e,!!a,t,!0):rn(e,!!a,a?[]:"",!1));return;case"textarea":D=A=null;for(b in a)if(o=a[b],a.hasOwnProperty(b)&&o!=null&&!s.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:$e(e,t,b,null,s,o)}for(m in s)if(o=s[m],u=a[m],s.hasOwnProperty(m)&&(o!=null||u!=null))switch(m){case"value":A=o;break;case"defaultValue":D=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(r(91));break;default:o!==u&&$e(e,t,m,o,s,u)}ed(e,A,D);return;case"option":for(var W in a)if(A=a[W],a.hasOwnProperty(W)&&A!=null&&!s.hasOwnProperty(W))switch(W){case"selected":e.selected=!1;break;default:$e(e,t,W,null,s,A)}for(y in s)if(A=s[y],D=a[y],s.hasOwnProperty(y)&&A!==D&&(A!=null||D!=null))switch(y){case"selected":e.selected=A&&typeof A!="function"&&typeof A!="symbol";break;default:$e(e,t,y,A,s,D)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var re in a)A=a[re],a.hasOwnProperty(re)&&A!=null&&!s.hasOwnProperty(re)&&$e(e,t,re,null,s,A);for(T in s)if(A=s[T],D=a[T],s.hasOwnProperty(T)&&A!==D&&(A!=null||D!=null))switch(T){case"children":case"dangerouslySetInnerHTML":if(A!=null)throw Error(r(137,t));break;default:$e(e,t,T,A,s,D)}return;default:if(io(t)){for(var He in a)A=a[He],a.hasOwnProperty(He)&&A!==void 0&&!s.hasOwnProperty(He)&&Qu(e,t,He,void 0,s,A);for(z in s)A=s[z],D=a[z],!s.hasOwnProperty(z)||A===D||A===void 0&&D===void 0||Qu(e,t,z,A,s,D);return}}for(var j in a)A=a[j],a.hasOwnProperty(j)&&A!=null&&!s.hasOwnProperty(j)&&$e(e,t,j,null,s,A);for(L in s)A=s[L],D=a[L],!s.hasOwnProperty(L)||A===D||A==null&&D==null||$e(e,t,L,A,s,D)}function l0(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Mp(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),s=0;s<a.length;s++){var o=a[s],u=o.transferSize,m=o.initiatorType,b=o.duration;if(u&&b&&l0(m)){for(m=0,b=o.responseEnd,s+=1;s<a.length;s++){var y=a[s],T=y.startTime;if(T>b)break;var z=y.transferSize,L=y.initiatorType;z&&l0(L)&&(y=y.responseEnd,m+=z*(y<b?1:(b-T)/(y-T)))}if(--s,t+=8*(u+m)/(o.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Pu=null,Xu=null;function wr(e){return e.nodeType===9?e:e.ownerDocument}function i0(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function r0(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Ju(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Zu=null;function Dp(){var e=window.event;return e&&e.type==="popstate"?e===Zu?!1:(Zu=e,!0):(Zu=null,!1)}var o0=typeof setTimeout=="function"?setTimeout:void 0,zp=typeof clearTimeout=="function"?clearTimeout:void 0,u0=typeof Promise=="function"?Promise:void 0,Bp=typeof queueMicrotask=="function"?queueMicrotask:typeof u0<"u"?function(e){return u0.resolve(null).then(e).catch(qp)}:o0;function qp(e){setTimeout(function(){throw e})}function os(e){return e==="head"}function c0(e,t){var a=t,s=0;do{var o=a.nextSibling;if(e.removeChild(a),o&&o.nodeType===8)if(a=o.data,a==="/$"||a==="/&"){if(s===0){e.removeChild(o),Ln(t);return}s--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")s++;else if(a==="html")Pl(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Pl(a);for(var u=a.firstChild;u;){var m=u.nextSibling,b=u.nodeName;u[C]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&u.rel.toLowerCase()==="stylesheet"||a.removeChild(u),u=m}}else a==="body"&&Pl(e.ownerDocument.body);a=o}while(a);Ln(t)}function d0(e,t){var a=e;e=0;do{var s=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),s&&s.nodeType===8)if(a=s.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=s}while(a)}function Wu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Wu(a),O(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Lp(e,t,a,s){for(;e.nodeType===1;){var o=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[C])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(u=e.getAttribute("rel"),u==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(u!==o.rel||e.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(u=e.getAttribute("src"),(u!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&u&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var u=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===u)return e}else return e;if(e=aa(e.nextSibling),e===null)break}return null}function $p(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=aa(e.nextSibling),e===null))return null;return e}function h0(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=aa(e.nextSibling),e===null))return null;return e}function Fu(e){return e.data==="$?"||e.data==="$~"}function ec(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Hp(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var s=function(){t(),a.removeEventListener("DOMContentLoaded",s)};a.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function aa(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var tc=null;function f0(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return aa(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function m0(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function g0(e,t,a){switch(t=wr(a),e){case"html":if(e=t.documentElement,!e)throw Error(r(452));return e;case"head":if(e=t.head,!e)throw Error(r(453));return e;case"body":if(e=t.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Pl(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);O(e)}var sa=new Map,p0=new Set;function Sr(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var qa=I.d;I.d={f:Gp,r:Vp,D:Kp,C:Yp,L:Ip,m:Qp,X:Xp,S:Pp,M:Jp};function Gp(){var e=qa.f(),t=mr();return e||t}function Vp(e){var t=G(e);t!==null&&t.tag===5&&t.type==="form"?Rh(t):qa.r(e)}var zn=typeof document>"u"?null:document;function v0(e,t,a){var s=zn;if(s&&typeof t=="string"&&t){var o=Xt(t);o='link[rel="'+e+'"][href="'+o+'"]',typeof a=="string"&&(o+='[crossorigin="'+a+'"]'),p0.has(o)||(p0.add(o),e={rel:e,crossOrigin:a,href:t},s.querySelector(o)===null&&(t=s.createElement("link"),bt(t,"link",e),fe(t),s.head.appendChild(t)))}}function Kp(e){qa.D(e),v0("dns-prefetch",e,null)}function Yp(e,t){qa.C(e,t),v0("preconnect",e,t)}function Ip(e,t,a){qa.L(e,t,a);var s=zn;if(s&&e&&t){var o='link[rel="preload"][as="'+Xt(t)+'"]';t==="image"&&a&&a.imageSrcSet?(o+='[imagesrcset="'+Xt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(o+='[imagesizes="'+Xt(a.imageSizes)+'"]')):o+='[href="'+Xt(e)+'"]';var u=o;switch(t){case"style":u=Bn(e);break;case"script":u=qn(e)}sa.has(u)||(e=S({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),sa.set(u,e),s.querySelector(o)!==null||t==="style"&&s.querySelector(Xl(u))||t==="script"&&s.querySelector(Jl(u))||(t=s.createElement("link"),bt(t,"link",e),fe(t),s.head.appendChild(t)))}}function Qp(e,t){qa.m(e,t);var a=zn;if(a&&e){var s=t&&typeof t.as=="string"?t.as:"script",o='link[rel="modulepreload"][as="'+Xt(s)+'"][href="'+Xt(e)+'"]',u=o;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":u=qn(e)}if(!sa.has(u)&&(e=S({rel:"modulepreload",href:e},t),sa.set(u,e),a.querySelector(o)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Jl(u)))return}s=a.createElement("link"),bt(s,"link",e),fe(s),a.head.appendChild(s)}}}function Pp(e,t,a){qa.S(e,t,a);var s=zn;if(s&&e){var o=se(s).hoistableStyles,u=Bn(e);t=t||"default";var m=o.get(u);if(!m){var b={loading:0,preload:null};if(m=s.querySelector(Xl(u)))b.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":t},a),(a=sa.get(u))&&ac(e,a);var y=m=s.createElement("link");fe(y),bt(y,"link",e),y._p=new Promise(function(T,z){y.onload=T,y.onerror=z}),y.addEventListener("load",function(){b.loading|=1}),y.addEventListener("error",function(){b.loading|=2}),b.loading|=4,jr(m,t,s)}m={type:"stylesheet",instance:m,count:1,state:b},o.set(u,m)}}}function Xp(e,t){qa.X(e,t);var a=zn;if(a&&e){var s=se(a).hoistableScripts,o=qn(e),u=s.get(o);u||(u=a.querySelector(Jl(o)),u||(e=S({src:e,async:!0},t),(t=sa.get(o))&&sc(e,t),u=a.createElement("script"),fe(u),bt(u,"link",e),a.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},s.set(o,u))}}function Jp(e,t){qa.M(e,t);var a=zn;if(a&&e){var s=se(a).hoistableScripts,o=qn(e),u=s.get(o);u||(u=a.querySelector(Jl(o)),u||(e=S({src:e,async:!0,type:"module"},t),(t=sa.get(o))&&sc(e,t),u=a.createElement("script"),fe(u),bt(u,"link",e),a.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},s.set(o,u))}}function b0(e,t,a,s){var o=(o=_e.current)?Sr(o):null;if(!o)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=Bn(a.href),a=se(o).hoistableStyles,s=a.get(t),s||(s={type:"style",instance:null,count:0,state:null},a.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Bn(a.href);var u=se(o).hoistableStyles,m=u.get(e);if(m||(o=o.ownerDocument||o,m={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,m),(u=o.querySelector(Xl(e)))&&!u._p&&(m.instance=u,m.state.loading=5),sa.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},sa.set(e,a),u||Zp(o,e,a,m.state))),t&&s===null)throw Error(r(528,""));return m}if(t&&s!==null)throw Error(r(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=qn(a),a=se(o).hoistableScripts,s=a.get(t),s||(s={type:"script",instance:null,count:0,state:null},a.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Bn(e){return'href="'+Xt(e)+'"'}function Xl(e){return'link[rel="stylesheet"]['+e+"]"}function y0(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function Zp(e,t,a,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),bt(t,"link",a),fe(t),e.head.appendChild(t))}function qn(e){return'[src="'+Xt(e)+'"]'}function Jl(e){return"script[async]"+e}function x0(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+Xt(a.href)+'"]');if(s)return t.instance=s,fe(s),s;var o=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),fe(s),bt(s,"style",o),jr(s,a.precedence,e),t.instance=s;case"stylesheet":o=Bn(a.href);var u=e.querySelector(Xl(o));if(u)return t.state.loading|=4,t.instance=u,fe(u),u;s=y0(a),(o=sa.get(o))&&ac(s,o),u=(e.ownerDocument||e).createElement("link"),fe(u);var m=u;return m._p=new Promise(function(b,y){m.onload=b,m.onerror=y}),bt(u,"link",s),t.state.loading|=4,jr(u,a.precedence,e),t.instance=u;case"script":return u=qn(a.src),(o=e.querySelector(Jl(u)))?(t.instance=o,fe(o),o):(s=a,(o=sa.get(u))&&(s=S({},a),sc(s,o)),e=e.ownerDocument||e,o=e.createElement("script"),fe(o),bt(o,"link",s),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(r(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(s=t.instance,t.state.loading|=4,jr(s,a.precedence,e));return t.instance}function jr(e,t,a){for(var s=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=s.length?s[s.length-1]:null,u=o,m=0;m<s.length;m++){var b=s[m];if(b.dataset.precedence===t)u=b;else if(u!==o)break}u?u.parentNode.insertBefore(e,u.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function ac(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function sc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Er=null;function _0(e,t,a){if(Er===null){var s=new Map,o=Er=new Map;o.set(a,s)}else o=Er,s=o.get(a),s||(s=new Map,o.set(a,s));if(s.has(e))return s;for(s.set(e,null),a=a.getElementsByTagName(e),o=0;o<a.length;o++){var u=a[o];if(!(u[C]||u[ye]||e==="link"&&u.getAttribute("rel")==="stylesheet")&&u.namespaceURI!=="http://www.w3.org/2000/svg"){var m=u.getAttribute(t)||"";m=e+m;var b=s.get(m);b?b.push(u):s.set(m,[u])}}return s}function w0(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function Wp(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function S0(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Fp(e,t,a,s){if(a.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var o=Bn(s.href),u=t.querySelector(Xl(o));if(u){t=u._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Nr.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=u,fe(u);return}u=t.ownerDocument||t,s=y0(s),(o=sa.get(o))&&ac(s,o),u=u.createElement("link"),fe(u);var m=u;m._p=new Promise(function(b,y){m.onload=b,m.onerror=y}),bt(u,"link",s),a.instance=u}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Nr.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var nc=0;function ev(e,t){return e.stylesheets&&e.count===0&&Or(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var s=setTimeout(function(){if(e.stylesheets&&Or(e,e.stylesheets),e.unsuspend){var u=e.unsuspend;e.unsuspend=null,u()}},6e4+t);0<e.imgBytes&&nc===0&&(nc=62500*Mp());var o=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Or(e,e.stylesheets),e.unsuspend)){var u=e.unsuspend;e.unsuspend=null,u()}},(e.imgBytes>nc?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(o)}}:null}function Nr(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Or(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Tr=null;function Or(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Tr=new Map,t.forEach(tv,e),Tr=null,Nr.call(e))}function tv(e,t){if(!(t.state.loading&4)){var a=Tr.get(e);if(a)var s=a.get(null);else{a=new Map,Tr.set(e,a);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),u=0;u<o.length;u++){var m=o[u];(m.nodeName==="LINK"||m.getAttribute("media")!=="not all")&&(a.set(m.dataset.precedence,m),s=m)}s&&a.set(null,s)}o=t.instance,m=o.getAttribute("data-precedence"),u=a.get(m)||s,u===s&&a.set(null,o),a.set(m,o),this.count++,s=Nr.bind(this),o.addEventListener("load",s),o.addEventListener("error",s),u?u.parentNode.insertBefore(o,u.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),t.state.loading|=4}}var Zl={$$typeof:H,Provider:null,Consumer:null,_currentValue:ne,_currentValue2:ne,_threadCount:0};function av(e,t,a,s,o,u,m,b,y){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=rl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rl(0),this.hiddenUpdates=rl(null),this.identifierPrefix=s,this.onUncaughtError=o,this.onCaughtError=u,this.onRecoverableError=m,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=y,this.incompleteTransitions=new Map}function j0(e,t,a,s,o,u,m,b,y,T,z,L){return e=new av(e,t,a,m,y,T,z,L,b),t=1,u===!0&&(t|=24),u=Lt(3,null,null,t),e.current=u,u.stateNode=e,t=Bo(),t.refCount++,e.pooledCache=t,t.refCount++,u.memoizedState={element:s,isDehydrated:a,cache:t},Ho(u),e}function E0(e){return e?(e=gn,e):gn}function N0(e,t,a,s,o,u){o=E0(o),s.context===null?s.context=o:s.pendingContext=o,s=Za(t),s.payload={element:a},u=u===void 0?null:u,u!==null&&(s.callback=u),a=Wa(e,s,t),a!==null&&(Dt(a,e,t),Al(a,e,t))}function T0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function lc(e,t){T0(e,t),(e=e.alternate)&&T0(e,t)}function O0(e){if(e.tag===13||e.tag===31){var t=ks(e,67108864);t!==null&&Dt(t,e,67108864),lc(e,67108864)}}function A0(e){if(e.tag===13||e.tag===31){var t=Kt();t=ul(t);var a=ks(e,t);a!==null&&Dt(a,e,t),lc(e,t)}}var Ar=!0;function sv(e,t,a,s){var o=R.T;R.T=null;var u=I.p;try{I.p=2,ic(e,t,a,s)}finally{I.p=u,R.T=o}}function nv(e,t,a,s){var o=R.T;R.T=null;var u=I.p;try{I.p=8,ic(e,t,a,s)}finally{I.p=u,R.T=o}}function ic(e,t,a,s){if(Ar){var o=rc(s);if(o===null)Iu(e,t,s,Cr,a),k0(e,s);else if(iv(o,e,t,a,s))s.stopPropagation();else if(k0(e,s),t&4&&-1<lv.indexOf(e)){for(;o!==null;){var u=G(o);if(u!==null)switch(u.tag){case 3:if(u=u.stateNode,u.current.memoizedState.isDehydrated){var m=_a(u.pendingLanes);if(m!==0){var b=u;for(b.pendingLanes|=2,b.entangledLanes|=2;m;){var y=1<<31-ft(m);b.entanglements[1]|=y,m&=~y}va(u),(Re&6)===0&&(hr=At()+500,Yl(0))}}break;case 31:case 13:b=ks(u,2),b!==null&&Dt(b,u,2),mr(),lc(u,2)}if(u=rc(s),u===null&&Iu(e,t,s,Cr,a),u===o)break;o=u}o!==null&&s.stopPropagation()}else Iu(e,t,s,null,a)}}function rc(e){return e=oo(e),oc(e)}var Cr=null;function oc(e){if(Cr=null,e=K(e),e!==null){var t=h(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=f(t),e!==null)return e;e=null}else if(a===31){if(e=p(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Cr=e,null}function C0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(nl()){case ys:return 2;case ll:return 8;case xs:case an:return 32;case _s:return 268435456;default:return 32}default:return 32}}var uc=!1,us=null,cs=null,ds=null,Wl=new Map,Fl=new Map,hs=[],lv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function k0(e,t){switch(e){case"focusin":case"focusout":us=null;break;case"dragenter":case"dragleave":cs=null;break;case"mouseover":case"mouseout":ds=null;break;case"pointerover":case"pointerout":Wl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fl.delete(t.pointerId)}}function ei(e,t,a,s,o,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:a,eventSystemFlags:s,nativeEvent:u,targetContainers:[o]},t!==null&&(t=G(t),t!==null&&O0(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function iv(e,t,a,s,o){switch(t){case"focusin":return us=ei(us,e,t,a,s,o),!0;case"dragenter":return cs=ei(cs,e,t,a,s,o),!0;case"mouseover":return ds=ei(ds,e,t,a,s,o),!0;case"pointerover":var u=o.pointerId;return Wl.set(u,ei(Wl.get(u)||null,e,t,a,s,o)),!0;case"gotpointercapture":return u=o.pointerId,Fl.set(u,ei(Fl.get(u)||null,e,t,a,s,o)),!0}return!1}function R0(e){var t=K(e.target);if(t!==null){var a=h(t);if(a!==null){if(t=a.tag,t===13){if(t=f(a),t!==null){e.blockedOn=t,wi(e.priority,function(){A0(a)});return}}else if(t===31){if(t=p(a),t!==null){e.blockedOn=t,wi(e.priority,function(){A0(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function kr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=rc(e.nativeEvent);if(a===null){a=e.nativeEvent;var s=new a.constructor(a.type,a);ro=s,a.target.dispatchEvent(s),ro=null}else return t=G(a),t!==null&&O0(t),e.blockedOn=a,!1;t.shift()}return!0}function U0(e,t,a){kr(e)&&a.delete(t)}function rv(){uc=!1,us!==null&&kr(us)&&(us=null),cs!==null&&kr(cs)&&(cs=null),ds!==null&&kr(ds)&&(ds=null),Wl.forEach(U0),Fl.forEach(U0)}function Rr(e,t){e.blockedOn===t&&(e.blockedOn=null,uc||(uc=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,rv)))}var Ur=null;function M0(e){Ur!==e&&(Ur=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Ur===e&&(Ur=null);for(var t=0;t<e.length;t+=3){var a=e[t],s=e[t+1],o=e[t+2];if(typeof s!="function"){if(oc(s||a)===null)continue;break}var u=G(a);u!==null&&(e.splice(t,3),t-=3,ru(u,{pending:!0,data:o,method:a.method,action:s},s,o))}}))}function Ln(e){function t(y){return Rr(y,e)}us!==null&&Rr(us,e),cs!==null&&Rr(cs,e),ds!==null&&Rr(ds,e),Wl.forEach(t),Fl.forEach(t);for(var a=0;a<hs.length;a++){var s=hs[a];s.blockedOn===e&&(s.blockedOn=null)}for(;0<hs.length&&(a=hs[0],a.blockedOn===null);)R0(a),a.blockedOn===null&&hs.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(s=0;s<a.length;s+=3){var o=a[s],u=a[s+1],m=o[wt]||null;if(typeof u=="function")m||M0(a);else if(m){var b=null;if(u&&u.hasAttribute("formAction")){if(o=u,m=u[wt]||null)b=m.formAction;else if(oc(o)!==null)continue}else b=m.action;typeof b=="function"?a[s+1]=b:(a.splice(s,3),s-=3),M0(a)}}}function D0(){function e(u){u.canIntercept&&u.info==="react-transition"&&u.intercept({handler:function(){return new Promise(function(m){return o=m})},focusReset:"manual",scroll:"manual"})}function t(){o!==null&&(o(),o=null),s||setTimeout(a,20)}function a(){if(!s&&!navigation.transition){var u=navigation.currentEntry;u&&u.url!=null&&navigation.navigate(u.url,{state:u.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,o=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),o!==null&&(o(),o=null)}}}function cc(e){this._internalRoot=e}Mr.prototype.render=cc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(r(409));var a=t.current,s=Kt();N0(a,s,e,t,null,null)},Mr.prototype.unmount=cc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;N0(e.current,2,null,e,null,null),mr(),t[Ka]=null}};function Mr(e){this._internalRoot=e}Mr.prototype.unstable_scheduleHydration=function(e){if(e){var t=_i();e={blockedOn:null,target:e,priority:t};for(var a=0;a<hs.length&&t!==0&&t<hs[a].priority;a++);hs.splice(a,0,e),a===0&&R0(e)}};var z0=n.version;if(z0!=="19.2.1")throw Error(r(527,z0,"19.2.1"));I.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=v(t),e=e!==null?x(e):null,e=e===null?null:e.stateNode,e};var ov={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:R,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Dr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dr.isDisabled&&Dr.supportsFiber)try{ws=Dr.inject(ov),Nt=Dr}catch{}}return ai.createRoot=function(e,t){if(!d(e))throw Error(r(299));var a=!1,s="",o=Gh,u=Vh,m=Kh;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(u=t.onCaughtError),t.onRecoverableError!==void 0&&(m=t.onRecoverableError)),t=j0(e,1,!1,null,null,a,s,null,o,u,m,D0),e[Ka]=t.current,Yu(e),new cc(t)},ai.hydrateRoot=function(e,t,a){if(!d(e))throw Error(r(299));var s=!1,o="",u=Gh,m=Vh,b=Kh,y=null;return a!=null&&(a.unstable_strictMode===!0&&(s=!0),a.identifierPrefix!==void 0&&(o=a.identifierPrefix),a.onUncaughtError!==void 0&&(u=a.onUncaughtError),a.onCaughtError!==void 0&&(m=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.formState!==void 0&&(y=a.formState)),t=j0(e,1,!0,t,a??null,s,o,y,u,m,b,D0),t.context=E0(null),a=t.current,s=Kt(),s=ul(s),o=Za(s),o.callback=null,Wa(a,o,s),a=s,t.current.lanes=a,js(t,a),va(t),e[Ka]=t.current,Yu(e),new Mr(t)},ai.version="19.2.1",ai}var I0;function xv(){if(I0)return fc.exports;I0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(n){console.error(n)}}return i(),fc.exports=yv(),fc.exports}var _v=xv();const wv=Hc(_v),Q0=["Qual foi a pequena vitria silenciosa do seu dia?","O que voc mudou de opinio recentemente?","Qual conselho voc daria para o seu 'eu' de 5 anos atrs?","O que significa sucesso para voc hoje, diferente de ontem?","Descreva um momento de pura serenidade que voc viveu."],Cm=()=>{const i=new Date().toDateString();let n=0;for(let r=0;r<i.length;r++)n=i.charCodeAt(r)+((n<<5)-n);const l=Math.abs(n)%Q0.length;return Q0[l]},Sv=[{id:"p1",fromUser:"Ana (Cinema)",fromAvatar:"https://picsum.photos/seed/ana/200",context:"Sobre sua anlise de Matrix e Plato",timestamp:"Ontem",isRead:!1,messages:[{id:"m1",senderId:"other",text:"Ol! Li seu post sobre a Alegoria da Caverna em Matrix. Fiquei muito impactada com a conexo que voc fez com as redes sociais atuais.",timestamp:"Ontem 14:30"},{id:"m2",senderId:"other",text:"Voc acha que Cypher estava certo em querer voltar para a iluso?",timestamp:"Ontem 14:32"}]},{id:"p2",fromUser:"Carlos.dev",fromAvatar:"https://picsum.photos/seed/carlos/200",context:"Vi que voc gosta de estoicismo. Queria compartilhar um livro.",timestamp:"2 dias atrs",isRead:!0,messages:[{id:"m1",senderId:"other",text:"E a! Vi seus comentrios no pocket de Slow Living.",timestamp:"2 dias atrs"},{id:"m2",senderId:"other",text:'J leu "Meditaes" de Marco Aurlio? Acho que combina muito com o que voc disse sobre controle interno.',timestamp:"2 dias atrs"},{id:"m3",senderId:"me",text:"Oi Carlos! Sim,  meu livro de cabeceira. Adoro a parte onde ele fala sobre acordar cedo e fazer o trabalho de um ser humano.",timestamp:"1 dia atrs"}]}],jv=[{id:"r1",author:"System",content:"Teste de denncia de sistema.",reason:"Teste",severity:"Low"}],Ev=`
Eu me comprometo a interagir com inteno e empatia.
Reconheo que por trs de cada tela existe um ser humano.
Prometo discordar com respeito, evitando ataques pessoais.
Entendo que minha pontuao (PULSE Score) reflete minha contribuio para a sade da comunidade.
`;/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nv=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Tv=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(n,l,r)=>r?r.toUpperCase():l.toLowerCase()),P0=i=>{const n=Tv(i);return n.charAt(0).toUpperCase()+n.slice(1)},km=(...i)=>i.filter((n,l,r)=>!!n&&n.trim()!==""&&r.indexOf(n)===l).join(" ").trim(),Ov=i=>{for(const n in i)if(n.startsWith("aria-")||n==="role"||n==="title")return!0};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Av={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cv=Q.forwardRef(({color:i="currentColor",size:n=24,strokeWidth:l=2,absoluteStrokeWidth:r,className:d="",children:h,iconNode:f,...p},g)=>Q.createElement("svg",{ref:g,...Av,width:n,height:n,stroke:i,strokeWidth:r?Number(l)*24/Number(n):l,className:km("lucide",d),...!h&&!Ov(p)&&{"aria-hidden":"true"},...p},[...f.map(([v,x])=>Q.createElement(v,x)),...Array.isArray(h)?h:[h]]));/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=(i,n)=>{const l=Q.forwardRef(({className:r,...d},h)=>Q.createElement(Cv,{ref:h,iconNode:n,className:km(`lucide-${Nv(P0(i))}`,`lucide-${i}`,r),...d}));return l.displayName=P0(i),l};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kv=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Rv=ue("arrow-left",kv);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uv=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Mv=ue("arrow-right",Uv);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dv=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],zv=ue("badge-check",Dv);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bv=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],qv=ue("book-open",Bv);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lv=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],$v=ue("book",Lv);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hv=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]],Gv=ue("bookmark",Hv);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vv=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Kv=ue("camera",Vv);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yv=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Iv=ue("check",Yv);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qv=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Pv=ue("chevron-right",Qv);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xv=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Jv=ue("chevron-left",Xv);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zv=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Wv=ue("clock",Zv);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fv=[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],eb=ue("compass",Fv);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tb=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],ab=ue("crown",tb);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sb=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]],nb=ue("film",sb);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lb=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],ib=ue("flame",lb);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rb=[["path",{d:"m14 13-8.381 8.38a1 1 0 0 1-3.001-3l8.384-8.381",key:"pgg06f"}],["path",{d:"m16 16 6-6",key:"vzrcl6"}],["path",{d:"m21.5 10.5-8-8",key:"a17d9x"}],["path",{d:"m8 8 6-6",key:"18bi4p"}],["path",{d:"m8.5 7.5 8 8",key:"1oyaui"}]],ob=ue("gavel",rb);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ub=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],cb=ue("globe",ub);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const db=[["path",{d:"M19.414 14.414C21 12.828 22 11.5 22 9.5a5.5 5.5 0 0 0-9.591-3.676.6.6 0 0 1-.818.001A5.5 5.5 0 0 0 2 9.5c0 2.3 1.5 4 3 5.5l5.535 5.362a2 2 0 0 0 2.879.052 2.12 2.12 0 0 0-.004-3 2.124 2.124 0 1 0 3-3 2.124 2.124 0 0 0 3.004 0 2 2 0 0 0 0-2.828l-1.881-1.882a2.41 2.41 0 0 0-3.409 0l-1.71 1.71a2 2 0 0 1-2.828 0 2 2 0 0 1 0-2.828l2.823-2.762",key:"17lmqv"}]],hb=ue("heart-handshake",db);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fb=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],mb=ue("heart",fb);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gb=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],pb=ue("image",gb);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vb=[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]],bb=ue("inbox",vb);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yb=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],xb=ue("info",yb);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _b=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}],["path",{d:"M14 4h7",key:"3xa0d5"}],["path",{d:"M14 9h7",key:"1icrd9"}],["path",{d:"M14 15h7",key:"1mj8o2"}],["path",{d:"M14 20h7",key:"11slyb"}]],wb=ue("layout-list",_b);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sb=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],jb=ue("lightbulb",Sb);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eb=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Nb=ue("lock",Eb);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tb=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Ob=ue("log-out",Tb);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ab=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Cb=ue("mail",Ab);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kb=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],Rb=ue("maximize-2",kb);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ub=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],Mb=ue("message-circle",Ub);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Db=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],zb=ue("message-square",Db);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bb=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M16.95 16.95A7 7 0 0 1 5 12v-2",key:"cqa7eg"}],["path",{d:"M18.89 13.23A7 7 0 0 0 19 12v-2",key:"16hl24"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}]],qb=ue("mic-off",Bb);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lb=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],$b=ue("mic",Lb);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hb=[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]],Gb=ue("minimize-2",Hb);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vb=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],Kb=ue("music",Vb);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yb=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Ib=ue("pen",Yb);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qb=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Pb=ue("play",Qb);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xb=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Jb=ue("plus",Xb);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zb=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],Wb=ue("quote",Zb);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fb=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],ey=ue("save",Fb);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ty=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],ay=ue("search",ty);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sy=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],ny=ue("send",sy);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ly=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],iy=ue("shield-check",ly);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ry=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],oy=ue("shield",ry);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uy=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],cy=ue("trash-2",uy);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dy=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],hy=ue("user-check",dy);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fy=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],my=ue("user-plus",fy);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gy=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],py=ue("user",gy);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vy=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],by=ue("users",vy);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yy=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],xy=ue("x",yy);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _y=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],wy=ue("zap",_y),$a=({className:i})=>c.jsx(by,{className:i}),oi=({className:i})=>c.jsx(Mb,{className:i}),Vc=({className:i})=>c.jsx(iy,{className:i}),ba=({className:i})=>c.jsx(wy,{className:i}),Vr=({className:i})=>c.jsx(qv,{className:i}),ui=({className:i})=>c.jsx(hb,{className:i}),tl=({className:i})=>c.jsx(xy,{className:i}),Kc=({className:i})=>c.jsx(ny,{className:i}),Sy=({className:i})=>c.jsx(Ib,{className:i}),jy=({className:i})=>c.jsx(Ob,{className:i}),Ey=({className:i})=>c.jsx(Kv,{className:i}),al=({className:i})=>c.jsx(Iv,{className:i}),Ny=({className:i})=>c.jsx(ey,{className:i}),ni=({className:i})=>c.jsx(Jb,{className:i}),X0=({className:i})=>c.jsx(cb,{className:i}),Rm=({className:i})=>c.jsx(my,{className:i}),Ty=({className:i})=>c.jsx(pb,{className:i}),ci=({className:i})=>c.jsx(cy,{className:i}),Nc=({className:i})=>c.jsx(ob,{className:i}),Um=({className:i})=>c.jsx(Wb,{className:i}),Oy=({className:i})=>c.jsx(Nb,{className:i}),Ay=({className:i})=>c.jsx(Cb,{className:i}),J0=({className:i})=>c.jsx(ib,{className:i}),Mm=({className:i})=>c.jsx($b,{className:i}),Cy=({className:i})=>c.jsx(Pb,{className:i}),ky=({className:i})=>c.jsx(eb,{className:i}),Ry=({className:i})=>c.jsx(wb,{className:i}),Dm=({className:i})=>c.jsx(Mv,{className:i}),Z0=({className:i})=>c.jsx(Rv,{className:i}),li=({className:i})=>c.jsx(hy,{className:i}),Uy=({className:i})=>c.jsx(oy,{className:i}),My=({className:i})=>c.jsx(zb,{className:i}),Kr=({className:i})=>c.jsx(bb,{className:i}),Dy=({className:i})=>c.jsx(xb,{className:i}),zy=({className:i})=>c.jsx(Jv,{className:i}),By=({className:i})=>c.jsx(Pv,{className:i}),Tc=({className:i})=>c.jsx(Gv,{className:i}),Yr=({className:i})=>c.jsx(ay,{className:i}),zr=({className:i})=>c.jsx($v,{className:i}),W0=({className:i})=>c.jsx(nb,{className:i}),F0=({className:i})=>c.jsx(Kb,{className:i}),qy=({className:i})=>c.jsx(Rb,{className:i}),Ly=({className:i})=>c.jsx(Gb,{className:i}),Oc=({className:i})=>c.jsx(Wv,{className:i}),$y=({className:i})=>c.jsx(qb,{className:i}),Hy=({className:i})=>c.jsx(py,{className:i}),Zs=({className:i})=>c.jsx(zv,{className:i}),Ws=({className:i})=>c.jsx(ab,{className:i}),em=({className:i})=>c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:i,children:[c.jsx("path",{d:"m19 7.8-2.5-2.5"}),c.jsx("path",{d:"m13.2 12.8-2.5-2.5"}),c.jsx("path",{d:"M19.8 12.1c.9.2 1.9-.3 2.1-1.2.2-.9-.3-1.9-1.2-2.1l-1.3-.3c-1.3-.4-2.8-.2-4.1.4l-.5.3c-.6.3-1 .9-1.2 1.5l-.2.9c-.2.9.3 1.9 1.2 2.1l5.2 1.4v-.1Z"}),c.jsx("path",{d:"M6.3 13.9c-.9-.2-1.9.3-2.1 1.2-.2.9.3 1.9 1.2 2.1l1.3.3c1.3.4 2.8.2 4.1-.4l.5-.3c.6-.3 1-.9 1.2-1.5l.2-.9c.2-.9-.3-1.9-1.2-2.1L6.3 13.9v.1Z"}),c.jsx("path",{d:"M11 4a5 5 0 0 0-4.8 6.4L2.8 11.2a2.3 2.3 0 0 0 .5 4.3l1.8.4a7 7 0 0 0 8.1 3.5l2.2-.5a2.3 2.3 0 0 0 1.2-4l-.9-3.2A5 5 0 0 0 11 4Z"})]}),Ac=({className:i})=>c.jsx(jb,{className:i}),tm=({className:i})=>c.jsx(mb,{className:i}),Gy=({user:i,children:n,currentView:l,onNavigate:r,onOpenPing:d,onTriggerPost:h,onOpenSearch:f,unreadPingCount:p=0})=>{const[g,v]=Q.useState(!1),[x,S]=Q.useState("");Q.useEffect(()=>{S(Cm())},[]);const E=({view:B,label:Y,icon:V})=>c.jsxs("button",{onClick:()=>{r(B)},className:`flex items-center w-full p-3 rounded-xl transition-all duration-200 relative group ${l===B?"bg-pulse-vitality text-pulse-dark font-bold shadow-lg shadow-yellow-500/20":"text-slate-400 hover:bg-pulse-light hover:text-slate-100"} ${g?"justify-center":"justify-start space-x-3"}`,title:g?Y:"",children:[c.jsx(V,{className:"w-5 h-5 flex-shrink-0"}),!g&&c.jsx("span",{className:"truncate",children:Y}),B==="INBOX"&&p>0&&c.jsx("div",{className:`absolute ${g?"-top-1 -right-1":"right-3 top-1/2 -translate-y-1/2"} flex items-center justify-center rounded-full ${l==="INBOX"?"bg-pulse-dark text-pulse-vitality":"bg-pulse-vitality text-pulse-dark"} min-w-[20px] h-5 px-1.5 z-10 shadow-sm`,children:c.jsx("span",{className:"text-[10px] font-extrabold",children:p})})]}),U=({view:B,icon:Y,hasBadge:V,badgeCount:H})=>{const X=l===B;return c.jsxs("button",{onClick:()=>r(B),className:`flex flex-col items-center justify-center w-full py-1 relative ${X?"text-pulse-vitality":"text-slate-500"}`,children:[c.jsx("div",{className:`p-1.5 rounded-xl transition-all ${X?"bg-pulse-vitality/10":""}`,children:c.jsx(Y,{className:`w-6 h-6 ${X?"stroke-[2.5px]":"stroke-2"}`})}),V&&H&&H>0&&c.jsx("span",{className:"absolute top-1 right-2 w-2 h-2 bg-pulse-vitality rounded-full ring-2 ring-pulse-base"})]})},k=(()=>{if(!i.reactionStats)return"border-pulse-vitality";const{I:B,P:Y,A:V,T:H}=i.reactionStats,X=Math.max(B,Y,V,H);return X===0?"border-pulse-vitality":X===B?"border-purple-400":X===Y?"border-blue-400":X===V?"border-orange-400":X===H?"border-pink-400":"border-pulse-vitality"})();return c.jsxs("div",{className:"min-h-screen bg-pulse-dark flex flex-col md:flex-row",children:[c.jsxs("header",{className:"md:hidden bg-pulse-base/90 backdrop-blur-md border-b border-slate-800 px-4 py-3 flex justify-between items-center sticky top-0 z-30 w-full shrink-0",children:[c.jsxs("div",{className:"flex items-center space-x-2",onClick:()=>r("HOME"),children:[c.jsx("div",{className:"w-8 h-8 bg-pulse-vitality rounded-full flex items-center justify-center shadow-sm",children:c.jsx(ba,{className:"text-pulse-dark w-5 h-5"})}),c.jsxs("h1",{className:"text-lg font-bold text-white tracking-tight",children:["PULSE",c.jsx("span",{className:"text-pulse-vitality",children:"OUT"})]})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("button",{onClick:f,className:"p-2 text-slate-400 hover:text-white",children:c.jsx(Yr,{className:"w-5 h-5"})}),c.jsxs("div",{className:"flex flex-col items-end",children:[c.jsx("span",{className:"text-[10px] text-slate-500 font-bold uppercase tracking-wider",children:"Score"}),c.jsx("span",{className:`text-xs font-bold ${i.pulseScore>100?"text-emerald-400":"text-white"}`,children:i.pulseScore})]}),c.jsxs("div",{className:`w-8 h-8 rounded-full border-2 ${k} p-[1px] relative`,children:[c.jsx("img",{src:i.avatar,alt:"User",className:"w-full h-full rounded-full object-cover"}),i.isFounder?c.jsx("div",{className:"absolute -bottom-1 -right-1 bg-pulse-base rounded-full p-0.5",children:c.jsx(Ws,{className:"w-3.5 h-3.5 text-yellow-500 fill-current"})}):i.isVerified&&c.jsx("div",{className:"absolute -bottom-1 -right-1 bg-pulse-base rounded-full p-0.5",children:c.jsx(Zs,{className:"w-3.5 h-3.5 text-pulse-vitality fill-current"})})]})]})]}),c.jsxs("nav",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-pulse-base border-t border-slate-800 z-50 px-2 pb-safe-area pt-2 flex justify-between items-center h-16 safe-area-pb",children:[c.jsx(U,{view:"HOME",icon:ba}),c.jsx(U,{view:"POCKETS",icon:$a}),c.jsx("div",{className:"relative -top-5",children:c.jsx("button",{onClick:()=>h(""),className:"w-14 h-14 bg-pulse-vitality rounded-full flex items-center justify-center shadow-lg shadow-yellow-500/20 border-4 border-pulse-base active:scale-95 transition-transform",children:c.jsx(ni,{className:"w-7 h-7 text-pulse-dark"})})}),c.jsx(U,{view:"INBOX",icon:Kr,hasBadge:!0,badgeCount:p}),c.jsx(U,{view:"PROFILE",icon:li})]}),c.jsxs("aside",{className:`hidden md:flex flex-col border-r border-slate-800 h-screen sticky top-0 z-20 overflow-x-hidden bg-pulse-base transition-all duration-300 ease-in-out ${g?"w-20":"w-72"}`,children:[c.jsxs("div",{className:`p-6 flex items-center ${g?"justify-center":"justify-between"} mb-4`,children:[!g&&c.jsxs("div",{className:"flex items-center space-x-2 cursor-pointer transition-opacity duration-300",onClick:()=>r("HOME"),children:[c.jsx("div",{className:"w-8 h-8 bg-pulse-vitality rounded-full flex items-center justify-center shadow-lg shadow-yellow-500/20 flex-shrink-0",children:c.jsx(ba,{className:"text-pulse-dark w-5 h-5"})}),c.jsxs("h1",{className:"text-xl font-bold tracking-tight text-white whitespace-nowrap",children:["PULSE",c.jsx("span",{className:"text-pulse-vitality",children:"OUT"})]})]}),g&&c.jsx("div",{className:"w-8 h-8 bg-pulse-vitality rounded-full flex items-center justify-center shadow-lg shadow-yellow-500/20 flex-shrink-0 cursor-pointer",onClick:()=>v(!1),children:c.jsx(ba,{className:"text-pulse-dark w-5 h-5"})}),c.jsx("button",{onClick:()=>v(!g),className:`text-slate-500 hover:text-white transition-colors p-1 rounded-lg hover:bg-slate-800 ${g?"hidden":"block"}`,title:"Recolher Menu",children:c.jsx(zy,{className:"w-5 h-5"})})]}),g&&c.jsx("div",{className:"flex justify-center mb-6",children:c.jsx("button",{onClick:()=>v(!1),className:"p-1 text-slate-500 hover:text-white hover:bg-slate-800 rounded-lg",title:"Expandir Menu",children:c.jsx(By,{className:"w-5 h-5"})})}),c.jsxs("nav",{className:"space-y-2 px-3 mb-8 flex-1",children:[c.jsx(E,{view:"HOME",label:"Feed Principal",icon:ba}),c.jsxs("button",{onClick:f,className:`flex items-center w-full p-3 rounded-xl transition-all duration-200 relative group text-slate-400 hover:bg-pulse-light hover:text-slate-100 ${g?"justify-center":"justify-start space-x-3"}`,title:"Buscar Pessoas",children:[c.jsx(Yr,{className:"w-5 h-5 flex-shrink-0"}),!g&&c.jsx("span",{className:"truncate",children:"Buscar Pessoas"})]}),c.jsx(E,{view:"INBOX",label:"Inbox (Pings)",icon:Kr}),c.jsx(E,{view:"POCKETS",label:"Meus Pockets",icon:$a}),c.jsx(E,{view:"PROFILE",label:"Meu Perfil",icon:Vc}),i.isArbiter&&c.jsx("div",{className:`pt-2 mt-2 border-t border-slate-800 ${g?"flex justify-center":""}`,children:c.jsx(E,{view:"ARBITER",label:"Zona dos rbitros",icon:Nc})})]}),c.jsx("div",{className:`px-4 mb-6 transition-opacity duration-300 ${g?"opacity-0 pointer-events-none h-0 overflow-hidden":"opacity-100"}`,children:c.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-slate-700",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2 text-pulse-vitality",children:[c.jsx(Um,{className:"w-4 h-4"}),c.jsx("span",{className:"text-xs font-bold uppercase whitespace-nowrap",children:"Reflexo (24h)"})]}),c.jsxs("p",{className:"text-sm text-slate-300 italic mb-3 line-clamp-3",children:['"',x,'"']}),c.jsx("button",{onClick:()=>h(x),className:"w-full py-2 bg-slate-700 hover:bg-slate-600 text-xs text-white font-bold rounded-lg transition-colors",children:"Responder"})]})}),c.jsx("div",{className:"mt-auto pt-4 pb-6 px-3 border-t border-slate-800",children:g?c.jsxs("div",{className:"flex flex-col items-center gap-3",children:[c.jsxs("div",{className:`p-[2px] rounded-full border-2 ${k} relative`,children:[c.jsx("img",{src:i.avatar,alt:i.name,className:"w-8 h-8 rounded-full"}),i.isFounder?c.jsx("div",{className:"absolute -bottom-1 -right-1 bg-pulse-base rounded-full p-0.5",children:c.jsx(Ws,{className:"w-3 h-3 text-yellow-500 fill-current"})}):i.isVerified&&c.jsx("div",{className:"absolute -bottom-1 -right-1 bg-pulse-base rounded-full p-0.5",children:c.jsx(Zs,{className:"w-3 h-3 text-pulse-vitality fill-current"})})]}),c.jsx("button",{onClick:d,disabled:i.dailyPingsRemaining===0,className:"p-2 bg-slate-700 hover:bg-slate-600 rounded-lg text-white disabled:opacity-50",title:`Pings: ${i.dailyPingsRemaining}`,children:c.jsx(oi,{className:"w-4 h-4"})})]}):c.jsxs("div",{className:"bg-pulse-light rounded-xl p-4 border border-slate-700",children:[c.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[c.jsx("div",{className:`p-[2px] rounded-full border-2 ${k}`,children:c.jsx("img",{src:i.avatar,alt:i.name,className:"w-10 h-10 rounded-full"})}),c.jsxs("div",{className:"overflow-hidden",children:[c.jsxs("p",{className:"text-sm font-semibold text-white truncate flex items-center gap-1",children:[i.name,i.isFounder?c.jsx(Ws,{className:"w-3 h-3 text-yellow-500 fill-current"}):i.isVerified&&c.jsx(Zs,{className:"w-3 h-3 text-pulse-vitality fill-current"})]}),c.jsx("p",{className:"text-xs text-slate-400 truncate",children:i.handle})]})]}),c.jsxs("div",{className:"mb-3",children:[c.jsxs("div",{className:"flex justify-between items-center mb-1",children:[c.jsx("span",{className:"text-xs text-slate-400 uppercase font-bold",children:"PULSE Score"}),c.jsxs("span",{className:"text-xs text-pulse-vitality font-bold",children:[i.pulseScore,"/150"]})]}),c.jsx("div",{className:"w-full bg-slate-800 rounded-full h-1.5 overflow-hidden",children:c.jsx("div",{className:"bg-gradient-to-r from-pulse-vitality to-yellow-600 h-1.5 rounded-full",style:{width:`${i.pulseScore/150*100}%`}})})]}),c.jsxs("button",{onClick:d,disabled:i.dailyPingsRemaining===0,className:"w-full bg-slate-700 hover:bg-slate-600 disabled:opacity-50 text-white text-xs py-2 px-3 rounded-lg flex items-center justify-center gap-2 transition-colors",children:[c.jsx(oi,{className:"w-3 h-3"}),c.jsxs("span",{children:["PINGS: ",i.dailyPingsRemaining,"/5"]})]})]})})]}),c.jsx("main",{className:"flex-1 min-w-0 transition-all duration-300 pb-20 md:pb-0",children:c.jsx("div",{className:"max-w-2xl mx-auto p-4 md:p-8",children:n})})]})},Br=({post:i,isCurrentUser:n,isFollowing:l,isBookmarked:r=!1,onToggleFollow:d,onToggleBookmark:h,onReact:f,onComment:p,onDelete:g,onDeleteComment:v})=>{const[x,S]=Q.useState(!1),[E,U]=Q.useState(!1),[M,k]=Q.useState(""),[B,Y]=Q.useState(!1),[V,H]=Q.useState(!1),X=de=>{if(de.preventDefault(),V){p("Mensagem de voz (0:15)",!0),H(!1);return}M.trim()&&(p(M,!1),k(""))},ge=()=>{H(!V),k("")},te=({type:de,count:je,icon:ze,label:he,colorClass:Be,activeClass:Qe})=>{const Ke=i.currentUserReaction===de;return c.jsxs("button",{onClick:()=>f(de),className:`group flex items-center space-x-1.5 px-3 py-1.5 rounded-full transition-all duration-200 border 
          ${Ke?`${Qe} border-current bg-opacity-10`:"border-transparent hover:bg-slate-800"}`,title:he,children:[c.jsx(ze,{className:`w-4 h-4 ${Ke?"text-current":Be}`}),c.jsx("span",{className:`text-xs font-medium ${Ke?"text-current font-bold":"text-slate-500 group-hover:text-white"}`,children:je})]})},Z=()=>{if(!i.userDominantReaction)return"border-pulse-vitality";switch(i.userDominantReaction){case"I":return"border-purple-400";case"P":return"border-blue-400";case"A":return"border-orange-400";case"T":return"border-pink-400";default:return"border-pulse-vitality"}},ce=i.isTimeCapsule&&i.scheduledFor&&new Date(i.scheduledFor)>new Date;return c.jsxs("div",{className:`
        bg-pulse-base border transition-all duration-500 relative group/card
        ${i.isSlowMode?"border-cyan-500/30":ce?"border-indigo-500/30 border-dashed":"border-slate-800"} 
        ${B?"fixed inset-0 z-50 p-8 md:p-16 overflow-y-auto m-0 rounded-none":"rounded-2xl p-6 mb-6 shadow-sm hover:shadow-md"}
    `,children:[B&&c.jsx("button",{onClick:()=>Y(!1),className:"fixed top-6 right-6 p-2 bg-slate-800 rounded-full text-white hover:bg-slate-700 z-50",children:c.jsx(Ly,{className:"w-6 h-6"})}),i.isSlowMode&&!ce&&c.jsx("div",{className:"absolute inset-0 overflow-hidden rounded-2xl pointer-events-none",children:c.jsx("div",{className:"absolute top-0 right-0 p-3 opacity-10",children:c.jsx(em,{className:"w-32 h-32 text-cyan-400"})})}),c.jsxs("div",{className:`flex justify-between items-start mb-4 relative z-10 ${B?"max-w-3xl mx-auto":""}`,children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:`p-[2px] rounded-full border-2 ${Z()}`,children:c.jsx("img",{src:i.userAvatar,alt:i.userName,className:"w-10 h-10 rounded-full object-cover"})}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("h3",{className:"font-semibold text-slate-200 text-sm flex items-center gap-1",children:[i.userName,i.userIsFounder?c.jsx(Ws,{className:"w-4 h-4 text-yellow-500 fill-current"}):i.userIsVerified&&c.jsx(Zs,{className:"w-4 h-4 text-pulse-vitality fill-current"}),i.coAuthorName&&c.jsxs("span",{className:"text-indigo-400 flex items-center gap-1",children:[c.jsx("span",{className:"text-slate-500",children:"&"})," ",i.coAuthorName]})]}),!n&&c.jsx("button",{onClick:d,className:`flex items-center gap-1 px-2 py-0.5 rounded-md transition-all text-[10px] font-bold uppercase tracking-wider ${l?"text-emerald-400 bg-emerald-900/20 border border-emerald-500/30":"text-slate-500 hover:text-pulse-vitality bg-slate-800 border border-slate-700 hover:border-pulse-vitality"}`,title:l?"Desconectar":"Sintonizar nas ideias deste usurio",children:l?c.jsx(c.Fragment,{children:c.jsx(al,{className:"w-3 h-3"})}):c.jsx(c.Fragment,{children:c.jsx(Rm,{className:"w-3 h-3"})})})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("span",{className:`text-xs font-medium px-2 py-0.5 rounded-md ${i.pocketId?"text-pulse-vitality bg-pulse-vitality/10":"text-slate-400 bg-slate-800"}`,children:i.pocketName||"Global"}),c.jsxs("span",{className:"text-xs text-slate-500",children:[" ",i.timestamp]})]})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[!B&&!ce&&c.jsx("button",{onClick:()=>Y(!0),className:"p-2 text-slate-600 hover:text-pulse-vitality hover:bg-slate-800 rounded-lg",title:"Leitura Imersiva",children:c.jsx(qy,{className:"w-4 h-4"})}),ce&&c.jsxs("div",{className:"flex items-center space-x-1 text-indigo-400 bg-indigo-900/20 border border-indigo-500/30 px-2 py-1 rounded-lg",children:[c.jsx(Oc,{className:"w-4 h-4"}),c.jsx("span",{className:"text-xs font-bold uppercase tracking-wider hidden sm:inline",children:"Locked"})]}),i.isSlowMode&&c.jsxs("div",{className:"flex items-center space-x-1 text-cyan-400 bg-cyan-900/20 border border-cyan-500/30 px-2 py-1 rounded-lg",title:"Slow-Motion: 1 resposta a cada 30min",children:[c.jsx(em,{className:"w-4 h-4"}),c.jsx("span",{className:"text-xs font-bold uppercase tracking-wider hidden sm:inline",children:"Slow"})]}),i.depthBadge&&c.jsxs("div",{className:"flex items-center space-x-1 text-emerald-400 bg-emerald-400/10 px-2 py-1 rounded-lg",title:"Selo de Profundidade",children:[c.jsx(Vr,{className:"w-4 h-4"}),c.jsx("span",{className:"text-xs font-bold uppercase tracking-wider hidden sm:inline",children:"Depth"})]}),h&&c.jsx("button",{onClick:h,className:`p-2 rounded-lg transition-colors ${r?"text-pulse-vitality bg-yellow-900/10":"text-slate-600 hover:text-pulse-vitality hover:bg-slate-800"}`,title:r?"Remover Eco":"Salvar Eco",children:c.jsx(Tc,{className:`w-4 h-4 ${r?"fill-current":""}`})}),n&&g&&c.jsx("button",{onClick:()=>{window.confirm("Tem certeza que deseja excluir este post?")&&g()},className:"p-2 text-slate-600 hover:text-red-400 hover:bg-red-900/20 rounded-lg transition-colors ml-2",title:"Excluir Post",children:c.jsx(ci,{className:"w-4 h-4"})})]})]}),ce?c.jsxs("div",{className:"py-8 text-center relative z-10",children:[c.jsx("div",{className:"w-16 h-16 bg-slate-800 rounded-full flex items-center justify-center mx-auto mb-4 animate-pulse",children:c.jsx(Oc,{className:"w-8 h-8 text-slate-500"})}),c.jsx("h3",{className:"text-white font-bold text-lg mb-1",children:"Cpsula do Tempo"}),c.jsx("p",{className:"text-slate-400 text-sm",children:"Este contedo est programado para ser revelado em:"}),c.jsx("p",{className:"text-indigo-400 font-mono mt-2 font-bold",children:new Date(i.scheduledFor||"").toLocaleDateString()})]}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:`${B?"max-w-3xl mx-auto":""}`,children:[c.jsx("p",{className:`text-slate-300 leading-relaxed mb-6 whitespace-pre-wrap relative z-10 ${B?"text-xl md:text-2xl leading-loose font-serif":""}`,children:i.content}),i.imageUrl&&c.jsx("div",{className:"mb-6 rounded-xl overflow-hidden border border-slate-800 relative z-10",children:c.jsx("img",{src:i.imageUrl,alt:"Anexo do post",className:"w-full h-auto object-cover max-h-[500px]"})})]}),c.jsxs("div",{className:`flex items-center justify-between pt-4 border-t border-slate-800/50 relative z-10 ${B?"max-w-3xl mx-auto w-full":""}`,children:[c.jsxs("div",{className:"relative",children:[E&&c.jsxs("div",{className:"absolute bottom-full left-0 mb-3 z-50 w-72 bg-slate-900 border border-slate-700 p-4 rounded-xl shadow-2xl animate-fade-in-up",children:[c.jsxs("div",{className:"flex justify-between items-center mb-3",children:[c.jsx("h4",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider",children:"Guia de Sentimentos"}),c.jsx("button",{onClick:()=>U(!1),children:c.jsx("span",{className:"text-xs text-slate-500 hover:text-white",children:""})})]}),c.jsxs("ul",{className:"space-y-3",children:[c.jsxs("li",{className:"flex items-start gap-2 text-xs text-slate-300",children:[c.jsx(Ac,{className:"w-4 h-4 text-purple-400 flex-shrink-0"}),c.jsxs("span",{children:[c.jsx("span",{className:"text-purple-300 font-bold",children:"Inspirou:"})," Clareou a mente, trouxe novas ideias."]})]}),c.jsxs("li",{className:"flex items-start gap-2 text-xs text-slate-300",children:[c.jsx(Vr,{className:"w-4 h-4 text-blue-400 flex-shrink-0"}),c.jsxs("span",{children:[c.jsx("span",{className:"text-blue-300 font-bold",children:"Profundo:"})," Contedo denso, gerou reflexo."]})]}),c.jsxs("li",{className:"flex items-start gap-2 text-xs text-slate-300",children:[c.jsx(ui,{className:"w-4 h-4 text-orange-400 flex-shrink-0"}),c.jsxs("span",{children:[c.jsx("span",{className:"text-orange-300 font-bold",children:"Apoio:"}),' Solidariedade, "estou contigo".']})]}),c.jsxs("li",{className:"flex items-start gap-2 text-xs text-slate-300",children:[c.jsx(tm,{className:"w-4 h-4 text-pink-400 flex-shrink-0"}),c.jsxs("span",{children:[c.jsx("span",{className:"text-pink-300 font-bold",children:"Grato:"})," Reconhecimento, tocou o corao."]})]})]})]}),c.jsxs("div",{className:"flex flex-wrap gap-1 items-center",children:[c.jsx(te,{type:"I",count:i.reactions.I,icon:Ac,label:"Inspirou",colorClass:"text-purple-400",activeClass:"bg-purple-500/20 text-purple-400 border-purple-500"}),c.jsx(te,{type:"P",count:i.reactions.P,icon:Vr,label:"Profundo",colorClass:"text-blue-400",activeClass:"bg-blue-500/20 text-blue-400 border-blue-500"}),c.jsx(te,{type:"A",count:i.reactions.A,icon:ui,label:"Apoio",colorClass:"text-orange-400",activeClass:"bg-orange-500/20 text-orange-400 border-orange-500"}),c.jsx(te,{type:"T",count:i.reactions.T,icon:tm,label:"Grato",colorClass:"text-pink-400",activeClass:"bg-pink-500/20 text-pink-400 border-pink-500"}),c.jsx("button",{onClick:de=>{de.stopPropagation(),U(!E)},className:`ml-1 p-1.5 rounded-full transition-colors ${E?"bg-slate-800 text-pulse-vitality":"text-slate-600 hover:text-slate-400 hover:bg-slate-800/50"}`,title:"Entenda as reaes",children:c.jsx(Dy,{className:"w-3.5 h-3.5"})})]})]}),c.jsxs("button",{onClick:()=>S(!x),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-full transition-colors ${x?"bg-slate-800 text-pulse-vitality":"text-slate-500 hover:text-slate-300 hover:bg-slate-800/50"}`,children:[c.jsx(My,{className:"w-4 h-4"}),c.jsx("span",{className:"text-xs font-bold",children:i.comments?i.comments.length:0})]})]}),i.isSlowMode&&c.jsx("div",{className:`mt-4 bg-cyan-950/30 border border-cyan-900/50 rounded-lg p-3 flex items-center justify-between text-xs text-cyan-300 relative z-10 ${B?"max-w-3xl mx-auto w-full":""}`,children:c.jsxs("span",{children:[" ",c.jsx("b",{children:"Modo Lento Ativo:"})," Escreva com inteno. Voc s pode responder novamente em 30min."]})}),x&&c.jsxs("div",{className:`mt-6 pt-4 border-t border-slate-800 animate-fade-in relative z-10 ${B?"max-w-3xl mx-auto w-full":""}`,children:[c.jsx("div",{className:"space-y-4 mb-4",children:i.comments&&i.comments.length>0?i.comments.map(de=>c.jsxs("div",{className:"flex gap-3 group/comment",children:[c.jsx("img",{src:de.userAvatar,alt:de.userName,className:"w-8 h-8 rounded-full object-cover flex-shrink-0"}),c.jsxs("div",{className:`bg-slate-900/50 p-3 rounded-tr-xl rounded-br-xl rounded-bl-xl border border-slate-800/50 flex-1 relative ${de.isVoice?"border-pulse-vitality/30":""}`,children:[c.jsxs("div",{className:"flex items-center justify-between mb-1",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("span",{className:"text-xs font-bold text-slate-200 flex items-center gap-1",children:[de.userName,de.userIsFounder?c.jsx(Ws,{className:"w-3 h-3 text-yellow-500 fill-current"}):de.userIsVerified&&c.jsx(Zs,{className:"w-3 h-3 text-pulse-vitality"})]}),c.jsx("span",{className:"text-[10px] text-slate-500",children:de.timestamp})]}),v&&c.jsx("button",{onClick:()=>{window.confirm("Apagar comentrio?")&&v(de.id)},className:"opacity-0 group-hover/comment:opacity-100 text-slate-600 hover:text-red-400 p-1 transition-all",children:c.jsx(ci,{className:"w-3 h-3"})})]}),de.isVoice?c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("button",{className:"w-8 h-8 rounded-full bg-pulse-vitality text-pulse-dark flex items-center justify-center hover:bg-yellow-400 transition-colors",children:c.jsx(Cy,{className:"w-4 h-4 ml-0.5"})}),c.jsx("div",{className:"flex-1 h-8 flex items-center gap-1 opacity-50",children:[...Array(12)].map((je,ze)=>c.jsx("div",{className:"w-1 bg-slate-400 rounded-full",style:{height:`${Math.random()*20+5}px`}},ze))}),c.jsx("span",{className:"text-xs font-mono text-slate-400",children:"0:15"})]}):c.jsx("p",{className:"text-sm text-slate-300",children:de.content})]})]},de.id)):c.jsx("p",{className:"text-center text-xs text-slate-500 italic py-2",children:"Seja o primeiro a aprofundar essa conversa."})}),c.jsxs("form",{onSubmit:X,className:"flex gap-2 items-end",children:[c.jsxs("div",{className:`flex-1 bg-slate-900 border ${V?"border-red-500/50 bg-red-900/10":"border-slate-700"} rounded-xl overflow-hidden focus-within:border-slate-500 transition-colors flex items-center pr-2`,children:[V?c.jsxs("div",{className:"w-full p-3 text-sm text-red-300 flex items-center gap-2 animate-pulse",children:[c.jsx("span",{className:"w-2 h-2 bg-red-500 rounded-full"})," Gravando resposta de voz..."]}):c.jsx("textarea",{value:M,onChange:de=>k(de.target.value),placeholder:"Adicione sua perspectiva...",className:"w-full bg-transparent p-3 text-sm text-white placeholder-slate-500 focus:outline-none resize-none",rows:1,style:{minHeight:"44px"}}),c.jsx("button",{type:"button",onClick:ge,className:`p-2 rounded-full transition-colors ${V?"text-red-400 bg-red-900/20":"text-slate-500 hover:text-white"}`,title:"Gravar Voz",children:V?c.jsx($y,{className:"w-4 h-4"}):c.jsx(Mm,{className:"w-4 h-4"})})]}),c.jsx("button",{type:"submit",disabled:!V&&!M.trim(),className:`p-3 rounded-xl transition-colors ${V?"bg-red-500 hover:bg-red-400 text-white":"bg-pulse-vitality text-pulse-dark hover:bg-yellow-400 disabled:opacity-50 disabled:cursor-not-allowed"}`,children:c.jsx(Kc,{className:"w-4 h-4"})})]})]})]})]})};function Xr(i,n){var l={};for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&n.indexOf(r)<0&&(l[r]=i[r]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,r=Object.getOwnPropertySymbols(i);d<r.length;d++)n.indexOf(r[d])<0&&Object.prototype.propertyIsEnumerable.call(i,r[d])&&(l[r[d]]=i[r[d]]);return l}function ee(i,n,l,r){function d(h){return h instanceof l?h:new l(function(f){f(h)})}return new(l||(l=Promise))(function(h,f){function p(x){try{v(r.next(x))}catch(S){f(S)}}function g(x){try{v(r.throw(x))}catch(S){f(S)}}function v(x){x.done?h(x.value):d(x.value).then(p,g)}v((r=r.apply(i,n||[])).next())})}const Vy=i=>i?(...n)=>i(...n):(...n)=>fetch(...n);class Yc extends Error{constructor(n,l="FunctionsError",r){super(n),this.name=l,this.context=r}}class Ky extends Yc{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class am extends Yc{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class sm extends Yc{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var Cc;(function(i){i.Any="any",i.ApNortheast1="ap-northeast-1",i.ApNortheast2="ap-northeast-2",i.ApSouth1="ap-south-1",i.ApSoutheast1="ap-southeast-1",i.ApSoutheast2="ap-southeast-2",i.CaCentral1="ca-central-1",i.EuCentral1="eu-central-1",i.EuWest1="eu-west-1",i.EuWest2="eu-west-2",i.EuWest3="eu-west-3",i.SaEast1="sa-east-1",i.UsEast1="us-east-1",i.UsWest1="us-west-1",i.UsWest2="us-west-2"})(Cc||(Cc={}));class Yy{constructor(n,{headers:l={},customFetch:r,region:d=Cc.Any}={}){this.url=n,this.headers=l,this.region=d,this.fetch=Vy(r)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n){return ee(this,arguments,void 0,function*(l,r={}){var d;let h,f;try{const{headers:p,method:g,body:v,signal:x,timeout:S}=r;let E={},{region:U}=r;U||(U=this.region);const M=new URL(`${this.url}/${l}`);U&&U!=="any"&&(E["x-region"]=U,M.searchParams.set("forceFunctionRegion",U));let k;v&&(p&&!Object.prototype.hasOwnProperty.call(p,"Content-Type")||!p)?typeof Blob<"u"&&v instanceof Blob||v instanceof ArrayBuffer?(E["Content-Type"]="application/octet-stream",k=v):typeof v=="string"?(E["Content-Type"]="text/plain",k=v):typeof FormData<"u"&&v instanceof FormData?k=v:(E["Content-Type"]="application/json",k=JSON.stringify(v)):k=v;let B=x;S&&(f=new AbortController,h=setTimeout(()=>f.abort(),S),x?(B=f.signal,x.addEventListener("abort",()=>f.abort())):B=f.signal);const Y=yield this.fetch(M.toString(),{method:g||"POST",headers:Object.assign(Object.assign(Object.assign({},E),this.headers),p),body:k,signal:B}).catch(ge=>{throw new Ky(ge)}),V=Y.headers.get("x-relay-error");if(V&&V==="true")throw new am(Y);if(!Y.ok)throw new sm(Y);let H=((d=Y.headers.get("Content-Type"))!==null&&d!==void 0?d:"text/plain").split(";")[0].trim(),X;return H==="application/json"?X=yield Y.json():H==="application/octet-stream"||H==="application/pdf"?X=yield Y.blob():H==="text/event-stream"?X=Y:H==="multipart/form-data"?X=yield Y.formData():X=yield Y.text(),{data:X,error:null,response:Y}}catch(p){return{data:null,error:p,response:p instanceof sm||p instanceof am?p.context:void 0}}finally{h&&clearTimeout(h)}})}}var ct={},$n={},Hn={},Gn={},Vn={},Kn={},Iy=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},el=Iy();const Qy=el.fetch,zm=el.fetch.bind(el),Bm=el.Headers,Py=el.Request,Xy=el.Response,Jy=Object.freeze(Object.defineProperty({__proto__:null,Headers:Bm,Request:Py,Response:Xy,default:zm,fetch:Qy},Symbol.toStringTag,{value:"Module"})),Zy=cv(Jy);var qr={},nm;function qm(){if(nm)return qr;nm=1,Object.defineProperty(qr,"__esModule",{value:!0});class i extends Error{constructor(l){super(l.message),this.name="PostgrestError",this.details=l.details,this.hint=l.hint,this.code=l.code}}return qr.default=i,qr}var lm;function Lm(){if(lm)return Kn;lm=1;var i=Kn&&Kn.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(Kn,"__esModule",{value:!0});const n=i(Zy),l=i(qm());class r{constructor(h){var f,p;this.shouldThrowOnError=!1,this.method=h.method,this.url=h.url,this.headers=new Headers(h.headers),this.schema=h.schema,this.body=h.body,this.shouldThrowOnError=(f=h.shouldThrowOnError)!==null&&f!==void 0?f:!1,this.signal=h.signal,this.isMaybeSingle=(p=h.isMaybeSingle)!==null&&p!==void 0?p:!1,h.fetch?this.fetch=h.fetch:typeof fetch>"u"?this.fetch=n.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(h,f){return this.headers=new Headers(this.headers),this.headers.set(h,f),this}then(h,f){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const p=this.fetch;let g=p(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async v=>{var x,S,E,U;let M=null,k=null,B=null,Y=v.status,V=v.statusText;if(v.ok){if(this.method!=="HEAD"){const te=await v.text();te===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((x=this.headers.get("Accept"))===null||x===void 0)&&x.includes("application/vnd.pgrst.plan+text"))?k=te:k=JSON.parse(te))}const X=(S=this.headers.get("Prefer"))===null||S===void 0?void 0:S.match(/count=(exact|planned|estimated)/),ge=(E=v.headers.get("content-range"))===null||E===void 0?void 0:E.split("/");X&&ge&&ge.length>1&&(B=parseInt(ge[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(k)&&(k.length>1?(M={code:"PGRST116",details:`Results contain ${k.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},k=null,B=null,Y=406,V="Not Acceptable"):k.length===1?k=k[0]:k=null)}else{const X=await v.text();try{M=JSON.parse(X),Array.isArray(M)&&v.status===404&&(k=[],M=null,Y=200,V="OK")}catch{v.status===404&&X===""?(Y=204,V="No Content"):M={message:X}}if(M&&this.isMaybeSingle&&(!((U=M==null?void 0:M.details)===null||U===void 0)&&U.includes("0 rows"))&&(M=null,Y=200,V="OK"),M&&this.shouldThrowOnError)throw new l.default(M)}return{error:M,data:k,count:B,status:Y,statusText:V}});return this.shouldThrowOnError||(g=g.catch(v=>{var x,S,E;return{error:{message:`${(x=v==null?void 0:v.name)!==null&&x!==void 0?x:"FetchError"}: ${v==null?void 0:v.message}`,details:`${(S=v==null?void 0:v.stack)!==null&&S!==void 0?S:""}`,hint:"",code:`${(E=v==null?void 0:v.code)!==null&&E!==void 0?E:""}`},data:null,count:null,status:0,statusText:""}})),g.then(h,f)}returns(){return this}overrideTypes(){return this}}return Kn.default=r,Kn}var im;function $m(){if(im)return Vn;im=1;var i=Vn&&Vn.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Vn,"__esModule",{value:!0});const n=i(Lm());class l extends n.default{select(d){let h=!1;const f=(d??"*").split("").map(p=>/\s/.test(p)&&!h?"":(p==='"'&&(h=!h),p)).join("");return this.url.searchParams.set("select",f),this.headers.append("Prefer","return=representation"),this}order(d,{ascending:h=!0,nullsFirst:f,foreignTable:p,referencedTable:g=p}={}){const v=g?`${g}.order`:"order",x=this.url.searchParams.get(v);return this.url.searchParams.set(v,`${x?`${x},`:""}${d}.${h?"asc":"desc"}${f===void 0?"":f?".nullsfirst":".nullslast"}`),this}limit(d,{foreignTable:h,referencedTable:f=h}={}){const p=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(p,`${d}`),this}range(d,h,{foreignTable:f,referencedTable:p=f}={}){const g=typeof p>"u"?"offset":`${p}.offset`,v=typeof p>"u"?"limit":`${p}.limit`;return this.url.searchParams.set(g,`${d}`),this.url.searchParams.set(v,`${h-d+1}`),this}abortSignal(d){return this.signal=d,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:d=!1,verbose:h=!1,settings:f=!1,buffers:p=!1,wal:g=!1,format:v="text"}={}){var x;const S=[d?"analyze":null,h?"verbose":null,f?"settings":null,p?"buffers":null,g?"wal":null].filter(Boolean).join("|"),E=(x=this.headers.get("Accept"))!==null&&x!==void 0?x:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${v}; for="${E}"; options=${S};`),v==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(d){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${d}`),this}}return Vn.default=l,Vn}var rm;function Ic(){if(rm)return Gn;rm=1;var i=Gn&&Gn.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Gn,"__esModule",{value:!0});const n=i($m());class l extends n.default{eq(d,h){return this.url.searchParams.append(d,`eq.${h}`),this}neq(d,h){return this.url.searchParams.append(d,`neq.${h}`),this}gt(d,h){return this.url.searchParams.append(d,`gt.${h}`),this}gte(d,h){return this.url.searchParams.append(d,`gte.${h}`),this}lt(d,h){return this.url.searchParams.append(d,`lt.${h}`),this}lte(d,h){return this.url.searchParams.append(d,`lte.${h}`),this}like(d,h){return this.url.searchParams.append(d,`like.${h}`),this}likeAllOf(d,h){return this.url.searchParams.append(d,`like(all).{${h.join(",")}}`),this}likeAnyOf(d,h){return this.url.searchParams.append(d,`like(any).{${h.join(",")}}`),this}ilike(d,h){return this.url.searchParams.append(d,`ilike.${h}`),this}ilikeAllOf(d,h){return this.url.searchParams.append(d,`ilike(all).{${h.join(",")}}`),this}ilikeAnyOf(d,h){return this.url.searchParams.append(d,`ilike(any).{${h.join(",")}}`),this}is(d,h){return this.url.searchParams.append(d,`is.${h}`),this}in(d,h){const f=Array.from(new Set(h)).map(p=>typeof p=="string"&&new RegExp("[,()]").test(p)?`"${p}"`:`${p}`).join(",");return this.url.searchParams.append(d,`in.(${f})`),this}contains(d,h){return typeof h=="string"?this.url.searchParams.append(d,`cs.${h}`):Array.isArray(h)?this.url.searchParams.append(d,`cs.{${h.join(",")}}`):this.url.searchParams.append(d,`cs.${JSON.stringify(h)}`),this}containedBy(d,h){return typeof h=="string"?this.url.searchParams.append(d,`cd.${h}`):Array.isArray(h)?this.url.searchParams.append(d,`cd.{${h.join(",")}}`):this.url.searchParams.append(d,`cd.${JSON.stringify(h)}`),this}rangeGt(d,h){return this.url.searchParams.append(d,`sr.${h}`),this}rangeGte(d,h){return this.url.searchParams.append(d,`nxl.${h}`),this}rangeLt(d,h){return this.url.searchParams.append(d,`sl.${h}`),this}rangeLte(d,h){return this.url.searchParams.append(d,`nxr.${h}`),this}rangeAdjacent(d,h){return this.url.searchParams.append(d,`adj.${h}`),this}overlaps(d,h){return typeof h=="string"?this.url.searchParams.append(d,`ov.${h}`):this.url.searchParams.append(d,`ov.{${h.join(",")}}`),this}textSearch(d,h,{config:f,type:p}={}){let g="";p==="plain"?g="pl":p==="phrase"?g="ph":p==="websearch"&&(g="w");const v=f===void 0?"":`(${f})`;return this.url.searchParams.append(d,`${g}fts${v}.${h}`),this}match(d){return Object.entries(d).forEach(([h,f])=>{this.url.searchParams.append(h,`eq.${f}`)}),this}not(d,h,f){return this.url.searchParams.append(d,`not.${h}.${f}`),this}or(d,{foreignTable:h,referencedTable:f=h}={}){const p=f?`${f}.or`:"or";return this.url.searchParams.append(p,`(${d})`),this}filter(d,h,f){return this.url.searchParams.append(d,`${h}.${f}`),this}}return Gn.default=l,Gn}var om;function Hm(){if(om)return Hn;om=1;var i=Hn&&Hn.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Hn,"__esModule",{value:!0});const n=i(Ic());class l{constructor(d,{headers:h={},schema:f,fetch:p}){this.url=d,this.headers=new Headers(h),this.schema=f,this.fetch=p}select(d,{head:h=!1,count:f}={}){const p=h?"HEAD":"GET";let g=!1;const v=(d??"*").split("").map(x=>/\s/.test(x)&&!g?"":(x==='"'&&(g=!g),x)).join("");return this.url.searchParams.set("select",v),f&&this.headers.append("Prefer",`count=${f}`),new n.default({method:p,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(d,{count:h,defaultToNull:f=!0}={}){var p;const g="POST";if(h&&this.headers.append("Prefer",`count=${h}`),f||this.headers.append("Prefer","missing=default"),Array.isArray(d)){const v=d.reduce((x,S)=>x.concat(Object.keys(S)),[]);if(v.length>0){const x=[...new Set(v)].map(S=>`"${S}"`);this.url.searchParams.set("columns",x.join(","))}}return new n.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:d,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}upsert(d,{onConflict:h,ignoreDuplicates:f=!1,count:p,defaultToNull:g=!0}={}){var v;const x="POST";if(this.headers.append("Prefer",`resolution=${f?"ignore":"merge"}-duplicates`),h!==void 0&&this.url.searchParams.set("on_conflict",h),p&&this.headers.append("Prefer",`count=${p}`),g||this.headers.append("Prefer","missing=default"),Array.isArray(d)){const S=d.reduce((E,U)=>E.concat(Object.keys(U)),[]);if(S.length>0){const E=[...new Set(S)].map(U=>`"${U}"`);this.url.searchParams.set("columns",E.join(","))}}return new n.default({method:x,url:this.url,headers:this.headers,schema:this.schema,body:d,fetch:(v=this.fetch)!==null&&v!==void 0?v:fetch})}update(d,{count:h}={}){var f;const p="PATCH";return h&&this.headers.append("Prefer",`count=${h}`),new n.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:d,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}delete({count:d}={}){var h;const f="DELETE";return d&&this.headers.append("Prefer",`count=${d}`),new n.default({method:f,url:this.url,headers:this.headers,schema:this.schema,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}}return Hn.default=l,Hn}var um;function Wy(){if(um)return $n;um=1;var i=$n&&$n.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty($n,"__esModule",{value:!0});const n=i(Hm()),l=i(Ic());class r{constructor(h,{headers:f={},schema:p,fetch:g}={}){this.url=h,this.headers=new Headers(f),this.schemaName=p,this.fetch=g}from(h){const f=new URL(`${this.url}/${h}`);return new n.default(f,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(h){return new r(this.url,{headers:this.headers,schema:h,fetch:this.fetch})}rpc(h,f={},{head:p=!1,get:g=!1,count:v}={}){var x;let S;const E=new URL(`${this.url}/rpc/${h}`);let U;p||g?(S=p?"HEAD":"GET",Object.entries(f).filter(([k,B])=>B!==void 0).map(([k,B])=>[k,Array.isArray(B)?`{${B.join(",")}}`:`${B}`]).forEach(([k,B])=>{E.searchParams.append(k,B)})):(S="POST",U=f);const M=new Headers(this.headers);return v&&M.set("Prefer",`count=${v}`),new l.default({method:S,url:E,headers:M,schema:this.schemaName,body:U,fetch:(x=this.fetch)!==null&&x!==void 0?x:fetch})}}return $n.default=r,$n}var cm;function Fy(){if(cm)return ct;cm=1;var i=ct&&ct.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(ct,"__esModule",{value:!0}),ct.PostgrestError=ct.PostgrestBuilder=ct.PostgrestTransformBuilder=ct.PostgrestFilterBuilder=ct.PostgrestQueryBuilder=ct.PostgrestClient=void 0;const n=i(Wy());ct.PostgrestClient=n.default;const l=i(Hm());ct.PostgrestQueryBuilder=l.default;const r=i(Ic());ct.PostgrestFilterBuilder=r.default;const d=i($m());ct.PostgrestTransformBuilder=d.default;const h=i(Lm());ct.PostgrestBuilder=h.default;const f=i(qm());return ct.PostgrestError=f.default,ct.default={PostgrestClient:n.default,PostgrestQueryBuilder:l.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:d.default,PostgrestBuilder:h.default,PostgrestError:f.default},ct}var ex=Fy();const tx=Hc(ex),{PostgrestClient:ax,PostgrestQueryBuilder:Cw,PostgrestFilterBuilder:kw,PostgrestTransformBuilder:Rw,PostgrestBuilder:Uw,PostgrestError:Mw}=tx;class sx{constructor(){}static detectEnvironment(){var n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((n=navigator.userAgent)===null||n===void 0)&&n.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const l=process.versions;if(l&&l.node){const r=l.node,d=parseInt(r.replace(/^v/,"").split(".")[0]);return d>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${d} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${d} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const n=this.detectEnvironment();if(n.constructor)return n.constructor;let l=n.error||"WebSocket not supported in this environment.";throw n.workaround&&(l+=`

Suggested solution: ${n.workaround}`),new Error(l)}static createWebSocket(n,l){const r=this.getWebSocketConstructor();return new r(n,l)}static isWebSocketSupported(){try{const n=this.detectEnvironment();return n.type==="native"||n.type==="ws"}catch{return!1}}}const nx="2.86.2",lx=`realtime-js/${nx}`,Gm="1.0.0",ix="2.0.0",dm=Gm,kc=1e4,rx=1e3,ox=100;var Qs;(function(i){i[i.connecting=0]="connecting",i[i.open=1]="open",i[i.closing=2]="closing",i[i.closed=3]="closed"})(Qs||(Qs={}));var ot;(function(i){i.closed="closed",i.errored="errored",i.joined="joined",i.joining="joining",i.leaving="leaving"})(ot||(ot={}));var ca;(function(i){i.close="phx_close",i.error="phx_error",i.join="phx_join",i.reply="phx_reply",i.leave="phx_leave",i.access_token="access_token"})(ca||(ca={}));var Rc;(function(i){i.websocket="websocket"})(Rc||(Rc={}));var Ps;(function(i){i.Connecting="connecting",i.Open="open",i.Closing="closing",i.Closed="closed"})(Ps||(Ps={}));class ux{constructor(n){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=n??[]}encode(n,l){if(n.event===this.BROADCAST_EVENT&&!(n.payload instanceof ArrayBuffer)&&typeof n.payload.event=="string")return l(this._binaryEncodeUserBroadcastPush(n));let r=[n.join_ref,n.ref,n.topic,n.event,n.payload];return l(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(n){var l;return this._isArrayBuffer((l=n.payload)===null||l===void 0?void 0:l.payload)?this._encodeBinaryUserBroadcastPush(n):this._encodeJsonUserBroadcastPush(n)}_encodeBinaryUserBroadcastPush(n){var l,r;const d=(r=(l=n.payload)===null||l===void 0?void 0:l.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(n,this.BINARY_ENCODING,d)}_encodeJsonUserBroadcastPush(n){var l,r;const d=(r=(l=n.payload)===null||l===void 0?void 0:l.payload)!==null&&r!==void 0?r:{},f=new TextEncoder().encode(JSON.stringify(d)).buffer;return this._encodeUserBroadcastPush(n,this.JSON_ENCODING,f)}_encodeUserBroadcastPush(n,l,r){var d,h;const f=n.topic,p=(d=n.ref)!==null&&d!==void 0?d:"",g=(h=n.join_ref)!==null&&h!==void 0?h:"",v=n.payload.event,x=this.allowedMetadataKeys?this._pick(n.payload,this.allowedMetadataKeys):{},S=Object.keys(x).length===0?"":JSON.stringify(x);if(g.length>255)throw new Error(`joinRef length ${g.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`ref length ${p.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`topic length ${f.length} exceeds maximum of 255`);if(v.length>255)throw new Error(`userEvent length ${v.length} exceeds maximum of 255`);if(S.length>255)throw new Error(`metadata length ${S.length} exceeds maximum of 255`);const E=this.USER_BROADCAST_PUSH_META_LENGTH+g.length+p.length+f.length+v.length+S.length,U=new ArrayBuffer(this.HEADER_LENGTH+E);let M=new DataView(U),k=0;M.setUint8(k++,this.KINDS.userBroadcastPush),M.setUint8(k++,g.length),M.setUint8(k++,p.length),M.setUint8(k++,f.length),M.setUint8(k++,v.length),M.setUint8(k++,S.length),M.setUint8(k++,l),Array.from(g,Y=>M.setUint8(k++,Y.charCodeAt(0))),Array.from(p,Y=>M.setUint8(k++,Y.charCodeAt(0))),Array.from(f,Y=>M.setUint8(k++,Y.charCodeAt(0))),Array.from(v,Y=>M.setUint8(k++,Y.charCodeAt(0))),Array.from(S,Y=>M.setUint8(k++,Y.charCodeAt(0)));var B=new Uint8Array(U.byteLength+r.byteLength);return B.set(new Uint8Array(U),0),B.set(new Uint8Array(r),U.byteLength),B.buffer}decode(n,l){if(this._isArrayBuffer(n)){let r=this._binaryDecode(n);return l(r)}if(typeof n=="string"){const r=JSON.parse(n),[d,h,f,p,g]=r;return l({join_ref:d,ref:h,topic:f,event:p,payload:g})}return l({})}_binaryDecode(n){const l=new DataView(n),r=l.getUint8(0),d=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(n,l,d)}}_decodeUserBroadcast(n,l,r){const d=l.getUint8(1),h=l.getUint8(2),f=l.getUint8(3),p=l.getUint8(4);let g=this.HEADER_LENGTH+4;const v=r.decode(n.slice(g,g+d));g=g+d;const x=r.decode(n.slice(g,g+h));g=g+h;const S=r.decode(n.slice(g,g+f));g=g+f;const E=n.slice(g,n.byteLength),U=p===this.JSON_ENCODING?JSON.parse(r.decode(E)):E,M={type:this.BROADCAST_EVENT,event:x,payload:U};return f>0&&(M.meta=JSON.parse(S)),{join_ref:null,ref:null,topic:v,event:this.BROADCAST_EVENT,payload:M}}_isArrayBuffer(n){var l;return n instanceof ArrayBuffer||((l=n==null?void 0:n.constructor)===null||l===void 0?void 0:l.name)==="ArrayBuffer"}_pick(n,l){return!n||typeof n!="object"?{}:Object.fromEntries(Object.entries(n).filter(([r])=>l.includes(r)))}}class Vm{constructor(n,l){this.callback=n,this.timerCalc=l,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=l}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ve;(function(i){i.abstime="abstime",i.bool="bool",i.date="date",i.daterange="daterange",i.float4="float4",i.float8="float8",i.int2="int2",i.int4="int4",i.int4range="int4range",i.int8="int8",i.int8range="int8range",i.json="json",i.jsonb="jsonb",i.money="money",i.numeric="numeric",i.oid="oid",i.reltime="reltime",i.text="text",i.time="time",i.timestamp="timestamp",i.timestamptz="timestamptz",i.timetz="timetz",i.tsrange="tsrange",i.tstzrange="tstzrange"})(Ve||(Ve={}));const hm=(i,n,l={})=>{var r;const d=(r=l.skipTypes)!==null&&r!==void 0?r:[];return n?Object.keys(n).reduce((h,f)=>(h[f]=cx(f,i,n,d),h),{}):{}},cx=(i,n,l,r)=>{const d=n.find(p=>p.name===i),h=d==null?void 0:d.type,f=l[i];return h&&!r.includes(h)?Km(h,f):Uc(f)},Km=(i,n)=>{if(i.charAt(0)==="_"){const l=i.slice(1,i.length);return mx(n,l)}switch(i){case Ve.bool:return dx(n);case Ve.float4:case Ve.float8:case Ve.int2:case Ve.int4:case Ve.int8:case Ve.numeric:case Ve.oid:return hx(n);case Ve.json:case Ve.jsonb:return fx(n);case Ve.timestamp:return gx(n);case Ve.abstime:case Ve.date:case Ve.daterange:case Ve.int4range:case Ve.int8range:case Ve.money:case Ve.reltime:case Ve.text:case Ve.time:case Ve.timestamptz:case Ve.timetz:case Ve.tsrange:case Ve.tstzrange:return Uc(n);default:return Uc(n)}},Uc=i=>i,dx=i=>{switch(i){case"t":return!0;case"f":return!1;default:return i}},hx=i=>{if(typeof i=="string"){const n=parseFloat(i);if(!Number.isNaN(n))return n}return i},fx=i=>{if(typeof i=="string")try{return JSON.parse(i)}catch(n){return console.log(`JSON parse error: ${n}`),i}return i},mx=(i,n)=>{if(typeof i!="string")return i;const l=i.length-1,r=i[l];if(i[0]==="{"&&r==="}"){let h;const f=i.slice(1,l);try{h=JSON.parse("["+f+"]")}catch{h=f?f.split(","):[]}return h.map(p=>Km(n,p))}return i},gx=i=>typeof i=="string"?i.replace(" ","T"):i,Ym=i=>{const n=new URL(i);return n.protocol=n.protocol.replace(/^ws/i,"http"),n.pathname=n.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),n.pathname===""||n.pathname==="/"?n.pathname="/api/broadcast":n.pathname=n.pathname+"/api/broadcast",n.href};class vc{constructor(n,l,r={},d=kc){this.channel=n,this.event=l,this.payload=r,this.timeout=d,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,l){var r;return this._hasReceived(n)&&l((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:n,callback:l}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=l=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=l,this._matchReceive(l)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,l){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:l})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:l}){this.recHooks.filter(r=>r.status===n).forEach(r=>r.callback(l))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var fm;(function(i){i.SYNC="sync",i.JOIN="join",i.LEAVE="leave"})(fm||(fm={}));class ii{constructor(n,l){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(l==null?void 0:l.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},d=>{const{onJoin:h,onLeave:f,onSync:p}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ii.syncState(this.state,d,h,f),this.pendingDiffs.forEach(g=>{this.state=ii.syncDiff(this.state,g,h,f)}),this.pendingDiffs=[],p()}),this.channel._on(r.diff,{},d=>{const{onJoin:h,onLeave:f,onSync:p}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(d):(this.state=ii.syncDiff(this.state,d,h,f),p())}),this.onJoin((d,h,f)=>{this.channel._trigger("presence",{event:"join",key:d,currentPresences:h,newPresences:f})}),this.onLeave((d,h,f)=>{this.channel._trigger("presence",{event:"leave",key:d,currentPresences:h,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,l,r,d){const h=this.cloneDeep(n),f=this.transformState(l),p={},g={};return this.map(h,(v,x)=>{f[v]||(g[v]=x)}),this.map(f,(v,x)=>{const S=h[v];if(S){const E=x.map(B=>B.presence_ref),U=S.map(B=>B.presence_ref),M=x.filter(B=>U.indexOf(B.presence_ref)<0),k=S.filter(B=>E.indexOf(B.presence_ref)<0);M.length>0&&(p[v]=M),k.length>0&&(g[v]=k)}else p[v]=x}),this.syncDiff(h,{joins:p,leaves:g},r,d)}static syncDiff(n,l,r,d){const{joins:h,leaves:f}={joins:this.transformState(l.joins),leaves:this.transformState(l.leaves)};return r||(r=()=>{}),d||(d=()=>{}),this.map(h,(p,g)=>{var v;const x=(v=n[p])!==null&&v!==void 0?v:[];if(n[p]=this.cloneDeep(g),x.length>0){const S=n[p].map(U=>U.presence_ref),E=x.filter(U=>S.indexOf(U.presence_ref)<0);n[p].unshift(...E)}r(p,x,g)}),this.map(f,(p,g)=>{let v=n[p];if(!v)return;const x=g.map(S=>S.presence_ref);v=v.filter(S=>x.indexOf(S.presence_ref)<0),n[p]=v,d(p,v,g),v.length===0&&delete n[p]}),n}static map(n,l){return Object.getOwnPropertyNames(n).map(r=>l(r,n[r]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((l,r)=>{const d=n[r];return"metas"in d?l[r]=d.metas.map(h=>(h.presence_ref=h.phx_ref,delete h.phx_ref,delete h.phx_ref_prev,h)):l[r]=d,l},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var mm;(function(i){i.ALL="*",i.INSERT="INSERT",i.UPDATE="UPDATE",i.DELETE="DELETE"})(mm||(mm={}));var ri;(function(i){i.BROADCAST="broadcast",i.PRESENCE="presence",i.POSTGRES_CHANGES="postgres_changes",i.SYSTEM="system"})(ri||(ri={}));var La;(function(i){i.SUBSCRIBED="SUBSCRIBED",i.TIMED_OUT="TIMED_OUT",i.CLOSED="CLOSED",i.CHANNEL_ERROR="CHANNEL_ERROR"})(La||(La={}));class Qc{constructor(n,l={config:{}},r){var d,h;if(this.topic=n,this.params=l,this.socket=r,this.bindings={},this.state=ot.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},l.config),this.timeout=this.socket.timeout,this.joinPush=new vc(this,ca.join,this.params,this.timeout),this.rejoinTimer=new Vm(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ot.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(f=>f.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ot.closed,this.socket._remove(this)}),this._onError(f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=ot.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ot.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=ot.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ca.reply,{},(f,p)=>{this._trigger(this._replyEventName(p),f)}),this.presence=new ii(this),this.broadcastEndpointURL=Ym(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((h=(d=this.params.config)===null||d===void 0?void 0:d.broadcast)===null||h===void 0)&&h.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(n,l=this.timeout){var r,d,h;if(this.socket.isConnected()||this.socket.connect(),this.state==ot.closed){const{config:{broadcast:f,presence:p,private:g}}=this.params,v=(d=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(U=>U.filter))!==null&&d!==void 0?d:[],x=!!this.bindings[ri.PRESENCE]&&this.bindings[ri.PRESENCE].length>0||((h=this.params.config.presence)===null||h===void 0?void 0:h.enabled)===!0,S={},E={broadcast:f,presence:Object.assign(Object.assign({},p),{enabled:x}),postgres_changes:v,private:g};this.socket.accessTokenValue&&(S.access_token=this.socket.accessTokenValue),this._onError(U=>n==null?void 0:n(La.CHANNEL_ERROR,U)),this._onClose(()=>n==null?void 0:n(La.CLOSED)),this.updateJoinPayload(Object.assign({config:E},S)),this.joinedOnce=!0,this._rejoin(l),this.joinPush.receive("ok",async({postgres_changes:U})=>{var M;if(this.socket.setAuth(),U===void 0){n==null||n(La.SUBSCRIBED);return}else{const k=this.bindings.postgres_changes,B=(M=k==null?void 0:k.length)!==null&&M!==void 0?M:0,Y=[];for(let V=0;V<B;V++){const H=k[V],{filter:{event:X,schema:ge,table:te,filter:Z}}=H,ce=U&&U[V];if(ce&&ce.event===X&&ce.schema===ge&&ce.table===te&&ce.filter===Z)Y.push(Object.assign(Object.assign({},H),{id:ce.id}));else{this.unsubscribe(),this.state=ot.errored,n==null||n(La.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=Y,n&&n(La.SUBSCRIBED);return}}).receive("error",U=>{this.state=ot.errored,n==null||n(La.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(U).join(", ")||"error")))}).receive("timeout",()=>{n==null||n(La.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,l={}){return await this.send({type:"presence",event:"track",payload:n},l.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,l,r){return this.state===ot.joined&&n===ri.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(n,l,r)}async httpSend(n,l,r={}){var d;const h=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(l==null)return Promise.reject("Payload is required for httpSend()");const f={method:"POST",headers:{Authorization:h,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:n,payload:l,private:this.private}]})},p=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(d=r.timeout)!==null&&d!==void 0?d:this.timeout);if(p.status===202)return{success:!0};let g=p.statusText;try{const v=await p.json();g=v.error||v.message||g}catch{}return Promise.reject(new Error(g))}async send(n,l={}){var r,d;if(!this._canPush()&&n.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:h,payload:f}=n,g={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:h,payload:f,private:this.private}]})};try{const v=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(r=l.timeout)!==null&&r!==void 0?r:this.timeout);return await((d=v.body)===null||d===void 0?void 0:d.cancel()),v.ok?"ok":"error"}catch(v){return v.name==="AbortError"?"timed out":"error"}}else return new Promise(h=>{var f,p,g;const v=this._push(n.type,n,l.timeout||this.timeout);n.type==="broadcast"&&!(!((g=(p=(f=this.params)===null||f===void 0?void 0:f.config)===null||p===void 0?void 0:p.broadcast)===null||g===void 0)&&g.ack)&&h("ok"),v.receive("ok",()=>h("ok")),v.receive("error",()=>h("error")),v.receive("timeout",()=>h("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=ot.leaving;const l=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ca.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(d=>{r=new vc(this,ca.leave,{},n),r.receive("ok",()=>{l(),d("ok")}).receive("timeout",()=>{l(),d("timed out")}).receive("error",()=>{d("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ot.closed,this.bindings={}}async _fetchWithTimeout(n,l,r){const d=new AbortController,h=setTimeout(()=>d.abort(),r),f=await this.socket.fetch(n,Object.assign(Object.assign({},l),{signal:d.signal}));return clearTimeout(h),f}_push(n,l,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let d=new vc(this,n,l,r);return this._canPush()?d.send():this._addToPushBuffer(d),d}_addToPushBuffer(n){if(n.startTimeout(),this.pushBuffer.push(n),this.pushBuffer.length>ox){const l=this.pushBuffer.shift();l&&(l.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${l.event}`,l.payload))}}_onMessage(n,l,r){return l}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,l,r){var d,h;const f=n.toLocaleLowerCase(),{close:p,error:g,leave:v,join:x}=ca;if(r&&[p,g,v,x].indexOf(f)>=0&&r!==this._joinRef())return;let E=this._onMessage(f,l,r);if(l&&!E)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(d=this.bindings.postgres_changes)===null||d===void 0||d.filter(U=>{var M,k,B;return((M=U.filter)===null||M===void 0?void 0:M.event)==="*"||((B=(k=U.filter)===null||k===void 0?void 0:k.event)===null||B===void 0?void 0:B.toLocaleLowerCase())===f}).map(U=>U.callback(E,r)):(h=this.bindings[f])===null||h===void 0||h.filter(U=>{var M,k,B,Y,V,H;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in U){const X=U.id,ge=(M=U.filter)===null||M===void 0?void 0:M.event;return X&&((k=l.ids)===null||k===void 0?void 0:k.includes(X))&&(ge==="*"||(ge==null?void 0:ge.toLocaleLowerCase())===((B=l.data)===null||B===void 0?void 0:B.type.toLocaleLowerCase()))}else{const X=(V=(Y=U==null?void 0:U.filter)===null||Y===void 0?void 0:Y.event)===null||V===void 0?void 0:V.toLocaleLowerCase();return X==="*"||X===((H=l==null?void 0:l.event)===null||H===void 0?void 0:H.toLocaleLowerCase())}else return U.type.toLocaleLowerCase()===f}).map(U=>{if(typeof E=="object"&&"ids"in E){const M=E.data,{schema:k,table:B,commit_timestamp:Y,type:V,errors:H}=M;E=Object.assign(Object.assign({},{schema:k,table:B,commit_timestamp:Y,eventType:V,new:{},old:{},errors:H}),this._getPayloadRecords(M))}U.callback(E,r)})}_isClosed(){return this.state===ot.closed}_isJoined(){return this.state===ot.joined}_isJoining(){return this.state===ot.joining}_isLeaving(){return this.state===ot.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,l,r){const d=n.toLocaleLowerCase(),h={type:d,filter:l,callback:r};return this.bindings[d]?this.bindings[d].push(h):this.bindings[d]=[h],this}_off(n,l){const r=n.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(d=>{var h;return!(((h=d.type)===null||h===void 0?void 0:h.toLocaleLowerCase())===r&&Qc.isEqual(d.filter,l))})),this}static isEqual(n,l){if(Object.keys(n).length!==Object.keys(l).length)return!1;for(const r in n)if(n[r]!==l[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(ca.close,{},n)}_onError(n){this._on(ca.error,{},l=>n(l))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ot.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const l={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(l.new=hm(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(l.old=hm(n.columns,n.old_record)),l}}const bc=()=>{},Lr={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},px=[1e3,2e3,5e3,1e4],vx=1e4,bx=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class yx{constructor(n,l){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=kc,this.transport=null,this.heartbeatIntervalMs=Lr.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=bc,this.ref=0,this.reconnectTimer=null,this.vsn=dm,this.logger=bc,this.conn=null,this.sendBuffer=[],this.serializer=new ux,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=d=>d?(...h)=>d(...h):(...h)=>fetch(...h),!(!((r=l==null?void 0:l.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=l.params.apikey,this.endPoint=`${n}/${Rc.websocket}`,this.httpEndpoint=Ym(n),this._initializeOptions(l),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(l==null?void 0:l.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=sx.createWebSocket(this.endpointURL())}catch(n){this._setConnectionState("disconnected");const l=n.message;throw l.includes("Node.js")?new Error(`${l}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${l}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(n,l){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(n?this.conn.close(n,l??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(n){const l=await n.unsubscribe();return this.channels.length===0&&this.disconnect(),l}async removeAllChannels(){const n=await Promise.all(this.channels.map(l=>l.unsubscribe()));return this.channels=[],this.disconnect(),n}log(n,l,r){this.logger(n,l,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Qs.connecting:return Ps.Connecting;case Qs.open:return Ps.Open;case Qs.closing:return Ps.Closing;default:return Ps.Closed}}isConnected(){return this.connectionState()===Ps.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(n,l={config:{}}){const r=`realtime:${n}`,d=this.getChannels().find(h=>h.topic===r);if(d)return d;{const h=new Qc(`realtime:${n}`,l,this);return this.channels.push(h),h}}push(n){const{topic:l,event:r,payload:d,ref:h}=n,f=()=>{this.encode(n,p=>{var g;(g=this.conn)===null||g===void 0||g.send(p)})};this.log("push",`${l} ${r} (${h})`,d),this.isConnected()?f():this.sendBuffer.push(f)}async setAuth(n=null){this._authPromise=this._performAuth(n);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var n;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(l){this.log("error","error in heartbeat callback",l)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(l){this.log("error","error in heartbeat callback",l)}this._wasManualDisconnect=!1,(n=this.conn)===null||n===void 0||n.close(rx,"heartbeat timeout"),setTimeout(()=>{var l;this.isConnected()||(l=this.reconnectTimer)===null||l===void 0||l.scheduleTimeout()},Lr.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(l){this.log("error","error in heartbeat callback",l)}this._setAuthSafely("heartbeat")}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let l=this.channels.find(r=>r.topic===n&&(r._isJoined()||r._isJoining()));l&&(this.log("transport",`leaving duplicate topic "${n}"`),l.unsubscribe())}_remove(n){this.channels=this.channels.filter(l=>l.topic!==n.topic)}_onConnMessage(n){this.decode(n.data,l=>{if(l.topic==="phoenix"&&l.event==="phx_reply")try{this.heartbeatCallback(l.payload.status==="ok"?"ok":"error")}catch(v){this.log("error","error in heartbeat callback",v)}l.ref&&l.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:d,payload:h,ref:f}=l,p=f?`(${f})`:"",g=h.status||"";this.log("receive",`${g} ${r} ${d} ${p}`.trim(),h),this.channels.filter(v=>v._isMember(r)).forEach(v=>v._trigger(d,h,f)),this._triggerStateCallbacks("message",l)})}_clearTimer(n){var l;n==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):n==="reconnect"&&((l=this.reconnectTimer)===null||l===void 0||l.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Qs.open||this.conn.readyState===Qs.connecting)try{this.conn.close()}catch(n){this.log("error","Error closing connection",n)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(n=>n.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(l=>{this.log("error","error waiting for auth on connect",l),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=l=>{this.log("worker","worker error",l.message),this.workerRef.terminate()},this.workerRef.onmessage=l=>{l.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(n){var l;this._setConnectionState("disconnected"),this.log("transport","close",n),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(l=this.reconnectTimer)===null||l===void 0||l.scheduleTimeout(),this._triggerStateCallbacks("close",n)}_onConnError(n){this._setConnectionState("disconnected"),this.log("transport",`${n}`),this._triggerChanError(),this._triggerStateCallbacks("error",n)}_triggerChanError(){this.channels.forEach(n=>n._trigger(ca.error))}_appendParams(n,l){if(Object.keys(l).length===0)return n;const r=n.match(/\?/)?"&":"?",d=new URLSearchParams(l);return`${n}${r}${d}`}_workerObjectUrl(n){let l;if(n)l=n;else{const r=new Blob([bx],{type:"application/javascript"});l=URL.createObjectURL(r)}return l}_setConnectionState(n,l=!1){this._connectionState=n,n==="connecting"?this._wasManualDisconnect=!1:n==="disconnecting"&&(this._wasManualDisconnect=l)}async _performAuth(n=null){let l;n?l=n:this.accessToken?l=await this.accessToken():l=this.accessTokenValue,this.accessTokenValue!=l&&(this.accessTokenValue=l,this.channels.forEach(r=>{const d={access_token:l,version:lx};l&&r.updateJoinPayload(d),r.joinedOnce&&r._isJoined()&&r._push(ca.access_token,{access_token:l})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(n="general"){this.setAuth().catch(l=>{this.log("error",`error setting auth in ${n}`,l)})}_triggerStateCallbacks(n,l){try{this.stateChangeCallbacks[n].forEach(r=>{try{r(l)}catch(d){this.log("error",`error in ${n} callback`,d)}})}catch(r){this.log("error",`error triggering ${n} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Vm(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Lr.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(n){var l,r,d,h,f,p,g,v,x,S,E,U;switch(this.transport=(l=n==null?void 0:n.transport)!==null&&l!==void 0?l:null,this.timeout=(r=n==null?void 0:n.timeout)!==null&&r!==void 0?r:kc,this.heartbeatIntervalMs=(d=n==null?void 0:n.heartbeatIntervalMs)!==null&&d!==void 0?d:Lr.HEARTBEAT_INTERVAL,this.worker=(h=n==null?void 0:n.worker)!==null&&h!==void 0?h:!1,this.accessToken=(f=n==null?void 0:n.accessToken)!==null&&f!==void 0?f:null,this.heartbeatCallback=(p=n==null?void 0:n.heartbeatCallback)!==null&&p!==void 0?p:bc,this.vsn=(g=n==null?void 0:n.vsn)!==null&&g!==void 0?g:dm,n!=null&&n.params&&(this.params=n.params),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(v=n==null?void 0:n.reconnectAfterMs)!==null&&v!==void 0?v:(M=>px[M-1]||vx),this.vsn){case Gm:this.encode=(x=n==null?void 0:n.encode)!==null&&x!==void 0?x:((M,k)=>k(JSON.stringify(M))),this.decode=(S=n==null?void 0:n.decode)!==null&&S!==void 0?S:((M,k)=>k(JSON.parse(M)));break;case ix:this.encode=(E=n==null?void 0:n.encode)!==null&&E!==void 0?E:this.serializer.encode.bind(this.serializer),this.decode=(U=n==null?void 0:n.decode)!==null&&U!==void 0?U:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=n==null?void 0:n.workerUrl}}}class Jr extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}}function Je(i){return typeof i=="object"&&i!==null&&"__isStorageError"in i}class xx extends Jr{constructor(n,l,r){super(n),this.name="StorageApiError",this.status=l,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Mc extends Jr{constructor(n,l){super(n),this.name="StorageUnknownError",this.originalError=l}}const Pc=i=>i?(...n)=>i(...n):(...n)=>fetch(...n),_x=()=>Response,Dc=i=>{if(Array.isArray(i))return i.map(l=>Dc(l));if(typeof i=="function"||i!==Object(i))return i;const n={};return Object.entries(i).forEach(([l,r])=>{const d=l.replace(/([-_][a-z])/gi,h=>h.toUpperCase().replace(/[-_]/g,""));n[d]=Dc(r)}),n},wx=i=>{if(typeof i!="object"||i===null)return!1;const n=Object.getPrototypeOf(i);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},Sx=i=>!i||typeof i!="string"||i.length===0||i.length>100||i.trim()!==i||i.includes("/")||i.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(i),yc=i=>{var n;return i.msg||i.message||i.error_description||(typeof i.error=="string"?i.error:(n=i.error)===null||n===void 0?void 0:n.message)||JSON.stringify(i)},jx=(i,n,l)=>ee(void 0,void 0,void 0,function*(){const r=yield _x();i instanceof r&&!(l!=null&&l.noResolveJson)?i.json().then(d=>{const h=i.status||500,f=(d==null?void 0:d.statusCode)||h+"";n(new xx(yc(d),h,f))}).catch(d=>{n(new Mc(yc(d),d))}):n(new Mc(yc(i),i))}),Ex=(i,n,l,r)=>{const d={method:i,headers:(n==null?void 0:n.headers)||{}};return i==="GET"||!r?d:(wx(r)?(d.headers=Object.assign({"Content-Type":"application/json"},n==null?void 0:n.headers),d.body=JSON.stringify(r)):d.body=r,n!=null&&n.duplex&&(d.duplex=n.duplex),Object.assign(Object.assign({},d),l))};function gi(i,n,l,r,d,h){return ee(this,void 0,void 0,function*(){return new Promise((f,p)=>{i(l,Ex(n,r,d,h)).then(g=>{if(!g.ok)throw g;return r!=null&&r.noResolveJson?g:g.json()}).then(g=>f(g)).catch(g=>jx(g,p,r))})})}function di(i,n,l,r){return ee(this,void 0,void 0,function*(){return gi(i,"GET",n,l,r)})}function ua(i,n,l,r,d){return ee(this,void 0,void 0,function*(){return gi(i,"POST",n,r,d,l)})}function zc(i,n,l,r,d){return ee(this,void 0,void 0,function*(){return gi(i,"PUT",n,r,d,l)})}function Nx(i,n,l,r){return ee(this,void 0,void 0,function*(){return gi(i,"HEAD",n,Object.assign(Object.assign({},l),{noResolveJson:!0}),r)})}function Xc(i,n,l,r,d){return ee(this,void 0,void 0,function*(){return gi(i,"DELETE",n,r,d,l)})}class Tx{constructor(n,l){this.downloadFn=n,this.shouldThrowOnError=l}then(n,l){return this.execute().then(n,l)}execute(){return ee(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Je(n))return{data:null,error:n};throw n}})}}var Im;class Ox{constructor(n,l){this.downloadFn=n,this.shouldThrowOnError=l,this[Im]="BlobDownloadBuilder",this.promise=null}asStream(){return new Tx(this.downloadFn,this.shouldThrowOnError)}then(n,l){return this.getPromise().then(n,l)}catch(n){return this.getPromise().catch(n)}finally(n){return this.getPromise().finally(n)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return ee(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Je(n))return{data:null,error:n};throw n}})}}Im=Symbol.toStringTag;const Ax={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},gm={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Cx{constructor(n,l={},r,d){this.shouldThrowOnError=!1,this.url=n,this.headers=l,this.bucketId=r,this.fetch=Pc(d)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(n,l,r,d){return ee(this,void 0,void 0,function*(){try{let h;const f=Object.assign(Object.assign({},gm),d);let p=Object.assign(Object.assign({},this.headers),n==="POST"&&{"x-upsert":String(f.upsert)});const g=f.metadata;typeof Blob<"u"&&r instanceof Blob?(h=new FormData,h.append("cacheControl",f.cacheControl),g&&h.append("metadata",this.encodeMetadata(g)),h.append("",r)):typeof FormData<"u"&&r instanceof FormData?(h=r,h.has("cacheControl")||h.append("cacheControl",f.cacheControl),g&&!h.has("metadata")&&h.append("metadata",this.encodeMetadata(g))):(h=r,p["cache-control"]=`max-age=${f.cacheControl}`,p["content-type"]=f.contentType,g&&(p["x-metadata"]=this.toBase64(this.encodeMetadata(g))),(typeof ReadableStream<"u"&&h instanceof ReadableStream||h&&typeof h=="object"&&"pipe"in h&&typeof h.pipe=="function")&&!f.duplex&&(f.duplex="half")),d!=null&&d.headers&&(p=Object.assign(Object.assign({},p),d.headers));const v=this._removeEmptyFolders(l),x=this._getFinalPath(v),S=yield(n=="PUT"?zc:ua)(this.fetch,`${this.url}/object/${x}`,h,Object.assign({headers:p},f!=null&&f.duplex?{duplex:f.duplex}:{}));return{data:{path:v,id:S.Id,fullPath:S.Key},error:null}}catch(h){if(this.shouldThrowOnError)throw h;if(Je(h))return{data:null,error:h};throw h}})}upload(n,l,r){return ee(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",n,l,r)})}uploadToSignedUrl(n,l,r,d){return ee(this,void 0,void 0,function*(){const h=this._removeEmptyFolders(n),f=this._getFinalPath(h),p=new URL(this.url+`/object/upload/sign/${f}`);p.searchParams.set("token",l);try{let g;const v=Object.assign({upsert:gm.upsert},d),x=Object.assign(Object.assign({},this.headers),{"x-upsert":String(v.upsert)});typeof Blob<"u"&&r instanceof Blob?(g=new FormData,g.append("cacheControl",v.cacheControl),g.append("",r)):typeof FormData<"u"&&r instanceof FormData?(g=r,g.append("cacheControl",v.cacheControl)):(g=r,x["cache-control"]=`max-age=${v.cacheControl}`,x["content-type"]=v.contentType);const S=yield zc(this.fetch,p.toString(),g,{headers:x});return{data:{path:h,fullPath:S.Key},error:null}}catch(g){if(this.shouldThrowOnError)throw g;if(Je(g))return{data:null,error:g};throw g}})}createSignedUploadUrl(n,l){return ee(this,void 0,void 0,function*(){try{let r=this._getFinalPath(n);const d=Object.assign({},this.headers);l!=null&&l.upsert&&(d["x-upsert"]="true");const h=yield ua(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:d}),f=new URL(this.url+h.url),p=f.searchParams.get("token");if(!p)throw new Jr("No token returned by API");return{data:{signedUrl:f.toString(),path:n,token:p},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Je(r))return{data:null,error:r};throw r}})}update(n,l,r){return ee(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",n,l,r)})}move(n,l,r){return ee(this,void 0,void 0,function*(){try{return{data:yield ua(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:n,destinationKey:l,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(Je(d))return{data:null,error:d};throw d}})}copy(n,l,r){return ee(this,void 0,void 0,function*(){try{return{data:{path:(yield ua(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:n,destinationKey:l,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(Je(d))return{data:null,error:d};throw d}})}createSignedUrl(n,l,r){return ee(this,void 0,void 0,function*(){try{let d=this._getFinalPath(n),h=yield ua(this.fetch,`${this.url}/object/sign/${d}`,Object.assign({expiresIn:l},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const f=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return h={signedUrl:encodeURI(`${this.url}${h.signedURL}${f}`)},{data:h,error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(Je(d))return{data:null,error:d};throw d}})}createSignedUrls(n,l,r){return ee(this,void 0,void 0,function*(){try{const d=yield ua(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:l,paths:n},{headers:this.headers}),h=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:d.map(f=>Object.assign(Object.assign({},f),{signedUrl:f.signedURL?encodeURI(`${this.url}${f.signedURL}${h}`):null})),error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(Je(d))return{data:null,error:d};throw d}})}download(n,l){const d=typeof(l==null?void 0:l.transform)<"u"?"render/image/authenticated":"object",h=this.transformOptsToQueryString((l==null?void 0:l.transform)||{}),f=h?`?${h}`:"",p=this._getFinalPath(n),g=()=>di(this.fetch,`${this.url}/${d}/${p}${f}`,{headers:this.headers,noResolveJson:!0});return new Ox(g,this.shouldThrowOnError)}info(n){return ee(this,void 0,void 0,function*(){const l=this._getFinalPath(n);try{const r=yield di(this.fetch,`${this.url}/object/info/${l}`,{headers:this.headers});return{data:Dc(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Je(r))return{data:null,error:r};throw r}})}exists(n){return ee(this,void 0,void 0,function*(){const l=this._getFinalPath(n);try{return yield Nx(this.fetch,`${this.url}/object/${l}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Je(r)&&r instanceof Mc){const d=r.originalError;if([400,404].includes(d==null?void 0:d.status))return{data:!1,error:r}}throw r}})}getPublicUrl(n,l){const r=this._getFinalPath(n),d=[],h=l!=null&&l.download?`download=${l.download===!0?"":l.download}`:"";h!==""&&d.push(h);const p=typeof(l==null?void 0:l.transform)<"u"?"render/image":"object",g=this.transformOptsToQueryString((l==null?void 0:l.transform)||{});g!==""&&d.push(g);let v=d.join("&");return v!==""&&(v=`?${v}`),{data:{publicUrl:encodeURI(`${this.url}/${p}/public/${r}${v}`)}}}remove(n){return ee(this,void 0,void 0,function*(){try{return{data:yield Xc(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:n},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Je(l))return{data:null,error:l};throw l}})}list(n,l,r){return ee(this,void 0,void 0,function*(){try{const d=Object.assign(Object.assign(Object.assign({},Ax),l),{prefix:n||""});return{data:yield ua(this.fetch,`${this.url}/object/list/${this.bucketId}`,d,{headers:this.headers},r),error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(Je(d))return{data:null,error:d};throw d}})}listV2(n,l){return ee(this,void 0,void 0,function*(){try{const r=Object.assign({},n);return{data:yield ua(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},l),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Je(r))return{data:null,error:r};throw r}})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n.replace(/^\/+/,"")}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const l=[];return n.width&&l.push(`width=${n.width}`),n.height&&l.push(`height=${n.height}`),n.resize&&l.push(`resize=${n.resize}`),n.format&&l.push(`format=${n.format}`),n.quality&&l.push(`quality=${n.quality}`),l.join("&")}}const Qm="2.86.2",Pm={"X-Client-Info":`storage-js/${Qm}`};class kx{constructor(n,l={},r,d){this.shouldThrowOnError=!1;const h=new URL(n);d!=null&&d.useNewHostname&&/supabase\.(co|in|red)$/.test(h.hostname)&&!h.hostname.includes("storage.supabase.")&&(h.hostname=h.hostname.replace("supabase.","storage.supabase.")),this.url=h.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Pm),l),this.fetch=Pc(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(n){return ee(this,void 0,void 0,function*(){try{const l=this.listBucketOptionsToQueryString(n);return{data:yield di(this.fetch,`${this.url}/bucket${l}`,{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Je(l))return{data:null,error:l};throw l}})}getBucket(n){return ee(this,void 0,void 0,function*(){try{return{data:yield di(this.fetch,`${this.url}/bucket/${n}`,{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Je(l))return{data:null,error:l};throw l}})}createBucket(n){return ee(this,arguments,void 0,function*(l,r={public:!1}){try{return{data:yield ua(this.fetch,`${this.url}/bucket`,{id:l,name:l,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(Je(d))return{data:null,error:d};throw d}})}updateBucket(n,l){return ee(this,void 0,void 0,function*(){try{return{data:yield zc(this.fetch,`${this.url}/bucket/${n}`,{id:n,name:n,public:l.public,file_size_limit:l.fileSizeLimit,allowed_mime_types:l.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Je(r))return{data:null,error:r};throw r}})}emptyBucket(n){return ee(this,void 0,void 0,function*(){try{return{data:yield ua(this.fetch,`${this.url}/bucket/${n}/empty`,{},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Je(l))return{data:null,error:l};throw l}})}deleteBucket(n){return ee(this,void 0,void 0,function*(){try{return{data:yield Xc(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Je(l))return{data:null,error:l};throw l}})}listBucketOptionsToQueryString(n){const l={};return n&&("limit"in n&&(l.limit=String(n.limit)),"offset"in n&&(l.offset=String(n.offset)),n.search&&(l.search=n.search),n.sortColumn&&(l.sortColumn=n.sortColumn),n.sortOrder&&(l.sortOrder=n.sortOrder)),Object.keys(l).length>0?"?"+new URLSearchParams(l).toString():""}}var hi=class extends Error{constructor(i,n){var l;super(i),this.name="IcebergError",this.status=n.status,this.icebergType=n.icebergType,this.icebergCode=n.icebergCode,this.details=n.details,this.isCommitStateUnknown=n.icebergType==="CommitStateUnknownException"||[500,502,504].includes(n.status)&&((l=n.icebergType)==null?void 0:l.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Rx(i,n,l){const r=new URL(n,i);if(l)for(const[d,h]of Object.entries(l))h!==void 0&&r.searchParams.set(d,h);return r.toString()}async function Ux(i){return!i||i.type==="none"?{}:i.type==="bearer"?{Authorization:`Bearer ${i.token}`}:i.type==="header"?{[i.name]:i.value}:i.type==="custom"?await i.getHeaders():{}}function Mx(i){const n=i.fetchImpl??globalThis.fetch;return{async request({method:l,path:r,query:d,body:h,headers:f}){const p=Rx(i.baseUrl,r,d),g=await Ux(i.auth),v=await n(p,{method:l,headers:{...h?{"Content-Type":"application/json"}:{},...g,...f},body:h?JSON.stringify(h):void 0}),x=await v.text(),S=(v.headers.get("content-type")||"").includes("application/json"),E=S&&x?JSON.parse(x):x;if(!v.ok){const U=S?E:void 0,M=U==null?void 0:U.error;throw new hi((M==null?void 0:M.message)??`Request failed with status ${v.status}`,{status:v.status,icebergType:M==null?void 0:M.type,icebergCode:M==null?void 0:M.code,details:U})}return{status:v.status,headers:v.headers,data:E}}}}function $r(i){return i.join("")}var Dx=class{constructor(i,n=""){this.client=i,this.prefix=n}async listNamespaces(i){const n=i?{parent:$r(i.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:n})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(i,n){const l={namespace:i.namespace,properties:n==null?void 0:n.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:l})).data}async dropNamespace(i){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${$r(i.namespace)}`})}async loadNamespaceMetadata(i){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${$r(i.namespace)}`})).data.properties}}async namespaceExists(i){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${$r(i.namespace)}`}),!0}catch(n){if(n instanceof hi&&n.status===404)return!1;throw n}}async createNamespaceIfNotExists(i,n){try{return await this.createNamespace(i,n)}catch(l){if(l instanceof hi&&l.status===409)return;throw l}}};function Yn(i){return i.join("")}var zx=class{constructor(i,n="",l){this.client=i,this.prefix=n,this.accessDelegation=l}async listTables(i){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Yn(i.namespace)}/tables`})).data.identifiers}async createTable(i,n){const l={};return this.accessDelegation&&(l["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Yn(i.namespace)}/tables`,body:n,headers:l})).data.metadata}async updateTable(i,n){const l=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Yn(i.namespace)}/tables/${i.name}`,body:n});return{"metadata-location":l.data["metadata-location"],metadata:l.data.metadata}}async dropTable(i,n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Yn(i.namespace)}/tables/${i.name}`,query:{purgeRequested:String((n==null?void 0:n.purge)??!1)}})}async loadTable(i){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Yn(i.namespace)}/tables/${i.name}`,headers:n})).data.metadata}async tableExists(i){const n={};this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Yn(i.namespace)}/tables/${i.name}`,headers:n}),!0}catch(l){if(l instanceof hi&&l.status===404)return!1;throw l}}async createTableIfNotExists(i,n){try{return await this.createTable(i,n)}catch(l){if(l instanceof hi&&l.status===409)return await this.loadTable({namespace:i.namespace,name:n.name});throw l}}},Bx=class{constructor(i){var r;let n="v1";i.catalogName&&(n+=`/${i.catalogName}`);const l=i.baseUrl.endsWith("/")?i.baseUrl:`${i.baseUrl}/`;this.client=Mx({baseUrl:l,auth:i.auth,fetchImpl:i.fetch}),this.accessDelegation=(r=i.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new Dx(this.client,n),this.tableOps=new zx(this.client,n,this.accessDelegation)}async listNamespaces(i){return this.namespaceOps.listNamespaces(i)}async createNamespace(i,n){return this.namespaceOps.createNamespace(i,n)}async dropNamespace(i){await this.namespaceOps.dropNamespace(i)}async loadNamespaceMetadata(i){return this.namespaceOps.loadNamespaceMetadata(i)}async listTables(i){return this.tableOps.listTables(i)}async createTable(i,n){return this.tableOps.createTable(i,n)}async updateTable(i,n){return this.tableOps.updateTable(i,n)}async dropTable(i,n){await this.tableOps.dropTable(i,n)}async loadTable(i){return this.tableOps.loadTable(i)}async namespaceExists(i){return this.namespaceOps.namespaceExists(i)}async tableExists(i){return this.tableOps.tableExists(i)}async createNamespaceIfNotExists(i,n){return this.namespaceOps.createNamespaceIfNotExists(i,n)}async createTableIfNotExists(i,n){return this.tableOps.createTableIfNotExists(i,n)}};class qx{constructor(n,l={},r){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Pm),l),this.fetch=Pc(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(n){return ee(this,void 0,void 0,function*(){try{return{data:yield ua(this.fetch,`${this.url}/bucket`,{name:n},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Je(l))return{data:null,error:l};throw l}})}listBuckets(n){return ee(this,void 0,void 0,function*(){try{const l=new URLSearchParams;(n==null?void 0:n.limit)!==void 0&&l.set("limit",n.limit.toString()),(n==null?void 0:n.offset)!==void 0&&l.set("offset",n.offset.toString()),n!=null&&n.sortColumn&&l.set("sortColumn",n.sortColumn),n!=null&&n.sortOrder&&l.set("sortOrder",n.sortOrder),n!=null&&n.search&&l.set("search",n.search);const r=l.toString(),d=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield di(this.fetch,d,{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Je(l))return{data:null,error:l};throw l}})}deleteBucket(n){return ee(this,void 0,void 0,function*(){try{return{data:yield Xc(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Je(l))return{data:null,error:l};throw l}})}from(n){if(!Sx(n))throw new Jr("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");return new Bx({baseUrl:this.url,catalogName:n,auth:{type:"custom",getHeaders:()=>ee(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}}const Jc={"X-Client-Info":`storage-js/${Qm}`,"Content-Type":"application/json"};class Xm extends Error{constructor(n){super(n),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function It(i){return typeof i=="object"&&i!==null&&"__isStorageVectorsError"in i}class xc extends Xm{constructor(n,l,r){super(n),this.name="StorageVectorsApiError",this.status=l,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Lx extends Xm{constructor(n,l){super(n),this.name="StorageVectorsUnknownError",this.originalError=l}}var pm;(function(i){i.InternalError="InternalError",i.S3VectorConflictException="S3VectorConflictException",i.S3VectorNotFoundException="S3VectorNotFoundException",i.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",i.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",i.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(pm||(pm={}));const Zc=i=>i?(...n)=>i(...n):(...n)=>fetch(...n),$x=i=>{if(typeof i!="object"||i===null)return!1;const n=Object.getPrototypeOf(i);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},vm=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),Hx=(i,n,l)=>ee(void 0,void 0,void 0,function*(){if(i&&typeof i=="object"&&"status"in i&&"ok"in i&&typeof i.status=="number"&&!(l!=null&&l.noResolveJson)){const d=i.status||500,h=i;if(typeof h.json=="function")h.json().then(f=>{const p=(f==null?void 0:f.statusCode)||(f==null?void 0:f.code)||d+"";n(new xc(vm(f),d,p))}).catch(()=>{const f=d+"",p=h.statusText||`HTTP ${d} error`;n(new xc(p,d,f))});else{const f=d+"",p=h.statusText||`HTTP ${d} error`;n(new xc(p,d,f))}}else n(new Lx(vm(i),i))}),Gx=(i,n,l,r)=>{const d={method:i,headers:(n==null?void 0:n.headers)||{}};return r?($x(r)?(d.headers=Object.assign({"Content-Type":"application/json"},n==null?void 0:n.headers),d.body=JSON.stringify(r)):d.body=r,Object.assign(Object.assign({},d),l)):d};function Vx(i,n,l,r,d,h){return ee(this,void 0,void 0,function*(){return new Promise((f,p)=>{i(l,Gx(n,r,d,h)).then(g=>{if(!g.ok)throw g;if(r!=null&&r.noResolveJson)return g;const v=g.headers.get("content-type");return!v||!v.includes("application/json")?{}:g.json()}).then(g=>f(g)).catch(g=>Hx(g,p,r))})})}function Qt(i,n,l,r,d){return ee(this,void 0,void 0,function*(){return Vx(i,"POST",n,r,d,l)})}class Kx{constructor(n,l={},r){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Jc),l),this.fetch=Zc(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(n){return ee(this,void 0,void 0,function*(){try{return{data:(yield Qt(this.fetch,`${this.url}/CreateIndex`,n,{headers:this.headers}))||{},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(It(l))return{data:null,error:l};throw l}})}getIndex(n,l){return ee(this,void 0,void 0,function*(){try{return{data:yield Qt(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:n,indexName:l},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(It(r))return{data:null,error:r};throw r}})}listIndexes(n){return ee(this,void 0,void 0,function*(){try{return{data:yield Qt(this.fetch,`${this.url}/ListIndexes`,n,{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(It(l))return{data:null,error:l};throw l}})}deleteIndex(n,l){return ee(this,void 0,void 0,function*(){try{return{data:(yield Qt(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:n,indexName:l},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(It(r))return{data:null,error:r};throw r}})}}class Yx{constructor(n,l={},r){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Jc),l),this.fetch=Zc(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(n){return ee(this,void 0,void 0,function*(){try{if(n.vectors.length<1||n.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Qt(this.fetch,`${this.url}/PutVectors`,n,{headers:this.headers}))||{},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(It(l))return{data:null,error:l};throw l}})}getVectors(n){return ee(this,void 0,void 0,function*(){try{return{data:yield Qt(this.fetch,`${this.url}/GetVectors`,n,{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(It(l))return{data:null,error:l};throw l}})}listVectors(n){return ee(this,void 0,void 0,function*(){try{if(n.segmentCount!==void 0){if(n.segmentCount<1||n.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(n.segmentIndex!==void 0&&(n.segmentIndex<0||n.segmentIndex>=n.segmentCount))throw new Error(`segmentIndex must be between 0 and ${n.segmentCount-1}`)}return{data:yield Qt(this.fetch,`${this.url}/ListVectors`,n,{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(It(l))return{data:null,error:l};throw l}})}queryVectors(n){return ee(this,void 0,void 0,function*(){try{return{data:yield Qt(this.fetch,`${this.url}/QueryVectors`,n,{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(It(l))return{data:null,error:l};throw l}})}deleteVectors(n){return ee(this,void 0,void 0,function*(){try{if(n.keys.length<1||n.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Qt(this.fetch,`${this.url}/DeleteVectors`,n,{headers:this.headers}))||{},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(It(l))return{data:null,error:l};throw l}})}}class Ix{constructor(n,l={},r){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Jc),l),this.fetch=Zc(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(n){return ee(this,void 0,void 0,function*(){try{return{data:(yield Qt(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:n},{headers:this.headers}))||{},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(It(l))return{data:null,error:l};throw l}})}getBucket(n){return ee(this,void 0,void 0,function*(){try{return{data:yield Qt(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:n},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(It(l))return{data:null,error:l};throw l}})}listBuckets(){return ee(this,arguments,void 0,function*(n={}){try{return{data:yield Qt(this.fetch,`${this.url}/ListVectorBuckets`,n,{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(It(l))return{data:null,error:l};throw l}})}deleteBucket(n){return ee(this,void 0,void 0,function*(){try{return{data:(yield Qt(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:n},{headers:this.headers}))||{},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(It(l))return{data:null,error:l};throw l}})}}class Qx extends Ix{constructor(n,l={}){super(n,l.headers||{},l.fetch)}from(n){return new Px(this.url,this.headers,n,this.fetch)}createBucket(n){const l=Object.create(null,{createBucket:{get:()=>super.createBucket}});return ee(this,void 0,void 0,function*(){return l.createBucket.call(this,n)})}getBucket(n){const l=Object.create(null,{getBucket:{get:()=>super.getBucket}});return ee(this,void 0,void 0,function*(){return l.getBucket.call(this,n)})}listBuckets(){const n=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return ee(this,arguments,void 0,function*(l={}){return n.listBuckets.call(this,l)})}deleteBucket(n){const l=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return ee(this,void 0,void 0,function*(){return l.deleteBucket.call(this,n)})}}class Px extends Kx{constructor(n,l,r,d){super(n,l,d),this.vectorBucketName=r}createIndex(n){const l=Object.create(null,{createIndex:{get:()=>super.createIndex}});return ee(this,void 0,void 0,function*(){return l.createIndex.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const n=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return ee(this,arguments,void 0,function*(l={}){return n.listIndexes.call(this,Object.assign(Object.assign({},l),{vectorBucketName:this.vectorBucketName}))})}getIndex(n){const l=Object.create(null,{getIndex:{get:()=>super.getIndex}});return ee(this,void 0,void 0,function*(){return l.getIndex.call(this,this.vectorBucketName,n)})}deleteIndex(n){const l=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return ee(this,void 0,void 0,function*(){return l.deleteIndex.call(this,this.vectorBucketName,n)})}index(n){return new Xx(this.url,this.headers,this.vectorBucketName,n,this.fetch)}}class Xx extends Yx{constructor(n,l,r,d,h){super(n,l,h),this.vectorBucketName=r,this.indexName=d}putVectors(n){const l=Object.create(null,{putVectors:{get:()=>super.putVectors}});return ee(this,void 0,void 0,function*(){return l.putVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(n){const l=Object.create(null,{getVectors:{get:()=>super.getVectors}});return ee(this,void 0,void 0,function*(){return l.getVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const n=Object.create(null,{listVectors:{get:()=>super.listVectors}});return ee(this,arguments,void 0,function*(l={}){return n.listVectors.call(this,Object.assign(Object.assign({},l),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(n){const l=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return ee(this,void 0,void 0,function*(){return l.queryVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(n){const l=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return ee(this,void 0,void 0,function*(){return l.deleteVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class Jx extends kx{constructor(n,l={},r,d){super(n,l,r,d)}from(n){return new Cx(this.url,this.headers,n,this.fetch)}get vectors(){return new Qx(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new qx(this.url+"/iceberg",this.headers,this.fetch)}}const Zx="2.39.3";let si="";typeof Deno<"u"?si="deno":typeof document<"u"?si="web":typeof navigator<"u"&&navigator.product==="ReactNative"?si="react-native":si="node";const Wx={"X-Client-Info":`supabase-js-${si}/${Zx}`};var Fx=function(i,n,l,r){function d(h){return h instanceof l?h:new l(function(f){f(h)})}return new(l||(l=Promise))(function(h,f){function p(x){try{v(r.next(x))}catch(S){f(S)}}function g(x){try{v(r.throw(x))}catch(S){f(S)}}function v(x){x.done?h(x.value):d(x.value).then(p,g)}v((r=r.apply(i,n||[])).next())})};const e_=i=>{let n;return i?n=i:typeof fetch>"u"?n=zm:n=fetch,(...l)=>n(...l)},t_=()=>typeof Headers>"u"?Bm:Headers,a_=(i,n,l)=>{const r=e_(l),d=t_();return(h,f)=>Fx(void 0,void 0,void 0,function*(){var p;const g=(p=yield n())!==null&&p!==void 0?p:i;let v=new d(f==null?void 0:f.headers);return v.has("apikey")||v.set("apikey",i),v.has("Authorization")||v.set("Authorization",`Bearer ${g}`),r(h,Object.assign(Object.assign({},f),{headers:v}))})};function s_(i){return i.replace(/\/$/,"")}function n_(i,n){const{db:l,auth:r,realtime:d,global:h}=i,{db:f,auth:p,realtime:g,global:v}=n;return{db:Object.assign(Object.assign({},f),l),auth:Object.assign(Object.assign({},p),r),realtime:Object.assign(Object.assign({},g),d),global:Object.assign(Object.assign({},v),h)}}const Jm="2.86.2",Zn=30*1e3,Bc=3,_c=Bc*Zn,l_="http://localhost:9999",i_="supabase.auth.token",r_={"X-Client-Info":`gotrue-js/${Jm}`},qc="X-Supabase-Api-Version",Zm={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},o_=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,u_=600*1e3;class fi extends Error{constructor(n,l,r){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=l,this.code=r}}function le(i){return typeof i=="object"&&i!==null&&"__isAuthError"in i}class c_ extends fi{constructor(n,l,r){super(n,l,r),this.name="AuthApiError",this.status=l,this.code=r}}function d_(i){return le(i)&&i.name==="AuthApiError"}class Xs extends fi{constructor(n,l){super(n),this.name="AuthUnknownError",this.originalError=l}}class ps extends fi{constructor(n,l,r,d){super(n,r,d),this.name=l,this.status=r}}class Yt extends ps{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function h_(i){return le(i)&&i.name==="AuthSessionMissingError"}class In extends ps{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Hr extends ps{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}}class Gr extends ps{constructor(n,l=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=l}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function f_(i){return le(i)&&i.name==="AuthImplicitGrantRedirectError"}class bm extends ps{constructor(n,l=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=l}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Lc extends ps{constructor(n,l){super(n,"AuthRetryableFetchError",l,void 0)}}function wc(i){return le(i)&&i.name==="AuthRetryableFetchError"}class ym extends ps{constructor(n,l,r){super(n,"AuthWeakPasswordError",l,"weak_password"),this.reasons=r}}class $c extends ps{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ir="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),xm=` 	
\r=`.split(""),m_=(()=>{const i=new Array(128);for(let n=0;n<i.length;n+=1)i[n]=-1;for(let n=0;n<xm.length;n+=1)i[xm[n].charCodeAt(0)]=-2;for(let n=0;n<Ir.length;n+=1)i[Ir[n].charCodeAt(0)]=n;return i})();function _m(i,n,l){if(i!==null)for(n.queue=n.queue<<8|i,n.queuedBits+=8;n.queuedBits>=6;){const r=n.queue>>n.queuedBits-6&63;l(Ir[r]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){const r=n.queue>>n.queuedBits-6&63;l(Ir[r]),n.queuedBits-=6}}function Wm(i,n,l){const r=m_[i];if(r>-1)for(n.queue=n.queue<<6|r,n.queuedBits+=6;n.queuedBits>=8;)l(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(i)}"`)}}function wm(i){const n=[],l=f=>{n.push(String.fromCodePoint(f))},r={utf8seq:0,codepoint:0},d={queue:0,queuedBits:0},h=f=>{v_(f,r,l)};for(let f=0;f<i.length;f+=1)Wm(i.charCodeAt(f),d,h);return n.join("")}function g_(i,n){if(i<=127){n(i);return}else if(i<=2047){n(192|i>>6),n(128|i&63);return}else if(i<=65535){n(224|i>>12),n(128|i>>6&63),n(128|i&63);return}else if(i<=1114111){n(240|i>>18),n(128|i>>12&63),n(128|i>>6&63),n(128|i&63);return}throw new Error(`Unrecognized Unicode codepoint: ${i.toString(16)}`)}function p_(i,n){for(let l=0;l<i.length;l+=1){let r=i.charCodeAt(l);if(r>55295&&r<=56319){const d=(r-55296)*1024&65535;r=(i.charCodeAt(l+1)-56320&65535|d)+65536,l+=1}g_(r,n)}}function v_(i,n,l){if(n.utf8seq===0){if(i<=127){l(i);return}for(let r=1;r<6;r+=1)if((i>>7-r&1)===0){n.utf8seq=r;break}if(n.utf8seq===2)n.codepoint=i&31;else if(n.utf8seq===3)n.codepoint=i&15;else if(n.utf8seq===4)n.codepoint=i&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(i<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|i&63,n.utf8seq-=1,n.utf8seq===0&&l(n.codepoint)}}function Fn(i){const n=[],l={queue:0,queuedBits:0},r=d=>{n.push(d)};for(let d=0;d<i.length;d+=1)Wm(i.charCodeAt(d),l,r);return new Uint8Array(n)}function b_(i){const n=[];return p_(i,l=>n.push(l)),new Uint8Array(n)}function Js(i){const n=[],l={queue:0,queuedBits:0},r=d=>{n.push(d)};return i.forEach(d=>_m(d,l,r)),_m(null,l,r),n.join("")}function y_(i){return Math.round(Date.now()/1e3)+i}function x_(){return Symbol("auth-callback")}const xt=()=>typeof window<"u"&&typeof document<"u",Ks={tested:!1,writable:!1},Fm=()=>{if(!xt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ks.tested)return Ks.writable;const i=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(i,i),globalThis.localStorage.removeItem(i),Ks.tested=!0,Ks.writable=!0}catch{Ks.tested=!0,Ks.writable=!1}return Ks.writable};function __(i){const n={},l=new URL(i);if(l.hash&&l.hash[0]==="#")try{new URLSearchParams(l.hash.substring(1)).forEach((d,h)=>{n[h]=d})}catch{}return l.searchParams.forEach((r,d)=>{n[d]=r}),n}const eg=i=>i?(...n)=>i(...n):(...n)=>fetch(...n),w_=i=>typeof i=="object"&&i!==null&&"status"in i&&"ok"in i&&"json"in i&&typeof i.json=="function",Wn=async(i,n,l)=>{await i.setItem(n,JSON.stringify(l))},Ys=async(i,n)=>{const l=await i.getItem(n);if(!l)return null;try{return JSON.parse(l)}catch{return l}},yt=async(i,n)=>{await i.removeItem(n)};class Zr{constructor(){this.promise=new Zr.promiseConstructor((n,l)=>{this.resolve=n,this.reject=l})}}Zr.promiseConstructor=Promise;function Sc(i){const n=i.split(".");if(n.length!==3)throw new $c("Invalid JWT structure");for(let r=0;r<n.length;r++)if(!o_.test(n[r]))throw new $c("JWT not in base64url format");return{header:JSON.parse(wm(n[0])),payload:JSON.parse(wm(n[1])),signature:Fn(n[2]),raw:{header:n[0],payload:n[1]}}}async function S_(i){return await new Promise(n=>{setTimeout(()=>n(null),i)})}function j_(i,n){return new Promise((r,d)=>{(async()=>{for(let h=0;h<1/0;h++)try{const f=await i(h);if(!n(h,null,f)){r(f);return}}catch(f){if(!n(h,f)){d(f);return}}})()})}function E_(i){return("0"+i.toString(16)).substr(-2)}function N_(){const n=new Uint32Array(56);if(typeof crypto>"u"){const l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=l.length;let d="";for(let h=0;h<56;h++)d+=l.charAt(Math.floor(Math.random()*r));return d}return crypto.getRandomValues(n),Array.from(n,E_).join("")}async function T_(i){const l=new TextEncoder().encode(i),r=await crypto.subtle.digest("SHA-256",l),d=new Uint8Array(r);return Array.from(d).map(h=>String.fromCharCode(h)).join("")}async function O_(i){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),i;const l=await T_(i);return btoa(l).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Qn(i,n,l=!1){const r=N_();let d=r;l&&(d+="/PASSWORD_RECOVERY"),await Wn(i,`${n}-code-verifier`,d);const h=await O_(r);return[h,r===h?"plain":"s256"]}const A_=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function C_(i){const n=i.headers.get(qc);if(!n||!n.match(A_))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function k_(i){if(!i)throw new Error("Missing exp claim");const n=Math.floor(Date.now()/1e3);if(i<=n)throw new Error("JWT has expired")}function R_(i){switch(i){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const U_=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Pn(i){if(!U_.test(i))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function jc(){const i={};return new Proxy(i,{get:(n,l)=>{if(l==="__isUserNotAvailableProxy")return!0;if(typeof l=="symbol"){const r=l.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${l}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,l)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${l}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,l)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${l}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function M_(i,n){return new Proxy(i,{get:(l,r,d)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const h=r.toString();if(h==="Symbol(Symbol.toPrimitive)"||h==="Symbol(Symbol.toStringTag)"||h==="Symbol(util.inspect.custom)"||h==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(l,r,d)}return!n.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),n.value=!0),Reflect.get(l,r,d)}})}function Sm(i){return JSON.parse(JSON.stringify(i))}const Is=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),D_=[502,503,504];async function jm(i){var n;if(!w_(i))throw new Lc(Is(i),0);if(D_.includes(i.status))throw new Lc(Is(i),i.status);let l;try{l=await i.json()}catch(h){throw new Xs(Is(h),h)}let r;const d=C_(i);if(d&&d.getTime()>=Zm["2024-01-01"].timestamp&&typeof l=="object"&&l&&typeof l.code=="string"?r=l.code:typeof l=="object"&&l&&typeof l.error_code=="string"&&(r=l.error_code),r){if(r==="weak_password")throw new ym(Is(l),i.status,((n=l.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(r==="session_not_found")throw new Yt}else if(typeof l=="object"&&l&&typeof l.weak_password=="object"&&l.weak_password&&Array.isArray(l.weak_password.reasons)&&l.weak_password.reasons.length&&l.weak_password.reasons.reduce((h,f)=>h&&typeof f=="string",!0))throw new ym(Is(l),i.status,l.weak_password.reasons);throw new c_(Is(l),i.status||500,r)}const z_=(i,n,l,r)=>{const d={method:i,headers:(n==null?void 0:n.headers)||{}};return i==="GET"?d:(d.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n==null?void 0:n.headers),d.body=JSON.stringify(r),Object.assign(Object.assign({},d),l))};async function oe(i,n,l,r){var d;const h=Object.assign({},r==null?void 0:r.headers);h[qc]||(h[qc]=Zm["2024-01-01"].name),r!=null&&r.jwt&&(h.Authorization=`Bearer ${r.jwt}`);const f=(d=r==null?void 0:r.query)!==null&&d!==void 0?d:{};r!=null&&r.redirectTo&&(f.redirect_to=r.redirectTo);const p=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",g=await B_(i,n,l+p,{headers:h,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(g):{data:Object.assign({},g),error:null}}async function B_(i,n,l,r,d,h){const f=z_(n,r,d,h);let p;try{p=await i(l,Object.assign({},f))}catch(g){throw console.error(g),new Lc(Is(g),0)}if(p.ok||await jm(p),r!=null&&r.noResolveJson)return p;try{return await p.json()}catch(g){await jm(g)}}function oa(i){var n;let l=null;$_(i)&&(l=Object.assign({},i),i.expires_at||(l.expires_at=y_(i.expires_in)));const r=(n=i.user)!==null&&n!==void 0?n:i;return{data:{session:l,user:r},error:null}}function Em(i){const n=oa(i);return!n.error&&i.weak_password&&typeof i.weak_password=="object"&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.message&&typeof i.weak_password.message=="string"&&i.weak_password.reasons.reduce((l,r)=>l&&typeof r=="string",!0)&&(n.data.weak_password=i.weak_password),n}function gs(i){var n;return{data:{user:(n=i.user)!==null&&n!==void 0?n:i},error:null}}function q_(i){return{data:i,error:null}}function L_(i){const{action_link:n,email_otp:l,hashed_token:r,redirect_to:d,verification_type:h}=i,f=Xr(i,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),p={action_link:n,email_otp:l,hashed_token:r,redirect_to:d,verification_type:h},g=Object.assign({},f);return{data:{properties:p,user:g},error:null}}function Nm(i){return i}function $_(i){return i.access_token&&i.refresh_token&&i.expires_in}const Ec=["global","local","others"];class H_{constructor({url:n="",headers:l={},fetch:r}){this.url=n,this.headers=l,this.fetch=eg(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(n,l=Ec[0]){if(Ec.indexOf(l)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ec.join(", ")}`);try{return await oe(this.fetch,"POST",`${this.url}/logout?scope=${l}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(r){if(le(r))return{data:null,error:r};throw r}}async inviteUserByEmail(n,l={}){try{return await oe(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:l.data},headers:this.headers,redirectTo:l.redirectTo,xform:gs})}catch(r){if(le(r))return{data:{user:null},error:r};throw r}}async generateLink(n){try{const{options:l}=n,r=Xr(n,["options"]),d=Object.assign(Object.assign({},r),l);return"newEmail"in r&&(d.new_email=r==null?void 0:r.newEmail,delete d.newEmail),await oe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:d,headers:this.headers,xform:L_,redirectTo:l==null?void 0:l.redirectTo})}catch(l){if(le(l))return{data:{properties:null,user:null},error:l};throw l}}async createUser(n){try{return await oe(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:gs})}catch(l){if(le(l))return{data:{user:null},error:l};throw l}}async listUsers(n){var l,r,d,h,f,p,g;try{const v={nextPage:null,lastPage:0,total:0},x=await oe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(l=n==null?void 0:n.page)===null||l===void 0?void 0:l.toString())!==null&&r!==void 0?r:"",per_page:(h=(d=n==null?void 0:n.perPage)===null||d===void 0?void 0:d.toString())!==null&&h!==void 0?h:""},xform:Nm});if(x.error)throw x.error;const S=await x.json(),E=(f=x.headers.get("x-total-count"))!==null&&f!==void 0?f:0,U=(g=(p=x.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&g!==void 0?g:[];return U.length>0&&(U.forEach(M=>{const k=parseInt(M.split(";")[0].split("=")[1].substring(0,1)),B=JSON.parse(M.split(";")[1].split("=")[1]);v[`${B}Page`]=k}),v.total=parseInt(E)),{data:Object.assign(Object.assign({},S),v),error:null}}catch(v){if(le(v))return{data:{users:[]},error:v};throw v}}async getUserById(n){Pn(n);try{return await oe(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:gs})}catch(l){if(le(l))return{data:{user:null},error:l};throw l}}async updateUserById(n,l){Pn(n);try{return await oe(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:l,headers:this.headers,xform:gs})}catch(r){if(le(r))return{data:{user:null},error:r};throw r}}async deleteUser(n,l=!1){Pn(n);try{return await oe(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:l},xform:gs})}catch(r){if(le(r))return{data:{user:null},error:r};throw r}}async _listFactors(n){Pn(n.userId);try{const{data:l,error:r}=await oe(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:d=>({data:{factors:d},error:null})});return{data:l,error:r}}catch(l){if(le(l))return{data:null,error:l};throw l}}async _deleteFactor(n){Pn(n.userId),Pn(n.id);try{return{data:await oe(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(l){if(le(l))return{data:null,error:l};throw l}}async _listOAuthClients(n){var l,r,d,h,f,p,g;try{const v={nextPage:null,lastPage:0,total:0},x=await oe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(l=n==null?void 0:n.page)===null||l===void 0?void 0:l.toString())!==null&&r!==void 0?r:"",per_page:(h=(d=n==null?void 0:n.perPage)===null||d===void 0?void 0:d.toString())!==null&&h!==void 0?h:""},xform:Nm});if(x.error)throw x.error;const S=await x.json(),E=(f=x.headers.get("x-total-count"))!==null&&f!==void 0?f:0,U=(g=(p=x.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&g!==void 0?g:[];return U.length>0&&(U.forEach(M=>{const k=parseInt(M.split(";")[0].split("=")[1].substring(0,1)),B=JSON.parse(M.split(";")[1].split("=")[1]);v[`${B}Page`]=k}),v.total=parseInt(E)),{data:Object.assign(Object.assign({},S),v),error:null}}catch(v){if(le(v))return{data:{clients:[]},error:v};throw v}}async _createOAuthClient(n){try{return await oe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:n,headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(le(l))return{data:null,error:l};throw l}}async _getOAuthClient(n){try{return await oe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(le(l))return{data:null,error:l};throw l}}async _updateOAuthClient(n,l){try{return await oe(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${n}`,{body:l,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(le(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(n){try{return await oe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(l){if(le(l))return{data:null,error:l};throw l}}async _regenerateOAuthClientSecret(n){try{return await oe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${n}/regenerate_secret`,{headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(le(l))return{data:null,error:l};throw l}}}function Tm(i={}){return{getItem:n=>i[n]||null,setItem:(n,l)=>{i[n]=l},removeItem:n=>{delete i[n]}}}const Xn={debug:!!(globalThis&&Fm()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class tg extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}class G_ extends tg{}async function V_(i,n,l){Xn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",i,n);const r=new globalThis.AbortController;return n>0&&setTimeout(()=>{r.abort(),Xn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",i)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(i,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async d=>{if(d){Xn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",i,d.name);try{return await l()}finally{Xn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",i,d.name)}}else{if(n===0)throw Xn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",i),new G_(`Acquiring an exclusive Navigator LockManager lock "${i}" immediately failed`);if(Xn.debug)try{const h=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(h,null,"  "))}catch(h){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",h)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await l()}}))}function K_(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function ag(i){if(!/^0x[a-fA-F0-9]{40}$/.test(i))throw new Error(`@supabase/auth-js: Address "${i}" is invalid.`);return i.toLowerCase()}function Y_(i){return parseInt(i,16)}function I_(i){const n=new TextEncoder().encode(i);return"0x"+Array.from(n,r=>r.toString(16).padStart(2,"0")).join("")}function Q_(i){var n;const{chainId:l,domain:r,expirationTime:d,issuedAt:h=new Date,nonce:f,notBefore:p,requestId:g,resources:v,scheme:x,uri:S,version:E}=i;{if(!Number.isInteger(l))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${l}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(f&&f.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${f}`);if(!S)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(E!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${E}`);if(!((n=i.statement)===null||n===void 0)&&n.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${i.statement}`)}const U=ag(i.address),M=x?`${x}://${r}`:r,k=i.statement?`${i.statement}
`:"",B=`${M} wants you to sign in with your Ethereum account:
${U}

${k}`;let Y=`URI: ${S}
Version: ${E}
Chain ID: ${l}${f?`
Nonce: ${f}`:""}
Issued At: ${h.toISOString()}`;if(d&&(Y+=`
Expiration Time: ${d.toISOString()}`),p&&(Y+=`
Not Before: ${p.toISOString()}`),g&&(Y+=`
Request ID: ${g}`),v){let V=`
Resources:`;for(const H of v){if(!H||typeof H!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${H}`);V+=`
- ${H}`}Y+=V}return`${B}
${Y}`}class it extends Error{constructor({message:n,code:l,cause:r,name:d}){var h;super(n,{cause:r}),this.__isWebAuthnError=!0,this.name=(h=d??(r instanceof Error?r.name:void 0))!==null&&h!==void 0?h:"Unknown Error",this.code=l}}class Qr extends it{constructor(n,l){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l,message:n}),this.name="WebAuthnUnknownError",this.originalError=l}}function P_({error:i,options:n}){var l,r,d;const{publicKey:h}=n;if(!h)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(n.signal instanceof AbortSignal)return new it({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else if(i.name==="ConstraintError"){if(((l=h.authenticatorSelection)===null||l===void 0?void 0:l.requireResidentKey)===!0)return new it({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:i});if(n.mediation==="conditional"&&((r=h.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new it({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:i});if(((d=h.authenticatorSelection)===null||d===void 0?void 0:d.userVerification)==="required")return new it({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:i})}else{if(i.name==="InvalidStateError")return new it({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:i});if(i.name==="NotAllowedError")return new it({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="NotSupportedError")return h.pubKeyCredParams.filter(p=>p.type==="public-key").length===0?new it({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:i}):new it({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:i});if(i.name==="SecurityError"){const f=window.location.hostname;if(sg(f)){if(h.rp.id!==f)return new it({message:`The RP ID "${h.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new it({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="TypeError"){if(h.user.id.byteLength<1||h.user.id.byteLength>64)return new it({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:i})}else if(i.name==="UnknownError")return new it({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new it({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}function X_({error:i,options:n}){const{publicKey:l}=n;if(!l)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(n.signal instanceof AbortSignal)return new it({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else{if(i.name==="NotAllowedError")return new it({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="SecurityError"){const r=window.location.hostname;if(sg(r)){if(l.rpId!==r)return new it({message:`The RP ID "${l.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new it({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="UnknownError")return new it({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new it({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}class J_{createNewAbortSignal(){if(this.controller){const l=new Error("Cancelling existing WebAuthn API call for new one");l.name="AbortError",this.controller.abort(l)}const n=new AbortController;return this.controller=n,n.signal}cancelCeremony(){if(this.controller){const n=new Error("Manually cancelling existing WebAuthn API call");n.name="AbortError",this.controller.abort(n),this.controller=void 0}}}const Z_=new J_;function W_(i){if(!i)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(i);const{challenge:n,user:l,excludeCredentials:r}=i,d=Xr(i,["challenge","user","excludeCredentials"]),h=Fn(n).buffer,f=Object.assign(Object.assign({},l),{id:Fn(l.id).buffer}),p=Object.assign(Object.assign({},d),{challenge:h,user:f});if(r&&r.length>0){p.excludeCredentials=new Array(r.length);for(let g=0;g<r.length;g++){const v=r[g];p.excludeCredentials[g]=Object.assign(Object.assign({},v),{id:Fn(v.id).buffer,type:v.type||"public-key",transports:v.transports})}}return p}function F_(i){if(!i)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(i);const{challenge:n,allowCredentials:l}=i,r=Xr(i,["challenge","allowCredentials"]),d=Fn(n).buffer,h=Object.assign(Object.assign({},r),{challenge:d});if(l&&l.length>0){h.allowCredentials=new Array(l.length);for(let f=0;f<l.length;f++){const p=l[f];h.allowCredentials[f]=Object.assign(Object.assign({},p),{id:Fn(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return h}function ew(i){var n;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const l=i;return{id:i.id,rawId:i.id,response:{attestationObject:Js(new Uint8Array(i.response.attestationObject)),clientDataJSON:Js(new Uint8Array(i.response.clientDataJSON))},type:"public-key",clientExtensionResults:i.getClientExtensionResults(),authenticatorAttachment:(n=l.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function tw(i){var n;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const l=i,r=i.getClientExtensionResults(),d=i.response;return{id:i.id,rawId:i.id,response:{authenticatorData:Js(new Uint8Array(d.authenticatorData)),clientDataJSON:Js(new Uint8Array(d.clientDataJSON)),signature:Js(new Uint8Array(d.signature)),userHandle:d.userHandle?Js(new Uint8Array(d.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(n=l.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function sg(i){return i==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(i)}function Om(){var i,n;return!!(xt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((i=navigator==null?void 0:navigator.credentials)===null||i===void 0?void 0:i.create)=="function"&&typeof((n=navigator==null?void 0:navigator.credentials)===null||n===void 0?void 0:n.get)=="function")}async function aw(i){try{const n=await navigator.credentials.create(i);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new Qr("Browser returned unexpected credential type",n)}:{data:null,error:new Qr("Empty credential response",n)}}catch(n){return{data:null,error:P_({error:n,options:i})}}}async function sw(i){try{const n=await navigator.credentials.get(i);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new Qr("Browser returned unexpected credential type",n)}:{data:null,error:new Qr("Empty credential response",n)}}catch(n){return{data:null,error:X_({error:n,options:i})}}}const nw={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},lw={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Pr(...i){const n=d=>d!==null&&typeof d=="object"&&!Array.isArray(d),l=d=>d instanceof ArrayBuffer||ArrayBuffer.isView(d),r={};for(const d of i)if(d)for(const h in d){const f=d[h];if(f!==void 0)if(Array.isArray(f))r[h]=f;else if(l(f))r[h]=f;else if(n(f)){const p=r[h];n(p)?r[h]=Pr(p,f):r[h]=Pr(f)}else r[h]=f}return r}function iw(i,n){return Pr(nw,i,n||{})}function rw(i,n){return Pr(lw,i,n||{})}class ow{constructor(n){this.client=n,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(n){return this.client.mfa.enroll(Object.assign(Object.assign({},n),{factorType:"webauthn"}))}async _challenge({factorId:n,webauthn:l,friendlyName:r,signal:d},h){try{const{data:f,error:p}=await this.client.mfa.challenge({factorId:n,webauthn:l});if(!f)return{data:null,error:p};const g=d??Z_.createNewAbortSignal();if(f.webauthn.type==="create"){const{user:v}=f.webauthn.credential_options.publicKey;v.name||(v.name=`${v.id}:${r}`),v.displayName||(v.displayName=v.name)}switch(f.webauthn.type){case"create":{const v=iw(f.webauthn.credential_options.publicKey,h==null?void 0:h.create),{data:x,error:S}=await aw({publicKey:v,signal:g});return x?{data:{factorId:n,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:x}},error:null}:{data:null,error:S}}case"request":{const v=rw(f.webauthn.credential_options.publicKey,h==null?void 0:h.request),{data:x,error:S}=await sw(Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:v,signal:g}));return x?{data:{factorId:n,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:x}},error:null}:{data:null,error:S}}}}catch(f){return le(f)?{data:null,error:f}:{data:null,error:new Xs("Unexpected error in challenge",f)}}}async _verify({challengeId:n,factorId:l,webauthn:r}){return this.client.mfa.verify({factorId:l,challengeId:n,webauthn:r})}async _authenticate({factorId:n,webauthn:{rpId:l=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:d}={}},h){if(!l)return{data:null,error:new fi("rpId is required for WebAuthn authentication")};try{if(!Om())return{data:null,error:new Xs("Browser does not support WebAuthn",null)};const{data:f,error:p}=await this.challenge({factorId:n,webauthn:{rpId:l,rpOrigins:r},signal:d},{request:h});if(!f)return{data:null,error:p};const{webauthn:g}=f;return this._verify({factorId:n,challengeId:f.challengeId,webauthn:{type:g.type,rpId:l,rpOrigins:r,credential_response:g.credential_response}})}catch(f){return le(f)?{data:null,error:f}:{data:null,error:new Xs("Unexpected error in authenticate",f)}}}async _register({friendlyName:n,webauthn:{rpId:l=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:d}={}},h){if(!l)return{data:null,error:new fi("rpId is required for WebAuthn registration")};try{if(!Om())return{data:null,error:new Xs("Browser does not support WebAuthn",null)};const{data:f,error:p}=await this._enroll({friendlyName:n});if(!f)return await this.client.mfa.listFactors().then(x=>{var S;return(S=x.data)===null||S===void 0?void 0:S.all.find(E=>E.factor_type==="webauthn"&&E.friendly_name===n&&E.status!=="unverified")}).then(x=>x?this.client.mfa.unenroll({factorId:x==null?void 0:x.id}):void 0),{data:null,error:p};const{data:g,error:v}=await this._challenge({factorId:f.id,friendlyName:f.friendly_name,webauthn:{rpId:l,rpOrigins:r},signal:d},{create:h});return g?this._verify({factorId:f.id,challengeId:g.challengeId,webauthn:{rpId:l,rpOrigins:r,type:g.webauthn.type,credential_response:g.webauthn.credential_response}}):{data:null,error:v}}catch(f){return le(f)?{data:null,error:f}:{data:null,error:new Xs("Unexpected error in register",f)}}}}K_();const uw={url:l_,storageKey:i_,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:r_,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Am(i,n,l){return await l()}const Jn={};class mi{get jwks(){var n,l;return(l=(n=Jn[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&l!==void 0?l:{keys:[]}}set jwks(n){Jn[this.storageKey]=Object.assign(Object.assign({},Jn[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,l;return(l=(n=Jn[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&l!==void 0?l:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){Jn[this.storageKey]=Object.assign(Object.assign({},Jn[this.storageKey]),{cachedAt:n})}constructor(n){var l,r,d;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const h=Object.assign(Object.assign({},uw),n);if(this.storageKey=h.storageKey,this.instanceID=(l=mi.nextInstanceID[this.storageKey])!==null&&l!==void 0?l:0,mi.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!h.debug,typeof h.debug=="function"&&(this.logger=h.debug),this.instanceID>0&&xt()){const f=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(f),this.logDebugMessages&&console.trace(f)}if(this.persistSession=h.persistSession,this.autoRefreshToken=h.autoRefreshToken,this.admin=new H_({url:h.url,headers:h.headers,fetch:h.fetch}),this.url=h.url,this.headers=h.headers,this.fetch=eg(h.fetch),this.lock=h.lock||Am,this.detectSessionInUrl=h.detectSessionInUrl,this.flowType=h.flowType,this.hasCustomAuthorizationHeader=h.hasCustomAuthorizationHeader,this.throwOnError=h.throwOnError,h.lock?this.lock=h.lock:xt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=V_:this.lock=Am,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new ow(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(h.storage?this.storage=h.storage:Fm()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Tm(this.memoryStorage)),h.userStorage&&(this.userStorage=h.userStorage)):(this.memoryStorage={},this.storage=Tm(this.memoryStorage)),xt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(f){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",f)}(d=this.broadcastChannel)===null||d===void 0||d.addEventListener("message",async f=>{this._debug("received broadcast notification from other tab or client",f),await this._notifyAllSubscribers(f.data.event,f.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(n){if(this.throwOnError&&n&&n.error)throw n.error;return n}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Jm}) ${new Date().toISOString()}`}_debug(...n){return this.logDebugMessages&&this.logger(this._logPrefix(),...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{let l={},r="none";if(xt()&&(l=__(window.location.href),this._isImplicitGrantCallback(l)?r="implicit":await this._isPKCECallback(l)&&(r="pkce")),xt()&&this.detectSessionInUrl&&r!=="none"){const{data:d,error:h}=await this._getSessionFromURL(l,r);if(h){if(this._debug("#_initialize()","error detecting session from URL",h),f_(h)){const g=(n=h.details)===null||n===void 0?void 0:n.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:h}}return await this._removeSession(),{error:h}}const{session:f,redirectType:p}=d;return this._debug("#_initialize()","detected session in URL",f,"redirect type",p),await this._saveSession(f),setTimeout(async()=>{p==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",f):await this._notifyAllSubscribers("SIGNED_IN",f)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(l){return le(l)?this._returnResult({error:l}):this._returnResult({error:new Xs("Unexpected error during initialization",l)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var l,r,d;try{const h=await oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(l=n==null?void 0:n.options)===null||l===void 0?void 0:l.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(d=n==null?void 0:n.options)===null||d===void 0?void 0:d.captchaToken}},xform:oa}),{data:f,error:p}=h;if(p||!f)return this._returnResult({data:{user:null,session:null},error:p});const g=f.session,v=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:v,session:g},error:null})}catch(h){if(le(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async signUp(n){var l,r,d;try{let h;if("email"in n){const{email:x,password:S,options:E}=n;let U=null,M=null;this.flowType==="pkce"&&([U,M]=await Qn(this.storage,this.storageKey)),h=await oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:E==null?void 0:E.emailRedirectTo,body:{email:x,password:S,data:(l=E==null?void 0:E.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:E==null?void 0:E.captchaToken},code_challenge:U,code_challenge_method:M},xform:oa})}else if("phone"in n){const{phone:x,password:S,options:E}=n;h=await oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:x,password:S,data:(r=E==null?void 0:E.data)!==null&&r!==void 0?r:{},channel:(d=E==null?void 0:E.channel)!==null&&d!==void 0?d:"sms",gotrue_meta_security:{captcha_token:E==null?void 0:E.captchaToken}},xform:oa})}else throw new Hr("You must provide either an email or phone number and a password");const{data:f,error:p}=h;if(p||!f)return await yt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:p});const g=f.session,v=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:v,session:g},error:null})}catch(h){if(await yt(this.storage,`${this.storageKey}-code-verifier`),le(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async signInWithPassword(n){try{let l;if("email"in n){const{email:h,password:f,options:p}=n;l=await oe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:h,password:f,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:Em})}else if("phone"in n){const{phone:h,password:f,options:p}=n;l=await oe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:h,password:f,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:Em})}else throw new Hr("You must provide either an email or phone number and a password");const{data:r,error:d}=l;if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!r||!r.session||!r.user){const h=new In;return this._returnResult({data:{user:null,session:null},error:h})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:d})}catch(l){if(le(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithOAuth(n){var l,r,d,h;return await this._handleProviderSignIn(n.provider,{redirectTo:(l=n.options)===null||l===void 0?void 0:l.redirectTo,scopes:(r=n.options)===null||r===void 0?void 0:r.scopes,queryParams:(d=n.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:(h=n.options)===null||h===void 0?void 0:h.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){const{chain:l}=n;switch(l){case"ethereum":return await this.signInWithEthereum(n);case"solana":return await this.signInWithSolana(n);default:throw new Error(`@supabase/auth-js: Unsupported chain "${l}"`)}}async signInWithEthereum(n){var l,r,d,h,f,p,g,v,x,S,E;let U,M;if("message"in n)U=n.message,M=n.signature;else{const{chain:k,wallet:B,statement:Y,options:V}=n;let H;if(xt())if(typeof B=="object")H=B;else{const de=window;if("ethereum"in de&&typeof de.ethereum=="object"&&"request"in de.ethereum&&typeof de.ethereum.request=="function")H=de.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof B!="object"||!(V!=null&&V.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");H=B}const X=new URL((l=V==null?void 0:V.url)!==null&&l!==void 0?l:window.location.href),ge=await H.request({method:"eth_requestAccounts"}).then(de=>de).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!ge||ge.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const te=ag(ge[0]);let Z=(r=V==null?void 0:V.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!Z){const de=await H.request({method:"eth_chainId"});Z=Y_(de)}const ce={domain:X.host,address:te,statement:Y,uri:X.href,version:"1",chainId:Z,nonce:(d=V==null?void 0:V.signInWithEthereum)===null||d===void 0?void 0:d.nonce,issuedAt:(f=(h=V==null?void 0:V.signInWithEthereum)===null||h===void 0?void 0:h.issuedAt)!==null&&f!==void 0?f:new Date,expirationTime:(p=V==null?void 0:V.signInWithEthereum)===null||p===void 0?void 0:p.expirationTime,notBefore:(g=V==null?void 0:V.signInWithEthereum)===null||g===void 0?void 0:g.notBefore,requestId:(v=V==null?void 0:V.signInWithEthereum)===null||v===void 0?void 0:v.requestId,resources:(x=V==null?void 0:V.signInWithEthereum)===null||x===void 0?void 0:x.resources};U=Q_(ce),M=await H.request({method:"personal_sign",params:[I_(U),te]})}try{const{data:k,error:B}=await oe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:U,signature:M},!((S=n.options)===null||S===void 0)&&S.captchaToken?{gotrue_meta_security:{captcha_token:(E=n.options)===null||E===void 0?void 0:E.captchaToken}}:null),xform:oa});if(B)throw B;if(!k||!k.session||!k.user){const Y=new In;return this._returnResult({data:{user:null,session:null},error:Y})}return k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),this._returnResult({data:Object.assign({},k),error:B})}catch(k){if(le(k))return this._returnResult({data:{user:null,session:null},error:k});throw k}}async signInWithSolana(n){var l,r,d,h,f,p,g,v,x,S,E,U;let M,k;if("message"in n)M=n.message,k=n.signature;else{const{chain:B,wallet:Y,statement:V,options:H}=n;let X;if(xt())if(typeof Y=="object")X=Y;else{const te=window;if("solana"in te&&typeof te.solana=="object"&&("signIn"in te.solana&&typeof te.solana.signIn=="function"||"signMessage"in te.solana&&typeof te.solana.signMessage=="function"))X=te.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof Y!="object"||!(H!=null&&H.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");X=Y}const ge=new URL((l=H==null?void 0:H.url)!==null&&l!==void 0?l:window.location.href);if("signIn"in X&&X.signIn){const te=await X.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},H==null?void 0:H.signInWithSolana),{version:"1",domain:ge.host,uri:ge.href}),V?{statement:V}:null));let Z;if(Array.isArray(te)&&te[0]&&typeof te[0]=="object")Z=te[0];else if(te&&typeof te=="object"&&"signedMessage"in te&&"signature"in te)Z=te;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in Z&&"signature"in Z&&(typeof Z.signedMessage=="string"||Z.signedMessage instanceof Uint8Array)&&Z.signature instanceof Uint8Array)M=typeof Z.signedMessage=="string"?Z.signedMessage:new TextDecoder().decode(Z.signedMessage),k=Z.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in X)||typeof X.signMessage!="function"||!("publicKey"in X)||typeof X!="object"||!X.publicKey||!("toBase58"in X.publicKey)||typeof X.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");M=[`${ge.host} wants you to sign in with your Solana account:`,X.publicKey.toBase58(),...V?["",V,""]:[""],"Version: 1",`URI: ${ge.href}`,`Issued At: ${(d=(r=H==null?void 0:H.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&d!==void 0?d:new Date().toISOString()}`,...!((h=H==null?void 0:H.signInWithSolana)===null||h===void 0)&&h.notBefore?[`Not Before: ${H.signInWithSolana.notBefore}`]:[],...!((f=H==null?void 0:H.signInWithSolana)===null||f===void 0)&&f.expirationTime?[`Expiration Time: ${H.signInWithSolana.expirationTime}`]:[],...!((p=H==null?void 0:H.signInWithSolana)===null||p===void 0)&&p.chainId?[`Chain ID: ${H.signInWithSolana.chainId}`]:[],...!((g=H==null?void 0:H.signInWithSolana)===null||g===void 0)&&g.nonce?[`Nonce: ${H.signInWithSolana.nonce}`]:[],...!((v=H==null?void 0:H.signInWithSolana)===null||v===void 0)&&v.requestId?[`Request ID: ${H.signInWithSolana.requestId}`]:[],...!((S=(x=H==null?void 0:H.signInWithSolana)===null||x===void 0?void 0:x.resources)===null||S===void 0)&&S.length?["Resources",...H.signInWithSolana.resources.map(Z=>`- ${Z}`)]:[]].join(`
`);const te=await X.signMessage(new TextEncoder().encode(M),"utf8");if(!te||!(te instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");k=te}}try{const{data:B,error:Y}=await oe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:M,signature:Js(k)},!((E=n.options)===null||E===void 0)&&E.captchaToken?{gotrue_meta_security:{captcha_token:(U=n.options)===null||U===void 0?void 0:U.captchaToken}}:null),xform:oa});if(Y)throw Y;if(!B||!B.session||!B.user){const V=new In;return this._returnResult({data:{user:null,session:null},error:V})}return B.session&&(await this._saveSession(B.session),await this._notifyAllSubscribers("SIGNED_IN",B.session)),this._returnResult({data:Object.assign({},B),error:Y})}catch(B){if(le(B))return this._returnResult({data:{user:null,session:null},error:B});throw B}}async _exchangeCodeForSession(n){const l=await Ys(this.storage,`${this.storageKey}-code-verifier`),[r,d]=(l??"").split("/");try{const{data:h,error:f}=await oe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:r},xform:oa});if(await yt(this.storage,`${this.storageKey}-code-verifier`),f)throw f;if(!h||!h.session||!h.user){const p=new In;return this._returnResult({data:{user:null,session:null,redirectType:null},error:p})}return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),this._returnResult({data:Object.assign(Object.assign({},h),{redirectType:d??null}),error:f})}catch(h){if(await yt(this.storage,`${this.storageKey}-code-verifier`),le(h))return this._returnResult({data:{user:null,session:null,redirectType:null},error:h});throw h}}async signInWithIdToken(n){try{const{options:l,provider:r,token:d,access_token:h,nonce:f}=n,p=await oe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:d,access_token:h,nonce:f,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:oa}),{data:g,error:v}=p;if(v)return this._returnResult({data:{user:null,session:null},error:v});if(!g||!g.session||!g.user){const x=new In;return this._returnResult({data:{user:null,session:null},error:x})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:g,error:v})}catch(l){if(le(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithOtp(n){var l,r,d,h,f;try{if("email"in n){const{email:p,options:g}=n;let v=null,x=null;this.flowType==="pkce"&&([v,x]=await Qn(this.storage,this.storageKey));const{error:S}=await oe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:p,data:(l=g==null?void 0:g.data)!==null&&l!==void 0?l:{},create_user:(r=g==null?void 0:g.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:v,code_challenge_method:x},redirectTo:g==null?void 0:g.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:S})}if("phone"in n){const{phone:p,options:g}=n,{data:v,error:x}=await oe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:p,data:(d=g==null?void 0:g.data)!==null&&d!==void 0?d:{},create_user:(h=g==null?void 0:g.shouldCreateUser)!==null&&h!==void 0?h:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},channel:(f=g==null?void 0:g.channel)!==null&&f!==void 0?f:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:v==null?void 0:v.message_id},error:x})}throw new Hr("You must provide either an email or phone number.")}catch(p){if(await yt(this.storage,`${this.storageKey}-code-verifier`),le(p))return this._returnResult({data:{user:null,session:null},error:p});throw p}}async verifyOtp(n){var l,r;try{let d,h;"options"in n&&(d=(l=n.options)===null||l===void 0?void 0:l.redirectTo,h=(r=n.options)===null||r===void 0?void 0:r.captchaToken);const{data:f,error:p}=await oe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:h}}),redirectTo:d,xform:oa});if(p)throw p;if(!f)throw new Error("An error occurred on token verification.");const g=f.session,v=f.user;return g!=null&&g.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),this._returnResult({data:{user:v,session:g},error:null})}catch(d){if(le(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async signInWithSSO(n){var l,r,d,h,f;try{let p=null,g=null;this.flowType==="pkce"&&([p,g]=await Qn(this.storage,this.storageKey));const v=await oe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(r=(l=n.options)===null||l===void 0?void 0:l.redirectTo)!==null&&r!==void 0?r:void 0}),!((d=n==null?void 0:n.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:p,code_challenge_method:g}),headers:this.headers,xform:q_});return!((h=v.data)===null||h===void 0)&&h.url&&xt()&&!(!((f=n.options)===null||f===void 0)&&f.skipBrowserRedirect)&&window.location.assign(v.data.url),this._returnResult(v)}catch(p){if(await yt(this.storage,`${this.storageKey}-code-verifier`),le(p))return this._returnResult({data:null,error:p});throw p}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:l},error:r}=n;if(r)throw r;if(!l)throw new Yt;const{error:d}=await oe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:l.access_token});return this._returnResult({data:{user:null,session:null},error:d})})}catch(n){if(le(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async resend(n){try{const l=`${this.url}/resend`;if("email"in n){const{email:r,type:d,options:h}=n,{error:f}=await oe(this.fetch,"POST",l,{headers:this.headers,body:{email:r,type:d,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},redirectTo:h==null?void 0:h.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}else if("phone"in n){const{phone:r,type:d,options:h}=n,{data:f,error:p}=await oe(this.fetch,"POST",l,{headers:this.headers,body:{phone:r,type:d,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:p})}throw new Hr("You must provide either an email or phone number and a type")}catch(l){if(le(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async l=>l))}async _acquireLock(n,l){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),d=(async()=>(await r,await l()))();return this.pendingInLock.push((async()=>{try{await d}catch{}})()),d}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=l();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const d=[...this.pendingInLock];await Promise.all(d),this.pendingInLock.splice(0,d.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const l=await this.__loadSession();return await n(l)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const l=await Ys(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",l),l!==null&&(this._isValidSession(l)?n=l:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const r=n.expires_at?n.expires_at*1e3-Date.now()<_c:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",n.expires_at),!r){if(this.userStorage){const f=await Ys(this.userStorage,this.storageKey+"-user");f!=null&&f.user?n.user=f.user:n.user=jc()}if(this.storage.isServer&&n.user&&!n.user.__isUserNotAvailableProxy){const f={value:this.suppressGetSessionWarning};n.user=M_(n.user,f),f.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:n},error:null}}const{data:d,error:h}=await this._callRefreshToken(n.refresh_token);return h?this._returnResult({data:{session:null},error:h}):this._returnResult({data:{session:d},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(n){if(n)return await this._getUser(n);await this.initializePromise;const l=await this._acquireLock(-1,async()=>await this._getUser());return l.data.user&&(this.suppressGetSessionWarning=!0),l}async _getUser(n){try{return n?await oe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:gs}):await this._useSession(async l=>{var r,d,h;const{data:f,error:p}=l;if(p)throw p;return!(!((r=f.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Yt}:await oe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(h=(d=f.session)===null||d===void 0?void 0:d.access_token)!==null&&h!==void 0?h:void 0,xform:gs})})}catch(l){if(le(l))return h_(l)&&(await this._removeSession(),await yt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:l});throw l}}async updateUser(n,l={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(n,l))}async _updateUser(n,l={}){try{return await this._useSession(async r=>{const{data:d,error:h}=r;if(h)throw h;if(!d.session)throw new Yt;const f=d.session;let p=null,g=null;this.flowType==="pkce"&&n.email!=null&&([p,g]=await Qn(this.storage,this.storageKey));const{data:v,error:x}=await oe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:l==null?void 0:l.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:p,code_challenge_method:g}),jwt:f.access_token,xform:gs});if(x)throw x;return f.user=v.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),this._returnResult({data:{user:f.user},error:null})})}catch(r){if(await yt(this.storage,`${this.storageKey}-code-verifier`),le(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new Yt;const l=Date.now()/1e3;let r=l,d=!0,h=null;const{payload:f}=Sc(n.access_token);if(f.exp&&(r=f.exp,d=r<=l),d){const{data:p,error:g}=await this._callRefreshToken(n.refresh_token);if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!p)return{data:{user:null,session:null},error:null};h=p}else{const{data:p,error:g}=await this._getUser(n.access_token);if(g)throw g;h={access_token:n.access_token,refresh_token:n.refresh_token,user:p.user,token_type:"bearer",expires_in:r-l,expires_at:r},await this._saveSession(h),await this._notifyAllSubscribers("SIGNED_IN",h)}return this._returnResult({data:{user:h.user,session:h},error:null})}catch(l){if(le(l))return this._returnResult({data:{session:null,user:null},error:l});throw l}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async l=>{var r;if(!n){const{data:f,error:p}=l;if(p)throw p;n=(r=f.session)!==null&&r!==void 0?r:void 0}if(!(n!=null&&n.refresh_token))throw new Yt;const{data:d,error:h}=await this._callRefreshToken(n.refresh_token);return h?this._returnResult({data:{user:null,session:null},error:h}):d?this._returnResult({data:{user:d.user,session:d},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(l){if(le(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async _getSessionFromURL(n,l){try{if(!xt())throw new Gr("No browser detected.");if(n.error||n.error_description||n.error_code)throw new Gr(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(l){case"implicit":if(this.flowType==="pkce")throw new bm("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Gr("Not a valid implicit grant flow url.");break;default:}if(l==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new bm("No code detected.");const{data:V,error:H}=await this._exchangeCodeForSession(n.code);if(H)throw H;const X=new URL(window.location.href);return X.searchParams.delete("code"),window.history.replaceState(window.history.state,"",X.toString()),{data:{session:V.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:d,access_token:h,refresh_token:f,expires_in:p,expires_at:g,token_type:v}=n;if(!h||!p||!f||!v)throw new Gr("No session defined in URL");const x=Math.round(Date.now()/1e3),S=parseInt(p);let E=x+S;g&&(E=parseInt(g));const U=E-x;U*1e3<=Zn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${U}s, should have been closer to ${S}s`);const M=E-S;x-M>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",M,E,x):x-M<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",M,E,x);const{data:k,error:B}=await this._getUser(h);if(B)throw B;const Y={provider_token:r,provider_refresh_token:d,access_token:h,expires_in:S,expires_at:E,refresh_token:f,token_type:v,user:k.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:Y,redirectType:n.type},error:null})}catch(r){if(le(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(n){return!!(n.access_token||n.error_description)}async _isPKCECallback(n){const l=await Ys(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&l)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async l=>{var r;const{data:d,error:h}=l;if(h)return this._returnResult({error:h});const f=(r=d.session)===null||r===void 0?void 0:r.access_token;if(f){const{error:p}=await this.admin.signOut(f,n);if(p&&!(d_(p)&&(p.status===404||p.status===401||p.status===403)))return this._returnResult({error:p})}return n!=="others"&&(await this._removeSession(),await yt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(n){const l=x_(),r={id:l,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",l),this.stateChangeEmitters.delete(l)}};return this._debug("#onAuthStateChange()","registered callback with id",l),this.stateChangeEmitters.set(l,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(l)})))(),{data:{subscription:r}}}async _emitInitialSession(n){return await this._useSession(async l=>{var r,d;try{const{data:{session:h},error:f}=l;if(f)throw f;await((r=this.stateChangeEmitters.get(n))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",h)),this._debug("INITIAL_SESSION","callback id",n,"session",h)}catch(h){await((d=this.stateChangeEmitters.get(n))===null||d===void 0?void 0:d.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",h),console.error(h)}})}async resetPasswordForEmail(n,l={}){let r=null,d=null;this.flowType==="pkce"&&([r,d]=await Qn(this.storage,this.storageKey,!0));try{return await oe(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:r,code_challenge_method:d,gotrue_meta_security:{captcha_token:l.captchaToken}},headers:this.headers,redirectTo:l.redirectTo})}catch(h){if(await yt(this.storage,`${this.storageKey}-code-verifier`),le(h))return this._returnResult({data:null,error:h});throw h}}async getUserIdentities(){var n;try{const{data:l,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(n=l.user.identities)!==null&&n!==void 0?n:[]},error:null})}catch(l){if(le(l))return this._returnResult({data:null,error:l});throw l}}async linkIdentity(n){return"token"in n?this.linkIdentityIdToken(n):this.linkIdentityOAuth(n)}async linkIdentityOAuth(n){var l;try{const{data:r,error:d}=await this._useSession(async h=>{var f,p,g,v,x;const{data:S,error:E}=h;if(E)throw E;const U=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(f=n.options)===null||f===void 0?void 0:f.redirectTo,scopes:(p=n.options)===null||p===void 0?void 0:p.scopes,queryParams:(g=n.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await oe(this.fetch,"GET",U,{headers:this.headers,jwt:(x=(v=S.session)===null||v===void 0?void 0:v.access_token)!==null&&x!==void 0?x:void 0})});if(d)throw d;return xt()&&!(!((l=n.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:n.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(le(r))return this._returnResult({data:{provider:n.provider,url:null},error:r});throw r}}async linkIdentityIdToken(n){return await this._useSession(async l=>{var r;try{const{error:d,data:{session:h}}=l;if(d)throw d;const{options:f,provider:p,token:g,access_token:v,nonce:x}=n,S=await oe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=h==null?void 0:h.access_token)!==null&&r!==void 0?r:void 0,body:{provider:p,id_token:g,access_token:v,nonce:x,link_identity:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:oa}),{data:E,error:U}=S;return U?this._returnResult({data:{user:null,session:null},error:U}):!E||!E.session||!E.user?this._returnResult({data:{user:null,session:null},error:new In}):(E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("USER_UPDATED",E.session)),this._returnResult({data:E,error:U}))}catch(d){if(await yt(this.storage,`${this.storageKey}-code-verifier`),le(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}})}async unlinkIdentity(n){try{return await this._useSession(async l=>{var r,d;const{data:h,error:f}=l;if(f)throw f;return await oe(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(d=(r=h.session)===null||r===void 0?void 0:r.access_token)!==null&&d!==void 0?d:void 0})})}catch(l){if(le(l))return this._returnResult({data:null,error:l});throw l}}async _refreshAccessToken(n){const l=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(l,"begin");try{const r=Date.now();return await j_(async d=>(d>0&&await S_(200*Math.pow(2,d-1)),this._debug(l,"refreshing attempt",d),await oe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:oa})),(d,h)=>{const f=200*Math.pow(2,d);return h&&wc(h)&&Date.now()+f-r<Zn})}catch(r){if(this._debug(l,"error",r),le(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(l,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,l){const r=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:l.redirectTo,scopes:l.scopes,queryParams:l.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",l,"url",r),xt()&&!l.skipBrowserRedirect&&window.location.assign(r),{data:{provider:n,url:r},error:null}}async _recoverAndRefresh(){var n,l;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const d=await Ys(this.storage,this.storageKey);if(d&&this.userStorage){let f=await Ys(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!f&&(f={user:d.user},await Wn(this.userStorage,this.storageKey+"-user",f)),d.user=(n=f==null?void 0:f.user)!==null&&n!==void 0?n:jc()}else if(d&&!d.user&&!d.user){const f=await Ys(this.storage,this.storageKey+"-user");f&&(f!=null&&f.user)?(d.user=f.user,await yt(this.storage,this.storageKey+"-user"),await Wn(this.storage,this.storageKey,d)):d.user=jc()}if(this._debug(r,"session from storage",d),!this._isValidSession(d)){this._debug(r,"session is not valid"),d!==null&&await this._removeSession();return}const h=((l=d.expires_at)!==null&&l!==void 0?l:1/0)*1e3-Date.now()<_c;if(this._debug(r,`session has${h?"":" not"} expired with margin of ${_c}s`),h){if(this.autoRefreshToken&&d.refresh_token){const{error:f}=await this._callRefreshToken(d.refresh_token);f&&(console.error(f),wc(f)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",f),await this._removeSession()))}}else if(d.user&&d.user.__isUserNotAvailableProxy===!0)try{const{data:f,error:p}=await this._getUser(d.access_token);!p&&(f!=null&&f.user)?(d.user=f.user,await this._saveSession(d),await this._notifyAllSubscribers("SIGNED_IN",d)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(f){console.error("Error getting user data:",f),this._debug(r,"error getting user data, skipping SIGNED_IN notification",f)}else await this._notifyAllSubscribers("SIGNED_IN",d)}catch(d){this._debug(r,"error",d),console.error(d);return}finally{this._debug(r,"end")}}async _callRefreshToken(n){var l,r;if(!n)throw new Yt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const d=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(d,"begin");try{this.refreshingDeferred=new Zr;const{data:h,error:f}=await this._refreshAccessToken(n);if(f)throw f;if(!h.session)throw new Yt;await this._saveSession(h.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",h.session);const p={data:h.session,error:null};return this.refreshingDeferred.resolve(p),p}catch(h){if(this._debug(d,"error",h),le(h)){const f={data:null,error:h};return wc(h)||await this._removeSession(),(l=this.refreshingDeferred)===null||l===void 0||l.resolve(f),f}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(h),h}finally{this.refreshingDeferred=null,this._debug(d,"end")}}async _notifyAllSubscribers(n,l,r=!0){const d=`#_notifyAllSubscribers(${n})`;this._debug(d,"begin",l,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:n,session:l});const h=[],f=Array.from(this.stateChangeEmitters.values()).map(async p=>{try{await p.callback(n,l)}catch(g){h.push(g)}});if(await Promise.all(f),h.length>0){for(let p=0;p<h.length;p+=1)console.error(h[p]);throw h[0]}}finally{this._debug(d,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0,await yt(this.storage,`${this.storageKey}-code-verifier`);const l=Object.assign({},n),r=l.user&&l.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&l.user&&await Wn(this.userStorage,this.storageKey+"-user",{user:l.user});const d=Object.assign({},l);delete d.user;const h=Sm(d);await Wn(this.storage,this.storageKey,h)}else{const d=Sm(l);await Wn(this.storage,this.storageKey,d)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await yt(this.storage,this.storageKey),await yt(this.storage,this.storageKey+"-code-verifier"),await yt(this.storage,this.storageKey+"-user"),this.userStorage&&await yt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&xt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",n)}catch(l){console.error("removing visibilitychange callback failed",l)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),Zn);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async l=>{const{data:{session:r}}=l;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const d=Math.floor((r.expires_at*1e3-n)/Zn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${d} ticks, a tick lasts ${Zn}ms, refresh threshold is ${Bc} ticks`),d<=Bc&&await this._callRefreshToken(r.refresh_token)})}catch(l){console.error("Auto refresh tick failed with error. This is likely a transient error.",l)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof tg)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!xt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const l=`#_onVisibilityChanged(${n})`;this._debug(l,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(l,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,l,r){const d=[`provider=${encodeURIComponent(l)}`];if(r!=null&&r.redirectTo&&d.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&d.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[h,f]=await Qn(this.storage,this.storageKey),p=new URLSearchParams({code_challenge:`${encodeURIComponent(h)}`,code_challenge_method:`${encodeURIComponent(f)}`});d.push(p.toString())}if(r!=null&&r.queryParams){const h=new URLSearchParams(r.queryParams);d.push(h.toString())}return r!=null&&r.skipBrowserRedirect&&d.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${n}?${d.join("&")}`}async _unenroll(n){try{return await this._useSession(async l=>{var r;const{data:d,error:h}=l;return h?this._returnResult({data:null,error:h}):await oe(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(r=d==null?void 0:d.session)===null||r===void 0?void 0:r.access_token})})}catch(l){if(le(l))return this._returnResult({data:null,error:l});throw l}}async _enroll(n){try{return await this._useSession(async l=>{var r,d;const{data:h,error:f}=l;if(f)return this._returnResult({data:null,error:f});const p=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:n.factorType==="totp"?{issuer:n.issuer}:{}),{data:g,error:v}=await oe(this.fetch,"POST",`${this.url}/factors`,{body:p,headers:this.headers,jwt:(r=h==null?void 0:h.session)===null||r===void 0?void 0:r.access_token});return v?this._returnResult({data:null,error:v}):(n.factorType==="totp"&&g.type==="totp"&&(!((d=g==null?void 0:g.totp)===null||d===void 0)&&d.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),this._returnResult({data:g,error:null}))})}catch(l){if(le(l))return this._returnResult({data:null,error:l});throw l}}async _verify(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async l=>{var r;const{data:d,error:h}=l;if(h)return this._returnResult({data:null,error:h});const f=Object.assign({challenge_id:n.challengeId},"webauthn"in n?{webauthn:Object.assign(Object.assign({},n.webauthn),{credential_response:n.webauthn.type==="create"?ew(n.webauthn.credential_response):tw(n.webauthn.credential_response)})}:{code:n.code}),{data:p,error:g}=await oe(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:f,headers:this.headers,jwt:(r=d==null?void 0:d.session)===null||r===void 0?void 0:r.access_token});return g?this._returnResult({data:null,error:g}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+p.expires_in},p)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",p),this._returnResult({data:p,error:g}))})}catch(l){if(le(l))return this._returnResult({data:null,error:l});throw l}})}async _challenge(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async l=>{var r;const{data:d,error:h}=l;if(h)return this._returnResult({data:null,error:h});const f=await oe(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:n,headers:this.headers,jwt:(r=d==null?void 0:d.session)===null||r===void 0?void 0:r.access_token});if(f.error)return f;const{data:p}=f;if(p.type!=="webauthn")return{data:p,error:null};switch(p.webauthn.type){case"create":return{data:Object.assign(Object.assign({},p),{webauthn:Object.assign(Object.assign({},p.webauthn),{credential_options:Object.assign(Object.assign({},p.webauthn.credential_options),{publicKey:W_(p.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},p),{webauthn:Object.assign(Object.assign({},p.webauthn),{credential_options:Object.assign(Object.assign({},p.webauthn.credential_options),{publicKey:F_(p.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(l){if(le(l))return this._returnResult({data:null,error:l});throw l}})}async _challengeAndVerify(n){const{data:l,error:r}=await this._challenge({factorId:n.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:n.factorId,challengeId:l.id,code:n.code})}async _listFactors(){var n;const{data:{user:l},error:r}=await this.getUser();if(r)return{data:null,error:r};const d={all:[],phone:[],totp:[],webauthn:[]};for(const h of(n=l==null?void 0:l.factors)!==null&&n!==void 0?n:[])d.all.push(h),h.status==="verified"&&d[h.factor_type].push(h);return{data:d,error:null}}async _getAuthenticatorAssuranceLevel(){var n,l;const{data:{session:r},error:d}=await this.getSession();if(d)return this._returnResult({data:null,error:d});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:h}=Sc(r.access_token);let f=null;h.aal&&(f=h.aal);let p=f;((l=(n=r.user.factors)===null||n===void 0?void 0:n.filter(x=>x.status==="verified"))!==null&&l!==void 0?l:[]).length>0&&(p="aal2");const v=h.amr||[];return{data:{currentLevel:f,nextLevel:p,currentAuthenticationMethods:v},error:null}}async _getAuthorizationDetails(n){try{return await this._useSession(async l=>{const{data:{session:r},error:d}=l;return d?this._returnResult({data:null,error:d}):r?await oe(this.fetch,"GET",`${this.url}/oauth/authorizations/${n}`,{headers:this.headers,jwt:r.access_token,xform:h=>({data:h,error:null})}):this._returnResult({data:null,error:new Yt})})}catch(l){if(le(l))return this._returnResult({data:null,error:l});throw l}}async _approveAuthorization(n,l){try{return await this._useSession(async r=>{const{data:{session:d},error:h}=r;if(h)return this._returnResult({data:null,error:h});if(!d)return this._returnResult({data:null,error:new Yt});const f=await oe(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:d.access_token,body:{action:"approve"},xform:p=>({data:p,error:null})});return f.data&&f.data.redirect_url&&xt()&&!(l!=null&&l.skipBrowserRedirect)&&window.location.assign(f.data.redirect_url),f})}catch(r){if(le(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(n,l){try{return await this._useSession(async r=>{const{data:{session:d},error:h}=r;if(h)return this._returnResult({data:null,error:h});if(!d)return this._returnResult({data:null,error:new Yt});const f=await oe(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:d.access_token,body:{action:"deny"},xform:p=>({data:p,error:null})});return f.data&&f.data.redirect_url&&xt()&&!(l!=null&&l.skipBrowserRedirect)&&window.location.assign(f.data.redirect_url),f})}catch(r){if(le(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async n=>{const{data:{session:l},error:r}=n;return r?this._returnResult({data:null,error:r}):l?await oe(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:l.access_token,xform:d=>({data:d,error:null})}):this._returnResult({data:null,error:new Yt})})}catch(n){if(le(n))return this._returnResult({data:null,error:n});throw n}}async _revokeOAuthGrant(n){try{return await this._useSession(async l=>{const{data:{session:r},error:d}=l;return d?this._returnResult({data:null,error:d}):r?(await oe(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:n.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Yt})})}catch(l){if(le(l))return this._returnResult({data:null,error:l});throw l}}async fetchJwk(n,l={keys:[]}){let r=l.keys.find(p=>p.kid===n);if(r)return r;const d=Date.now();if(r=this.jwks.keys.find(p=>p.kid===n),r&&this.jwks_cached_at+u_>d)return r;const{data:h,error:f}=await oe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(f)throw f;return!h.keys||h.keys.length===0||(this.jwks=h,this.jwks_cached_at=d,r=h.keys.find(p=>p.kid===n),!r)?null:r}async getClaims(n,l={}){try{let r=n;if(!r){const{data:U,error:M}=await this.getSession();if(M||!U.session)return this._returnResult({data:null,error:M});r=U.session.access_token}const{header:d,payload:h,signature:f,raw:{header:p,payload:g}}=Sc(r);l!=null&&l.allowExpired||k_(h.exp);const v=!d.alg||d.alg.startsWith("HS")||!d.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(d.kid,l!=null&&l.keys?{keys:l.keys}:l==null?void 0:l.jwks);if(!v){const{error:U}=await this.getUser(r);if(U)throw U;return{data:{claims:h,header:d,signature:f},error:null}}const x=R_(d.alg),S=await crypto.subtle.importKey("jwk",v,x,!0,["verify"]);if(!await crypto.subtle.verify(x,S,f,b_(`${p}.${g}`)))throw new $c("Invalid JWT signature");return{data:{claims:h,header:d,signature:f},error:null}}catch(r){if(le(r))return this._returnResult({data:null,error:r});throw r}}}mi.nextInstanceID={};class cw extends mi{constructor(n){super(n)}}var dw=function(i,n,l,r){function d(h){return h instanceof l?h:new l(function(f){f(h)})}return new(l||(l=Promise))(function(h,f){function p(x){try{v(r.next(x))}catch(S){f(S)}}function g(x){try{v(r.throw(x))}catch(S){f(S)}}function v(x){x.done?h(x.value):d(x.value).then(p,g)}v((r=r.apply(i,n||[])).next())})};const hw={headers:Wx},fw={schema:"public"},mw={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},gw={};class pw{constructor(n,l,r){var d,h,f,p,g,v,x,S;if(this.supabaseUrl=n,this.supabaseKey=l,this.from=B=>this.rest.from(B),this.schema=B=>this.rest.schema(B),this.rpc=(B,Y={},V)=>this.rest.rpc(B,Y,V),!n)throw new Error("supabaseUrl is required.");if(!l)throw new Error("supabaseKey is required.");const E=s_(n);this.realtimeUrl=`${E}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${E}/auth/v1`,this.storageUrl=`${E}/storage/v1`,this.functionsUrl=`${E}/functions/v1`;const U=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,M={db:fw,realtime:gw,auth:Object.assign(Object.assign({},mw),{storageKey:U}),global:hw},k=n_(r??{},M);this.storageKey=(h=(d=k.auth)===null||d===void 0?void 0:d.storageKey)!==null&&h!==void 0?h:"",this.headers=(p=(f=k.global)===null||f===void 0?void 0:f.headers)!==null&&p!==void 0?p:{},this.auth=this._initSupabaseAuthClient((g=k.auth)!==null&&g!==void 0?g:{},this.headers,(v=k.global)===null||v===void 0?void 0:v.fetch),this.fetch=a_(l,this._getAccessToken.bind(this),(x=k.global)===null||x===void 0?void 0:x.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},k.realtime)),this.rest=new ax(`${E}/rest/v1`,{headers:this.headers,schema:(S=k.db)===null||S===void 0?void 0:S.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new Yy(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Jx(this.storageUrl,this.headers,this.fetch)}channel(n,l={config:{}}){return this.realtime.channel(n,l)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var n,l;return dw(this,void 0,void 0,function*(){const{data:r}=yield this.auth.getSession();return(l=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&l!==void 0?l:null})}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:l,detectSessionInUrl:r,storage:d,storageKey:h,flowType:f,debug:p},g,v){const x={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new cw({url:this.authUrl,headers:Object.assign(Object.assign({},x),g),storageKey:h,autoRefreshToken:n,persistSession:l,detectSessionInUrl:r,storage:d,flowType:f,debug:p,fetch:v})}_initRealtimeClient(n){return new yx(this.realtimeUrl,Object.assign(Object.assign({},n),{params:Object.assign({apikey:this.supabaseKey},n==null?void 0:n.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((l,r)=>{this._handleTokenChanged(l,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(n,l,r){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==r?(this.realtime.setAuth(r??null),this.changedAccessToken=r):n==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),l=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const vw=(i,n,l)=>new pw(i,n,l),bw="https://cxnamtgphelbrsecedkb.supabase.co",yw="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImN4bmFtdGdwaGVsYnJzZWNlZGtiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ4NjU0ODUsImV4cCI6MjA4MDQ0MTQ4NX0.WdjXX3PAnYCjS_drxYL3hurwmq4XANtTjhmCjcKhamk",ve=vw(bw,yw),xw=({onSuccess:i})=>{const[n,l]=Q.useState(!0),[r,d]=Q.useState(!1),[h,f]=Q.useState(null),[p,g]=Q.useState(null),[v,x]=Q.useState(""),[S,E]=Q.useState(""),[U,M]=Q.useState(""),[k,B]=Q.useState(""),[Y,V]=Q.useState(""),[H,X]=Q.useState(""),[ge,te]=Q.useState(""),[Z,ce]=Q.useState("");Q.useEffect(()=>{x(Cm())},[]);const de=he=>{const Be=he.target.value;if(E(Be),!k||k==="@"){const Qe="@"+Be.toLowerCase().replace(/\s+/g,"").slice(0,10);B(Qe)}},je=async he=>{if(he.preventDefault(),f(null),g(null),d(!0),Y!==H){f("As senhas no coincidem."),d(!1);return}if(Y.length<6){f("A senha deve ter pelo menos 6 caracteres."),d(!1);return}const Be=k.startsWith("@")?k:`@${k}`;try{const{data:Qe,error:Ke}=await ve.from("profiles").select("handle").eq("handle",Be).maybeSingle();if(Ke)throw new Error("Erro ao verificar nome de usurio.");if(Qe){f(`O usurio ${Be} j existe.`),d(!1);return}const{data:R,error:I}=await ve.auth.signUp({email:U,password:Y,options:{data:{name:S,handle:Be}}});if(I)throw I.message.includes("User already registered")?new Error("E-mail j cadastrado."):I;R.user&&(g("Conta criada! Faa login para comear."),l(!0),te(U),ce(""),E(""),M(""),B(""),V(""),X(""))}catch(Qe){f(Qe.message||"Erro ao criar conta.")}finally{d(!1)}},ze=async he=>{he.preventDefault(),f(null),g(null),d(!0);let Be=ge.trim();const Qe=/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(Be);try{if(!Qe){let I=Be;I.startsWith("@")||(I=`@${I}`);const{data:ne,error:Oe}=await ve.from("profiles").select("email").eq("handle",I).single();if(Oe||!(ne!=null&&ne.email))throw new Error("Usurio no encontrado ou login por handle indisponvel. Tente seu e-mail.");Be=ne.email}const{data:Ke,error:R}=await ve.auth.signInWithPassword({email:Be,password:Z});if(R)throw R;Ke.user&&i()}catch(Ke){const R=Ke.message==="Invalid login credentials"?"Credenciais invlidas.":Ke.message;f(R||"Erro ao entrar.")}finally{d(!1)}};return c.jsxs("div",{className:"min-h-screen bg-pulse-dark flex flex-col lg:flex-row relative overflow-hidden",children:[c.jsxs("div",{className:"lg:w-1/2 p-8 lg:p-16 flex flex-col justify-center relative z-10 bg-gradient-to-br from-slate-900 via-pulse-dark to-slate-900 border-b lg:border-b-0 lg:border-r border-slate-800",children:[c.jsx("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none opacity-20",children:c.jsx("div",{className:"absolute top-10 left-10 w-64 h-64 bg-pulse-vitality/20 rounded-full blur-[100px]"})}),c.jsxs("div",{className:"max-w-md mx-auto lg:mx-0",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[c.jsx("div",{className:"w-12 h-12 bg-pulse-vitality rounded-full flex items-center justify-center shadow-lg shadow-yellow-500/20",children:c.jsx(ba,{className:"text-pulse-dark w-7 h-7"})}),c.jsxs("h1",{className:"text-3xl lg:text-4xl font-bold text-white tracking-tight",children:["PULSE",c.jsx("span",{className:"text-pulse-vitality",children:"OUT"})]})]}),c.jsxs("h2",{className:"text-3xl lg:text-5xl font-extrabold text-white mb-6 leading-tight",children:["Supere o ",c.jsx("br",{}),c.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-pulse-vitality to-yellow-600",children:"Superficial."})]}),c.jsx("p",{className:"text-slate-400 text-lg mb-10 leading-relaxed",children:"A rede social desenhada para restaurar a qualidade da conexo humana. Sem algoritmos de vcio, apenas comunidades intencionais e conversas que importam."}),c.jsxs("div",{className:"bg-slate-800/50 border border-slate-700 p-6 rounded-2xl mb-10 backdrop-blur-sm relative group hover:border-pulse-vitality/50 transition-colors",children:[c.jsx(Um,{className:"absolute top-4 right-4 text-slate-600 w-8 h-8 opacity-20 group-hover:opacity-40 transition-opacity"}),c.jsx("p",{className:"text-xs font-bold text-pulse-vitality uppercase tracking-widest mb-2",children:"Reflexo do Dia"}),c.jsxs("p",{className:"text-white text-xl font-serif italic",children:['"',v,'"']}),c.jsxs("div",{className:"mt-4 flex items-center gap-2 text-sm text-slate-500",children:[c.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),c.jsx("span",{children:"42 pessoas debatendo isso agora no Global Pulse."})]})]}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"flex flex-col gap-2",children:[c.jsx($a,{className:"text-indigo-400 w-6 h-6"}),c.jsx("span",{className:"font-bold text-white",children:"Pockets"}),c.jsx("span",{className:"text-xs text-slate-500",children:"Grupos limitados a 50 pessoas."})]}),c.jsxs("div",{className:"flex flex-col gap-2",children:[c.jsx(Vr,{className:"text-emerald-400 w-6 h-6"}),c.jsx("span",{className:"font-bold text-white",children:"Profundidade"}),c.jsx("span",{className:"text-xs text-slate-500",children:"Recompensas por contedo denso."})]}),c.jsxs("div",{className:"flex flex-col gap-2",children:[c.jsx(Vc,{className:"text-rose-400 w-6 h-6"}),c.jsx("span",{className:"font-bold text-white",children:"rbitros"}),c.jsx("span",{className:"text-xs text-slate-500",children:"Moderao humana e justa."})]})]})]})]}),c.jsx("div",{className:"lg:w-1/2 flex items-center justify-center p-4 lg:p-8 bg-pulse-base",children:c.jsxs("div",{className:"w-full max-w-md",children:[c.jsx("div",{className:"lg:hidden text-center mb-8",children:c.jsx("h3",{className:"text-xl font-bold text-white",children:"Bem-vindo de volta"})}),c.jsxs("div",{className:"bg-pulse-dark border border-slate-800 rounded-2xl p-8 shadow-2xl",children:[c.jsxs("div",{className:"flex border-b border-slate-800 mb-8",children:[c.jsx("button",{onClick:()=>{l(!0),f(null),g(null)},className:`flex-1 pb-4 text-sm font-bold transition-all border-b-2 ${n?"text-white border-pulse-vitality":"text-slate-500 border-transparent hover:text-slate-300"}`,children:"Entrar"}),c.jsx("button",{onClick:()=>{l(!1),f(null),g(null)},className:`flex-1 pb-4 text-sm font-bold transition-all border-b-2 ${n?"text-slate-500 border-transparent hover:text-slate-300":"text-white border-pulse-vitality"}`,children:"Cadastrar"})]}),p&&c.jsxs("div",{className:"mb-6 p-4 bg-emerald-900/20 border border-emerald-500/30 rounded-xl flex items-start gap-3 animate-fade-in",children:[c.jsx(al,{className:"w-5 h-5 text-emerald-400 mt-0.5"}),c.jsx("p",{className:"text-emerald-200 text-sm font-medium",children:p})]}),h&&c.jsx("div",{className:"mb-6 p-4 bg-red-900/20 border border-red-500/30 rounded-xl text-red-300 text-sm text-center font-medium animate-pulse",children:h}),n?c.jsxs("form",{onSubmit:ze,className:"space-y-5",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-slate-400 text-xs uppercase tracking-wider font-bold mb-2",children:"E-mail ou Usurio"}),c.jsxs("div",{className:"relative",children:[c.jsx(Ay,{className:"absolute left-3 top-3.5 text-slate-500 w-4 h-4"}),c.jsx("input",{required:!0,type:"text",className:"w-full bg-slate-900 border border-slate-700 rounded-xl py-3 pl-10 pr-3 text-white focus:border-pulse-vitality focus:outline-none transition-colors placeholder-slate-600",placeholder:"seu@email.com ou @usuario",value:ge,onChange:he=>te(he.target.value)})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-slate-400 text-xs uppercase tracking-wider font-bold mb-2",children:"Senha"}),c.jsxs("div",{className:"relative",children:[c.jsx(Oy,{className:"absolute left-3 top-3.5 w-4 h-4 text-slate-500"}),c.jsx("input",{required:!0,type:"password",className:"w-full bg-slate-900 border border-slate-700 rounded-xl py-3 pl-10 pr-3 text-white focus:border-pulse-vitality focus:outline-none transition-colors placeholder-slate-600",placeholder:"",value:Z,onChange:he=>ce(he.target.value)})]})]}),c.jsx("button",{type:"submit",disabled:r,className:"w-full bg-white hover:bg-slate-200 text-pulse-dark font-bold py-4 rounded-xl transition-all shadow-lg mt-4",children:r?"Entrando...":"Acessar Comunidade"}),c.jsxs("div",{className:"text-center mt-4",children:[c.jsx("span",{className:"text-slate-500 text-xs",children:"Esqueceu a senha? "}),c.jsx("button",{type:"button",className:"text-pulse-vitality text-xs font-bold hover:underline",children:"Recuperar acesso"})]})]}):c.jsxs("form",{onSubmit:je,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-slate-400 text-xs uppercase tracking-wider font-bold mb-1",children:"Nome"}),c.jsx("input",{required:!0,className:"w-full bg-slate-900 border border-slate-700 rounded-xl p-3 text-white focus:border-pulse-vitality focus:outline-none",placeholder:"Seu nome",value:S,onChange:de})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-slate-400 text-xs uppercase tracking-wider font-bold mb-1",children:"E-mail"}),c.jsx("input",{required:!0,type:"email",className:"w-full bg-slate-900 border border-slate-700 rounded-xl p-3 text-white focus:border-pulse-vitality focus:outline-none",placeholder:"seu@email.com",value:U,onChange:he=>M(he.target.value)})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-slate-400 text-xs uppercase tracking-wider font-bold mb-1",children:"Handle (@)"}),c.jsx("input",{required:!0,className:"w-full bg-slate-900 border border-slate-700 rounded-xl p-3 text-slate-200 focus:border-pulse-vitality focus:outline-none",placeholder:"@usuario",value:k,onChange:he=>B(he.target.value)})]}),c.jsxs("div",{className:"flex gap-4",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("label",{className:"block text-slate-400 text-xs uppercase tracking-wider font-bold mb-1",children:"Senha"}),c.jsx("input",{required:!0,type:"password",className:"w-full bg-slate-900 border border-slate-700 rounded-xl p-3 text-white focus:border-pulse-vitality focus:outline-none",placeholder:"",value:Y,onChange:he=>V(he.target.value)})]}),c.jsxs("div",{className:"flex-1",children:[c.jsx("label",{className:"block text-slate-400 text-xs uppercase tracking-wider font-bold mb-1",children:"Confirmar"}),c.jsx("input",{required:!0,type:"password",className:"w-full bg-slate-900 border border-slate-700 rounded-xl p-3 text-white focus:border-pulse-vitality focus:outline-none",placeholder:"",value:H,onChange:he=>X(he.target.value)})]})]}),c.jsx("button",{type:"submit",disabled:r,className:"w-full bg-pulse-vitality hover:bg-yellow-400 text-pulse-dark font-bold py-4 rounded-xl shadow-lg mt-4 disabled:opacity-50",children:r?"Registrando...":"Criar Conta"})]})]}),c.jsxs("p",{className:"text-center text-slate-600 text-xs mt-6",children:["Ao entrar, voc concorda com o nosso ",c.jsx("span",{className:"underline cursor-pointer",children:"Pacto de No-Toxicidade"}),"."]})]})})]})},_w=({onClose:i,onSearch:n,results:l,onToggleFollow:r,currentUser:d})=>{const[h,f]=Q.useState(""),p=Q.useRef(null);return Q.useEffect(()=>{h.trim().length>1&&(p.current&&clearTimeout(p.current),p.current=setTimeout(()=>{n(h)},500))},[h,n]),c.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:c.jsxs("div",{className:"bg-pulse-base border border-slate-700 rounded-2xl max-w-lg w-full p-6 shadow-2xl relative h-[600px] flex flex-col",children:[c.jsx("button",{onClick:i,className:"absolute top-4 right-4 text-slate-500 hover:text-white",children:c.jsx(tl,{})}),c.jsxs("div",{className:"mb-6",children:[c.jsxs("h2",{className:"text-xl font-bold text-white mb-1 flex items-center gap-2",children:[c.jsx(Yr,{className:"w-6 h-6 text-pulse-vitality"}),"Buscar Pessoas"]}),c.jsx("p",{className:"text-slate-400 text-sm",children:"Encontre vozes para sintonizar."})]}),c.jsxs("div",{className:"relative mb-6",children:[c.jsx("input",{autoFocus:!0,type:"text",placeholder:"Nome ou @handle...",className:"w-full bg-pulse-dark border border-slate-700 rounded-xl py-3 pl-10 pr-4 text-white focus:border-pulse-vitality focus:outline-none",value:h,onChange:g=>f(g.target.value)}),c.jsx(Yr,{className:"absolute left-3 top-3.5 w-4 h-4 text-slate-500"})]}),c.jsx("div",{className:"flex-1 overflow-y-auto space-y-3 pr-2 custom-scrollbar",children:h.length>1&&l.length===0?c.jsx("div",{className:"text-center py-10 text-slate-500",children:"Nenhum usurio encontrado."}):l.map(g=>{const v=d.following.includes(g.id);return d.id===g.id?null:c.jsxs("div",{className:"flex items-center justify-between bg-slate-800/40 p-3 rounded-xl border border-slate-800 hover:border-slate-700 transition-colors",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("img",{src:g.avatar,alt:g.name,className:"w-10 h-10 rounded-full object-cover"}),c.jsxs("div",{children:[c.jsxs("p",{className:"font-bold text-slate-200 text-sm flex items-center gap-1",children:[g.name,g.isFounder?c.jsx(Ws,{className:"w-3 h-3 text-yellow-500 fill-current"}):g.isVerified&&c.jsx(Zs,{className:"w-3 h-3 text-pulse-vitality fill-current"})]}),c.jsx("p",{className:"text-xs text-slate-500",children:g.handle})]})]}),c.jsx("button",{onClick:()=>r(g.id),className:`px-3 py-1.5 rounded-lg text-xs font-bold flex items-center gap-1 transition-all ${v?"bg-emerald-900/20 text-emerald-400 border border-emerald-900":"bg-pulse-vitality text-pulse-dark hover:bg-yellow-400"}`,children:v?c.jsxs(c.Fragment,{children:[c.jsx(al,{className:"w-3 h-3"})," Sintonizado"]}):c.jsxs(c.Fragment,{children:[c.jsx(Rm,{className:"w-3 h-3"})," Sintonizar"]})})]},g.id)})})]})})},ww=({onClose:i,onSubmit:n})=>{const[l,r]=Q.useState(""),[d,h]=Q.useState(""),[f,p]=Q.useState(""),[g,v]=Q.useState(""),[x,S]=Q.useState(""),[E,U]=Q.useState(""),M=k=>{k.preventDefault();const B=f.split(",").map(Y=>Y.trim()).filter(Y=>Y.length>0);n({name:l,description:d,tags:B,applicationQuestions:[g,x,E]})};return c.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:c.jsxs("div",{className:"bg-pulse-base border border-slate-700 rounded-2xl max-w-2xl w-full p-6 md:p-8 shadow-2xl relative animate-fade-in-up max-h-[90vh] overflow-y-auto",children:[c.jsx("button",{onClick:i,className:"absolute top-4 right-4 text-slate-500 hover:text-white",children:c.jsx(tl,{})}),c.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[c.jsx("div",{className:"p-3 bg-indigo-500/20 rounded-full",children:c.jsx(ni,{className:"w-6 h-6 text-indigo-400"})}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-white",children:"Criar Novo Pocket"}),c.jsx("p",{className:"text-slate-400 text-sm",children:"Crie um micro-universo para conexes profundas."})]})]}),c.jsxs("form",{onSubmit:M,className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs uppercase tracking-wider text-slate-500 font-bold mb-2",children:"Nome do Pocket"}),c.jsx("input",{required:!0,maxLength:40,type:"text",className:"w-full bg-pulse-dark border border-slate-700 rounded-xl p-3 text-white focus:border-pulse-vitality focus:outline-none transition-colors",placeholder:"Ex: Cinema Noir",value:l,onChange:k=>r(k.target.value)})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs uppercase tracking-wider text-slate-500 font-bold mb-2",children:"Tags (Separe por vrgula)"}),c.jsx("input",{required:!0,type:"text",className:"w-full bg-pulse-dark border border-slate-700 rounded-xl p-3 text-white focus:border-pulse-vitality focus:outline-none transition-colors",placeholder:"Ex: Filmes, Arte, Clssicos",value:f,onChange:k=>p(k.target.value)})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs uppercase tracking-wider text-slate-500 font-bold mb-2",children:"Descrio / Manifesto"}),c.jsx("textarea",{required:!0,maxLength:200,rows:3,className:"w-full bg-pulse-dark border border-slate-700 rounded-xl p-3 text-white focus:border-pulse-vitality focus:outline-none resize-none transition-colors",placeholder:"Qual o propsito deste grupo? O que une as pessoas aqui?",value:d,onChange:k=>h(k.target.value)})]}),c.jsxs("div",{className:"bg-slate-800/30 p-4 rounded-xl border border-slate-800",children:[c.jsxs("h3",{className:"text-pulse-vitality font-bold text-sm mb-3 flex items-center gap-2",children:[c.jsx(al,{className:"w-4 h-4"})," Perguntas de Aplicao (Obrigatrias)"]}),c.jsx("p",{className:"text-xs text-slate-400 mb-4",children:"No PULSEOUT, ningum entra sem bater na porta. Defina 3 perguntas para filtrar quem realmente se importa com o tema."}),c.jsxs("div",{className:"space-y-3",children:[c.jsx("input",{required:!0,type:"text",className:"w-full bg-pulse-dark border border-slate-700 rounded-lg p-2 text-sm text-white focus:border-indigo-500 focus:outline-none",placeholder:"Pergunta 1 (Ex: Qual sua experincia com...)",value:g,onChange:k=>v(k.target.value)}),c.jsx("input",{required:!0,type:"text",className:"w-full bg-pulse-dark border border-slate-700 rounded-lg p-2 text-sm text-white focus:border-indigo-500 focus:outline-none",placeholder:"Pergunta 2 (Ex: O que voc espera contribuir...)",value:x,onChange:k=>S(k.target.value)}),c.jsx("input",{required:!0,type:"text",className:"w-full bg-pulse-dark border border-slate-700 rounded-lg p-2 text-sm text-white focus:border-indigo-500 focus:outline-none",placeholder:"Pergunta 3 (Ex: Um fato curioso sobre...)",value:E,onChange:k=>U(k.target.value)})]})]}),c.jsx("div",{className:"flex justify-end pt-2",children:c.jsx("button",{type:"submit",className:"bg-pulse-vitality text-pulse-dark font-bold py-3 px-8 rounded-xl hover:bg-yellow-400 transition-colors shadow-lg shadow-yellow-500/10",children:"Fundar Pocket"})})]})]})})},Sw=({userPockets:i,onClose:n,onSubmit:l,initialContent:r=""})=>{const[d,h]=Q.useState(r?`Reflexo: "${r}"

`:""),[f,p]=Q.useState("global"),[g,v]=Q.useState(null),[x,S]=Q.useState(""),[E,U]=Q.useState(!1),[M,k]=Q.useState(!1),[B,Y]=Q.useState("24h"),V=Q.useRef(null),H=Q.useRef(null),X=30,ge=d.trim().length,te=Math.min(ge/X*100,100),Z=ge>=X;Q.useEffect(()=>{H.current&&(H.current.focus(),H.current.setSelectionRange(H.current.value.length,H.current.value.length))},[]);const ce=je=>{if(je.preventDefault(),!Z&&!g)return;let ze=null;if(M){const he=new Date;B==="24h"&&he.setDate(he.getDate()+1),B==="7d"&&he.setDate(he.getDate()+7),B==="30d"&&he.setDate(he.getDate()+30),ze=he.toISOString()}l(d,f==="global"?null:f,g,x.trim()||null,ze)},de=je=>{var he;const ze=(he=je.target.files)==null?void 0:he[0];if(ze){const Be=new FileReader;Be.onloadend=()=>{v(Be.result)},Be.readAsDataURL(ze)}};return c.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:c.jsxs("div",{className:"bg-pulse-base border border-slate-700 rounded-2xl max-w-lg w-full p-6 shadow-2xl relative animate-fade-in-up flex flex-col max-h-[90vh]",children:[c.jsx("button",{onClick:n,className:"absolute top-4 right-4 text-slate-500 hover:text-white",children:c.jsx(tl,{})}),c.jsxs("h2",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2",children:[c.jsx(ba,{className:"w-5 h-5 text-pulse-vitality"}),"Criar Nova Publicao"]}),c.jsxs("form",{onSubmit:ce,className:"flex-1 overflow-y-auto pr-2 custom-scrollbar",children:[c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-xs uppercase tracking-wider text-slate-500 font-bold mb-2",children:"Onde publicar?"}),c.jsxs("div",{className:"relative",children:[c.jsxs("select",{value:f,onChange:je=>p(je.target.value),className:"w-full bg-pulse-dark border border-slate-700 rounded-xl p-3 text-slate-200 appearance-none focus:border-pulse-vitality focus:outline-none",children:[c.jsx("option",{value:"global",children:" Pulse Global (Pblico)"}),c.jsx("optgroup",{label:"Seus Pockets",children:i.map(je=>c.jsx("option",{value:je.id,children:je.name},je.id))})]}),c.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center px-2 pointer-events-none",children:c.jsx($a,{className:"w-4 h-4 text-slate-500"})})]})]}),c.jsxs("div",{className:"mb-2",children:[c.jsxs("div",{className:"flex justify-between items-center mb-2",children:[c.jsx("label",{className:"block text-xs uppercase tracking-wider text-slate-500 font-bold",children:"Sua mensagem"}),c.jsxs("span",{className:`text-xs font-bold transition-colors ${Z?"text-emerald-400":"text-slate-500"}`,children:[ge,"/",X," caracteres"]})]}),c.jsx("textarea",{ref:H,required:!g,rows:5,placeholder:"Compartilhe algo genuno. Evite o superficial...",className:"w-full bg-pulse-dark border border-slate-700 rounded-xl p-3 text-white focus:border-pulse-vitality focus:outline-none resize-none",value:d,onChange:je=>h(je.target.value)}),c.jsx("div",{className:"h-1 w-full bg-slate-800 rounded-full mt-2 overflow-hidden",children:c.jsx("div",{className:`h-full transition-all duration-500 ${Z?"bg-emerald-500":"bg-slate-600"}`,style:{width:`${te}%`}})}),!Z&&!g&&c.jsx("p",{className:"text-xs text-slate-500 mt-1 italic",children:"* Escreva um pouco mais para aprofundar a conexo."})]}),c.jsx("button",{type:"button",onClick:()=>U(!E),className:"text-xs text-indigo-400 font-bold mt-2 mb-2 flex items-center gap-1 hover:text-indigo-300",children:E?" Ocultar Opes Avanadas":"+ Duetos e Cpsula do Tempo"}),E&&c.jsxs("div",{className:"bg-slate-800/30 border border-slate-700 p-3 rounded-xl mb-4 space-y-4 animate-fade-in",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"text-xs text-slate-400 font-bold mb-1 flex items-center gap-2",children:[c.jsx(Hy,{className:"w-3 h-3"})," Co-Autor (Dueto)"]}),c.jsx("input",{type:"text",placeholder:"@handle do parceiro",className:"w-full bg-slate-900 border border-slate-700 rounded-lg p-2 text-sm text-white",value:x,onChange:je=>S(je.target.value)})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsxs("label",{className:"text-xs text-slate-400 font-bold flex items-center gap-2",children:[c.jsx(Oc,{className:"w-3 h-3"})," Cpsula do Tempo"]}),c.jsx("input",{type:"checkbox",checked:M,onChange:je=>k(je.target.checked),className:"accent-pulse-vitality"})]}),M&&c.jsxs("select",{className:"w-full bg-slate-900 border border-slate-700 rounded-lg p-2 text-sm text-white",value:B,onChange:je=>Y(je.target.value),children:[c.jsx("option",{value:"24h",children:"Revelar em 24 horas"}),c.jsx("option",{value:"7d",children:"Revelar em 7 dias"}),c.jsx("option",{value:"30d",children:"Revelar em 30 dias"})]})]})]}),g&&c.jsxs("div",{className:"mb-4 relative rounded-xl overflow-hidden border border-slate-700 group mt-4",children:[c.jsx("img",{src:g,alt:"Preview",className:"w-full h-48 object-cover opacity-80 group-hover:opacity-100 transition-opacity"}),c.jsx("button",{type:"button",onClick:()=>{v(null),V.current&&(V.current.value="")},className:"absolute top-2 right-2 p-2 bg-red-900/80 text-white rounded-full hover:bg-red-600 transition-colors",title:"Remover imagem",children:c.jsx(ci,{className:"w-4 h-4"})})]}),c.jsxs("div",{className:"flex items-center justify-between gap-4 mt-6",children:[c.jsxs("div",{className:"flex-shrink-0",children:[c.jsx("input",{type:"file",ref:V,accept:"image/*",className:"hidden",onChange:de}),c.jsxs("button",{type:"button",onClick:()=>{var je;return(je=V.current)==null?void 0:je.click()},className:"flex items-center gap-2 px-4 py-3 rounded-xl border border-slate-700 text-slate-400 hover:text-white hover:bg-slate-800 transition-colors",title:"Anexar Imagem",children:[c.jsx(Ty,{className:"w-5 h-5"}),c.jsx("span",{className:"text-sm font-medium",children:"Foto"})]})]}),c.jsxs("button",{type:"submit",disabled:!Z&&!g,className:"flex-grow bg-pulse-vitality text-pulse-dark font-bold py-3 rounded-xl hover:bg-yellow-400 disabled:opacity-30 disabled:cursor-not-allowed transition-all flex items-center justify-center gap-2 transform active:scale-95",children:[c.jsx(Kc,{className:"w-4 h-4"}),M?"Agendar Cpsula":"Publicar"]})]})]})]})})},jw=({onAccept:i})=>{const[n,l]=Q.useState(!1);return c.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:c.jsxs("div",{className:"bg-pulse-base border border-slate-700 rounded-2xl max-w-lg w-full p-8 shadow-2xl relative animate-fade-in-up",children:[c.jsxs("div",{className:"flex flex-col items-center mb-6",children:[c.jsx("div",{className:"w-16 h-16 bg-pulse-vitality/20 rounded-full flex items-center justify-center mb-4",children:c.jsx(ui,{className:"w-8 h-8 text-pulse-vitality"})}),c.jsx("h2",{className:"text-2xl font-bold text-white text-center",children:"Pacto de No-Toxicidade"}),c.jsx("p",{className:"text-slate-400 text-center mt-2",children:"Antes de entrar, precisamos do seu compromisso."})]}),c.jsx("div",{className:"bg-pulse-dark p-6 rounded-xl border border-slate-800 mb-6",children:c.jsxs("p",{className:"text-slate-300 italic text-center leading-relaxed",children:['"',Ev,'"']})}),c.jsxs("div",{className:"flex items-center mb-8 justify-center",children:[c.jsx("input",{type:"checkbox",id:"pact-check",className:"w-5 h-5 accent-pulse-vitality rounded cursor-pointer",checked:n,onChange:r=>l(r.target.checked)}),c.jsx("label",{htmlFor:"pact-check",className:"ml-3 text-slate-300 cursor-pointer select-none",children:"Li e aceito os termos de convivncia."})]}),c.jsx("button",{onClick:i,disabled:!n,className:"w-full py-4 rounded-xl font-bold text-pulse-dark bg-pulse-vitality hover:bg-yellow-400 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:"Entrar no PULSEOUT"})]})})},Ew=({pocket:i,onClose:n,onSubmit:l,userScore:r})=>{const[d,h]=Q.useState(["","",""]),[f,p]=Q.useState(""),[g,v]=Q.useState(!1),x=r<50,S=U=>{U.preventDefault(),v(!0),setTimeout(()=>{l(),v(!1)},1500)},E=(U,M)=>{const k=[...d];k[U]=M,h(k)};return c.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4 overflow-y-auto",children:c.jsxs("div",{className:"bg-pulse-base border border-slate-700 rounded-2xl max-w-2xl w-full p-6 md:p-8 shadow-2xl relative my-8",children:[c.jsx("button",{onClick:n,className:"absolute top-4 right-4 text-slate-500 hover:text-white",children:c.jsx(tl,{})}),c.jsxs("div",{className:"mb-6",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c.jsx($a,{className:"text-pulse-vitality w-6 h-6"}),c.jsxs("h2",{className:"text-2xl font-bold text-white",children:["Aplicao: ",i.name]})]}),c.jsx("p",{className:"text-slate-400",children:"Para manter a qualidade das conexes, este Pocket exige respostas breves para entrar. Mximo 50 membros."})]}),x&&c.jsxs("div",{className:"bg-indigo-900/30 border border-indigo-500/40 rounded-xl p-4 mb-6 flex items-start gap-3",children:[c.jsx(Uy,{className:"w-6 h-6 text-indigo-400 mt-0.5 flex-shrink-0"}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-bold text-indigo-300 text-sm",children:"Apadrinhamento Necessrio"}),c.jsxs("p",{className:"text-xs text-indigo-200 mt-1",children:["Seu PULSE Score (",r,") ainda  baixo. Para entrar em Pockets restritos, voc precisa ser apadrinhado por um membro ou rbitro existente."]})]})]}),c.jsxs("form",{onSubmit:S,className:"space-y-6",children:[i.applicationQuestions.map((U,M)=>c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-pulse-vitality mb-2",children:[M+1,". ",U]}),c.jsx("textarea",{required:!0,rows:3,className:"w-full bg-pulse-dark border border-slate-700 rounded-xl p-3 text-slate-200 focus:border-pulse-vitality focus:ring-1 focus:ring-pulse-vitality outline-none transition-colors",placeholder:"Sua resposta honesta...",value:d[M],onChange:k=>E(M,k.target.value)})]},M)),x&&c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-indigo-400 mb-2 flex items-center gap-2",children:[c.jsx(li,{className:"w-4 h-4"})," Handle do Padrinho (@)"]}),c.jsx("input",{required:!0,type:"text",className:"w-full bg-pulse-dark border border-indigo-500/50 rounded-xl p-3 text-slate-200 focus:border-indigo-500 outline-none transition-colors placeholder-slate-600",placeholder:"@nomedousuario",value:f,onChange:U=>p(U.target.value)}),c.jsx("p",{className:"text-[10px] text-slate-500 mt-1",children:"* Se o padrinho no validar em 24h, a aplicao expira."})]}),c.jsx("div",{className:"flex justify-end pt-4",children:c.jsx("button",{type:"submit",disabled:g,className:"px-8 py-3 rounded-xl font-bold text-pulse-dark bg-pulse-vitality hover:bg-yellow-400 disabled:opacity-70 transition-all flex items-center gap-2",children:g?"Enviando...":"Enviar Aplicao"})})]})]})})},Nw=({onClose:i,onSubmit:n,remaining:l})=>{const[r,d]=Q.useState(""),h=f=>{f.preventDefault(),r.trim().length>5&&n(r)};return c.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:c.jsxs("div",{className:"bg-pulse-base border border-slate-700 rounded-2xl max-w-md w-full p-8 shadow-2xl relative",children:[c.jsx("button",{onClick:i,className:"absolute top-4 right-4 text-slate-500 hover:text-white",children:c.jsx(tl,{})}),c.jsxs("div",{className:"text-center mb-6",children:[c.jsx("div",{className:"w-12 h-12 bg-indigo-500/20 rounded-full flex items-center justify-center mx-auto mb-3",children:c.jsx(oi,{className:"w-6 h-6 text-indigo-400"})}),c.jsx("h2",{className:"text-xl font-bold text-white",children:"Enviar PULSE Ping"}),c.jsxs("p",{className:"text-slate-400 text-sm mt-1",children:["Conexes diretas exigem contexto. ",c.jsx("br",{}),"Voc tem ",c.jsx("span",{className:"text-pulse-vitality font-bold",children:l})," pings hoje."]})]}),c.jsxs("form",{onSubmit:h,children:[c.jsxs("div",{className:"mb-6",children:[c.jsx("label",{className:"block text-xs uppercase tracking-wider text-slate-500 font-bold mb-2",children:"Tpico de Contexto (Obrigatrio)"}),c.jsx("input",{autoFocus:!0,type:"text",required:!0,placeholder:"Ex: Sobre seu post de estoicismo...",className:"w-full bg-pulse-dark border border-slate-700 rounded-lg p-3 text-white focus:border-indigo-500 focus:outline-none",value:r,onChange:f=>d(f.target.value)})]}),c.jsx("button",{type:"submit",className:"w-full bg-indigo-600 hover:bg-indigo-500 text-white font-bold py-3 rounded-xl transition-colors",children:"Enviar Ping"})]})]})})},ms=[{title:"Bem-vindo ao PULSEOUT",description:"Voc acaba de entrar em uma rede desenhada para a profundidade. Esquea a rolagem infinita e a dopamina barata. Aqui, a moeda  a conexo genuna.",icon:ba,color:"text-pulse-vitality"},{title:"Pockets: Micro-Comunidades",description:"Nada de grupos com 50.000 pessoas gritando. Pockets so limitados a 50 membros. Para entrar, voc precisa aplicar e ser aceito. Qualidade > Quantidade.",icon:$a,color:"text-emerald-400"},{title:"Pings: Inteno Real",description:"No existem DMs ilimitadas. Voc tem 5 'Pings' por dia para iniciar conversas privadas. Use-os com sabedoria e sempre fornea um contexto.",icon:oi,color:"text-indigo-400"},{title:"Sentimento > Like",description:"Interaja com humanidade: Inspirou (Novas ideias), Profundo (Reflexo), Apoio (Solidariedade) e Grato (Reconhecimento).",icon:Ac,color:"text-purple-400"},{title:"PULSE Score & rbitros",description:"Sua pontuao (0-150) define sua influncia. Comportamento txico reduz seu score. Pontuao alta permite criar Pockets e virar rbitro.",icon:Vc,color:"text-rose-400"}],Tw=({onComplete:i})=>{const[n,l]=Q.useState(0),r=()=>{n<ms.length-1?l(h=>h+1):i()},d=ms[n].icon;return c.jsx("div",{className:"fixed inset-0 bg-pulse-dark/95 backdrop-blur-md z-[60] flex items-center justify-center p-4 animate-fade-in",children:c.jsxs("div",{className:"bg-pulse-base border border-slate-700 rounded-3xl max-w-lg w-full p-8 shadow-2xl relative overflow-hidden flex flex-col min-h-[400px]",children:[c.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-gradient-to-br from-white/5 to-transparent rounded-full blur-3xl -mr-20 -mt-20 pointer-events-none transition-colors duration-500"}),c.jsx("div",{className:"flex gap-2 mb-8",children:ms.map((h,f)=>c.jsx("div",{className:`h-1 flex-1 rounded-full transition-all duration-300 ${f<=n?"bg-pulse-vitality":"bg-slate-800"}`},f))}),c.jsxs("div",{className:"flex-1 flex flex-col items-center text-center justify-center animate-fade-in-up",children:[c.jsx("div",{className:"w-20 h-20 rounded-full bg-slate-800/50 border border-slate-700 flex items-center justify-center mb-6 shadow-lg",children:c.jsx(d,{className:`w-10 h-10 ${ms[n].color}`})}),c.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:ms[n].title}),c.jsx("p",{className:"text-slate-400 text-lg leading-relaxed",children:ms[n].description})]},n),c.jsxs("div",{className:"mt-8 flex items-center justify-between",children:[c.jsx("button",{onClick:i,className:"text-slate-500 hover:text-white text-sm font-medium px-4 py-2 transition-colors",children:"Pular Tour"}),c.jsxs("button",{onClick:r,className:"bg-pulse-vitality text-pulse-dark font-bold py-3 px-6 rounded-xl hover:bg-yellow-400 transition-all flex items-center gap-2 shadow-lg shadow-yellow-500/10 group",children:[n===ms.length-1?"Comear Jornada":"Prximo",n===ms.length-1?c.jsx(al,{className:"w-4 h-4"}):c.jsx(Dm,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]})]})]})})};function Ow(){const[i,n]=Q.useState(null),[l,r]=Q.useState("HOME"),[d,h]=Q.useState(!1),[f,p]=Q.useState(!0),[g,v]=Q.useState(!0),[x,S]=Q.useState(!1),[E,U]=Q.useState([]),[M,k]=Q.useState([]),[B,Y]=Q.useState([]),[V,H]=Q.useState("GLOBAL"),[X,ge]=Q.useState(jv),[te,Z]=Q.useState([]),[ce,de]=Q.useState(null),[je,ze]=Q.useState([]),[he,Be]=Q.useState(0),[Qe,Ke]=Q.useState("SCROLL"),[R,I]=Q.useState(0),[ne,Oe]=Q.useState(null),[Ue,w]=Q.useState(!1),[$,J]=Q.useState(!1),[F,me]=Q.useState(!1),[_e,Ae]=Q.useState(!1),[dt,Pe]=Q.useState([]),[vs,bs]=Q.useState(""),[Fs,sl]=Q.useState(null),[ht,en]=Q.useState(!1),[Fe,Ha]=Q.useState({name:"",bio:"",avatar:"",isArbiter:!1,shelf:[]}),[_t,Ga]=Q.useState({category:"BOOK",title:"",author:""}),[Va,tn]=Q.useState("POSTS"),pi=Q.useRef(null),[Wc,At]=Q.useState(!1),nl=Q.useRef(null),[ys,ll]=Q.useState("");Q.useEffect(()=>{ve.auth.getSession().then(({data:{session:O}})=>{O?xs(O.user.id):v(!1)});const{data:{subscription:C}}=ve.auth.onAuthStateChange((O,K)=>{K?xs(K.user.id):(n(null),v(!1))});return()=>C.unsubscribe()},[]),Q.useEffect(()=>{let C,O;return i&&(an(),_s(),vi(),C=ve.channel("public:pings").on("postgres_changes",{event:"*",schema:"public",table:"pings"},()=>{vi()}).subscribe(),O=ve.channel("public:posts").on("postgres_changes",{event:"*",schema:"public",table:"posts"},()=>{an()}).subscribe()),()=>{C&&ve.removeChannel(C),O&&ve.removeChannel(O)}},[i]),Q.useEffect(()=>{let C;if(ce&&i){if(!/^[0-9a-f]{8}-[0-9a-f]{4}-[0-5][0-9a-f]{3}-[089ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(ce)){const G=Sv.find(P=>P.id===ce);G&&ze(G.messages);return}Wr(ce),C=ve.channel(`ping-${ce}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"messages",filter:`ping_id=eq.${ce}`},G=>{const P=G.new,se={id:P.id,senderId:P.sender_id===i.id?"me":"other",text:P.content,timestamp:new Date(P.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})};ze(fe=>[...fe,se])}).subscribe()}return()=>{C&&ve.removeChannel(C)}},[ce,i]),Q.useEffect(()=>{ce&&nl.current&&nl.current.scrollIntoView({behavior:"smooth"})},[je,ce]);const xs=async C=>{var O,K;try{const{data:G,error:P}=await ve.from("profiles").select("*").eq("id",C).single();if(P)throw P;let se=[];const{data:fe}=await ve.from("follows").select("following_id").eq("follower_id",C);fe&&(se=fe.map(qe=>qe.following_id));let St=G.bookmarks||[],zt=[];try{const qe=`pulseout_shelf_${C}`,jt=localStorage.getItem(qe);jt?zt=JSON.parse(jt):zt=G.shelf||[]}catch(qe){console.error("Error parsing shelf data",qe),zt=[]}if(G){const qe=((O=G.handle)==null?void 0:O.toLowerCase())==="@gustavolanconi"||((K=G.name)==null?void 0:K.toLowerCase())==="gustavolanconi",jt={id:G.id,name:G.name,handle:G.handle,avatar:G.avatar||`https://picsum.photos/seed/${G.id}/200`,bio:G.bio,pulseScore:G.pulse_score,isArbiter:G.is_arbiter,isVerified:qe?!0:G.is_verified||!1,isFounder:qe,dailyPingsRemaining:G.daily_pings_remaining,following:se,bookmarks:St,shelf:zt,reactionStats:{I:5,P:2,A:8,T:1},hasVoiceBio:G.has_voice_bio||!1};n(jt);const Es=localStorage.getItem("pulseout_pact"),fa=localStorage.getItem("pulseout_tour_completed");Es==="true"?(h(!0),p(fa==="true")):(h(!1),p(!0))}}catch(G){console.error("Profile Error:",G)}finally{v(!1)}},an=async()=>{if(S(!0),!i)return;const{data:C,error:O}=await ve.from("posts").select(`
            *,
            user:user_id(name, avatar, handle),
            pocket:pocket_id(name),
            comments(*, user:user_id(name, avatar, handle))
        `).order("created_at",{ascending:!1}),{data:K,error:G}=await ve.from("post_reactions").select("post_id, reaction_type").eq("user_id",i.id);if(O){console.error("Fetch Posts Error:",O),ye("Erro ao carregar feed."),S(!1);return}if(C){const P=C.map(se=>{var zt,qe,jt,Es,fa,Bt,ji,Ns;const fe=K==null?void 0:K.find(mt=>mt.post_id===se.id),St=((qe=(zt=se.user)==null?void 0:zt.handle)==null?void 0:qe.toLowerCase())==="@gustavolanconi"||((Es=(jt=se.user)==null?void 0:jt.name)==null?void 0:Es.toLowerCase())==="gustavolanconi";return{id:se.id,userId:se.user_id,userName:((fa=se.user)==null?void 0:fa.name)||"Unknown",userAvatar:((Bt=se.user)==null?void 0:Bt.avatar)||"https://via.placeholder.com/150",userIsVerified:St?!0:((ji=se.user)==null?void 0:ji.is_verified)||!1,userIsFounder:St,userDominantReaction:"A",coAuthorName:se.co_author_name,content:se.content,timestamp:new Date(se.created_at).toLocaleDateString(),depthBadge:se.depth_badge,isSlowMode:se.is_slow_mode,isTimeCapsule:!!se.scheduled_for,scheduledFor:se.scheduled_for,reactions:se.reactions||{I:0,P:0,A:0,T:0},currentUserReaction:fe?fe.reaction_type:null,pocketId:se.pocket_id,pocketName:(Ns=se.pocket)==null?void 0:Ns.name,imageUrl:se.image_url,comments:se.comments?se.comments.map(mt=>{var Tt,hl,Ei,ln,fl,Ts,Ni;const Pt=((hl=(Tt=mt.user)==null?void 0:Tt.handle)==null?void 0:hl.toLowerCase())==="@gustavolanconi"||((ln=(Ei=mt.user)==null?void 0:Ei.name)==null?void 0:ln.toLowerCase())==="gustavolanconi";return{id:mt.id,userId:mt.user_id,userName:((fl=mt.user)==null?void 0:fl.name)||"Usurio",userAvatar:((Ts=mt.user)==null?void 0:Ts.avatar)||"https://via.placeholder.com/150",userIsVerified:Pt?!0:((Ni=mt.user)==null?void 0:Ni.is_verified)||!1,userIsFounder:Pt,content:mt.content,isVoice:mt.is_voice,timestamp:new Date(mt.created_at).toLocaleDateString()}}):[]}});U(P)}S(!1)},_s=async()=>{const{data:C,error:O}=await ve.from("pockets").select("*");if(O){console.error("Fetch Pockets Error:",O);return}let K=[];if(i){const{data:G}=await ve.from("pocket_members").select("pocket_id").eq("user_id",i.id);G&&(K=G.map(P=>P.pocket_id))}if(C){const G=C.map(P=>{const se=K.includes(P.id);return{id:P.id,name:P.name,description:P.description,memberCount:0,maxMembers:50,tags:P.tags||[],isMember:se,applicationQuestions:P.application_questions||[],isCampfire:P.is_campfire,campfireTime:P.campfire_time,created_by:P.created_by}});Y(G),k(G.filter(P=>P.isMember))}},vi=async()=>{if(!i)return;const{data:C,error:O}=await ve.from("pings").select("*, sender:sender_id(name, avatar, handle), receiver:receiver_id(name, avatar, handle)").or(`sender_id.eq.${i.id},receiver_id.eq.${i.id}`).order("created_at",{ascending:!1});if(!O&&C){let K=0;const G=C.map(P=>{const se=P.sender_id===i.id,fe=se?P.receiver:P.sender;return!se&&!P.is_read&&K++,{id:P.id,fromUser:(fe==null?void 0:fe.name)||"Usurio",fromAvatar:(fe==null?void 0:fe.avatar)||"https://via.placeholder.com/150",context:P.context,timestamp:new Date(P.created_at).toLocaleDateString(),isRead:P.is_read,messages:[]}});Z(G),Be(K)}},Wr=async C=>{if(!i||!/^[0-9a-f]{8}-[0-9a-f]{4}-[0-5][0-9a-f]{3}-[089ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(C))return;const{data:K,error:G}=await ve.from("messages").select("*").eq("ping_id",C).order("created_at",{ascending:!0});if(K){const P=K.map(se=>({id:se.id,senderId:se.sender_id===i.id?"me":"other",text:se.content,timestamp:new Date(se.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}));ze(P)}},ws=async C=>{if(!C.trim()){Pe([]);return}const{data:O,error:K}=await ve.from("profiles").select("*").ilike("name",`%${C}%`).limit(10);if(O){const G=O.map(P=>{var fe,St;const se=((fe=P.handle)==null?void 0:fe.toLowerCase())==="@gustavolanconi"||((St=P.name)==null?void 0:St.toLowerCase())==="gustavolanconi";return{id:P.id,name:P.name,handle:P.handle,avatar:P.avatar||`https://picsum.photos/seed/${P.id}/200`,bio:P.bio,pulseScore:P.pulse_score,isArbiter:P.is_arbiter,isVerified:se?!0:P.is_verified||!1,isFounder:se,dailyPingsRemaining:0,following:[],bookmarks:[],shelf:[],reactionStats:{I:0,P:0,A:0,T:0}}});Pe(G)}},Nt=async C=>{const O=te.map(G=>G.id===C?{...G,isRead:!0}:G);Z(O),te.find(G=>G.id===C&&G.isRead===!1)&&Be(G=>Math.max(0,G-1)),i&&C.length>10&&await ve.from("pings").update({is_read:!0}).eq("id",C).eq("receiver_id",i.id)},da=C=>{de(C),Nt(C)},ft=async C=>{if(!i)return;const{error:O}=await ve.from("posts").delete().eq("id",C).eq("user_id",i.id);O?(console.error("Delete Post Error:",O),O.code==="23503"?ye("Erro: Comentrios impedem excluso. Configure Cascade no Banco."):ye(`Erro ao excluir: ${O.message}`)):(U(K=>K.filter(G=>G.id!==C)),ye("Post excludo com sucesso."))},il=async C=>{const{error:O}=await ve.from("comments").delete().eq("id",C);O?(console.error("Delete Comment Error:",O),ye(`Erro ao excluir: ${O.message}`)):(U(K=>K.map(G=>({...G,comments:G.comments.filter(P=>P.id!==C)}))),ye("Comentrio excludo."))},Fr=async C=>{if(!window.confirm("Ateno: Excluir este Pocket remover todos os membros e posts associados. Continuar?"))return;const{error:O}=await ve.from("pockets").delete().eq("id",C);O?(ye(`Erro ao excluir Pocket: ${O.message}`),console.error(O)):(_s(),ye("Pocket excludo."),V==="MY_POCKETS"&&H("GLOBAL"))},sn=async(C,O,K,G)=>{if(!i)return;const P=E.find(qe=>qe.id===C);if(!P)return;const se=P.currentUserReaction;let fe={...K},St=O;se===O?(fe[O]=Math.max(0,(fe[O]||0)-1),St=null):(se&&(fe[se]=Math.max(0,(fe[se]||0)-1)),fe[O]=(fe[O]||0)+1),U(E.map(qe=>qe.id===C?{...qe,reactions:fe,currentUserReaction:St}:qe));const{error:zt}=await ve.from("posts").update({reactions:fe}).eq("id",C);if(zt){console.error("Error updating reaction count:",zt);return}if(St?await ve.from("post_reactions").upsert({user_id:i.id,post_id:C,reaction_type:St},{onConflict:"user_id, post_id"}):await ve.from("post_reactions").delete().eq("user_id",i.id).eq("post_id",C),G!==i.id){const qe=Bt=>Bt==="I"?5:Bt==="P"?2:Bt==="A"?3:Bt==="T"?1:0,jt=qe(se),fa=qe(St)-jt;if(fa!==0){const{data:Bt}=await ve.from("profiles").select("pulse_score").eq("id",G).single();Bt&&await ve.from("profiles").update({pulse_score:Bt.pulse_score+fa}).eq("id",G)}}},ya=async(C,O,K=!1)=>{if(!i)return;const{error:G}=await ve.from("comments").insert({post_id:C,user_id:i.id,content:O,is_voice:K});G||an()},ha=async C=>{if(!i)return;const O=i.following.includes(C);let K=[];O?(K=i.following.filter(G=>G!==C),await ve.from("follows").delete().eq("follower_id",i.id).eq("following_id",C),ye("Sintonia encerrada.")):(K=[...i.following,C],await ve.from("follows").insert({follower_id:i.id,following_id:C}),ye("Sintonizado! Posts aparecero na sua aba Conexes.")),n({...i,following:K})},xa=async C=>{if(!i)return;const O=i.bookmarks.includes(C);let K=[];O?(K=i.bookmarks.filter(G=>G!==C),await ve.from("profiles").update({bookmarks:K}).eq("id",i.id),ye("Eco removido.")):(K=[...i.bookmarks,C],await ve.from("profiles").update({bookmarks:K}).eq("id",i.id),ye("Eco salvo para reflexo futura.")),n({...i,bookmarks:K})},_a=()=>{if(!_t.title||!_t.author)return;const C={id:Date.now().toString(),category:_t.category,title:_t.title,author:_t.author};Ha(O=>({...O,shelf:[...O.shelf,C]})),Ga({category:"BOOK",title:"",author:""})},nn=C=>{Ha(O=>({...O,shelf:O.shelf.filter(K=>K.id!==C)}))},Ss=async()=>{await ve.auth.signOut(),localStorage.removeItem("pulseout_pact"),localStorage.removeItem("pulseout_tour_completed"),n(null),h(!1),p(!0),r("HOME")},eo=()=>{localStorage.setItem("pulseout_pact","true"),h(!0),localStorage.getItem("pulseout_tour_completed")!=="true"&&p(!1)},bi=()=>{localStorage.setItem("pulseout_tour_completed","true"),p(!0)},rl=C=>{Oe(C)},js=async()=>{if(!ne||!i)return;const{error:C}=await ve.from("pocket_members").insert({pocket_id:ne.id,user_id:i.id});C?(ye("Erro ao entrar no Pocket."),console.error(C)):(_s(),Oe(null),ye(`Bem-vindo ao Pocket "${ne.name}"!`))},to=async C=>{if(i&&i.dailyPingsRemaining>0){const O={...i,dailyPingsRemaining:i.dailyPingsRemaining-1};n(O),w(!1),ye("Ping enviado! (Simulado)")}},yi=async C=>{if(!ce||!C.trim()||!i)return;if(ce.length<10){ze(K=>[...K,{id:`msg-${Date.now()}`,senderId:"me",text:C,timestamp:"Agora"}]);return}const{error:O}=await ve.from("messages").insert({ping_id:ce,sender_id:i.id,content:C});O&&ye("Erro ao enviar mensagem.")},ol=(C="")=>{bs(C),J(!0)},xi=async(C,O,K,G,P)=>{if(!i)return;const{error:se}=await ve.from("posts").insert({user_id:i.id,pocket_id:O,content:C,image_url:K,is_slow_mode:!1,depth_badge:C.length>200,co_author_name:G,scheduled_for:P});se?(console.error("Create Post Error",se),ye("Erro ao criar postagem.")):(an(),J(!1),ye(P?"Cpsula do tempo criada!":"Postagem criada com sucesso!"),Qe==="COMPASS"&&I(0),H(O?"MY_POCKETS":"GLOBAL"))},ul=async C=>{if(!i)return;const{data:O,error:K}=await ve.from("pockets").insert({name:C.name,description:C.description,tags:C.tags,application_questions:C.applicationQuestions,created_by:i.id}).select().single();if(K||!O){console.error("Create Pocket Error",K),ye("Erro ao criar Pocket.");return}await ve.from("pocket_members").insert({pocket_id:O.id,user_id:i.id,role:"admin"}),_s(),me(!1),ye(`Pocket "${C.name}" criado com sucesso!`)},cl=C=>{var K;const O=(K=C.target.files)==null?void 0:K[0];if(O){const G=new FileReader;G.onloadend=()=>{Ha(P=>({...P,avatar:G.result}))},G.readAsDataURL(O)}},_i=async()=>{if(i){const C={...i,name:Fe.name,bio:Fe.bio,avatar:Fe.avatar,isArbiter:Fe.isArbiter,shelf:Fe.shelf};try{localStorage.setItem(`pulseout_shelf_${i.id}`,JSON.stringify(Fe.shelf))}catch(K){console.error("Failed to save shelf locally",K)}n(C),en(!1),ye("Perfil atualizado!");const{error:O}=await ve.from("profiles").update({name:Fe.name,bio:Fe.bio,avatar:Fe.avatar,is_arbiter:Fe.isArbiter}).eq("id",i.id);O&&console.error("Error updating profile DB:",O)}},wi=async()=>{i&&(n({...i,hasVoiceBio:!0}),await ve.from("profiles").update({has_voice_bio:!0}).eq("id",i.id),ye("Apresentao de voz gravada!"))},na=(C,O)=>{ge(X.filter(G=>G.id!==C)),ye(O==="PENALIZE"?"Denncia validada. Score impactado.":"Denncia absolvida.")},ye=C=>{sl(C),setTimeout(()=>sl(null),3e3)},wt=()=>{if(!(i!=null&&i.reactionStats))return"border-pulse-vitality";const{I:C,P:O,A:K,T:G}=i.reactionStats,P=Math.max(C,O,K,G);return P===0?"border-pulse-vitality":P===C?"border-purple-400":P===O?"border-blue-400":P===K?"border-orange-400":P===G?"border-pink-400":"border-pulse-vitality"},Ka=()=>{const C=E.filter(G=>V==="GLOBAL"?!0:V==="MY_POCKETS"?G.pocketId&&M.some(P=>P.id===G.pocketId):V==="CONNECTIONS"?i==null?void 0:i.following.includes(G.userId):!0),O=R<C.length-1,K=R>0;return c.jsxs("div",{className:"animate-fade-in relative",children:[c.jsxs("div",{className:"mb-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h2",{className:"text-3xl font-bold text-white",children:"Feed Pulse"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("div",{className:"bg-slate-800 rounded-lg p-1 flex border border-slate-700",children:[c.jsx("button",{onClick:()=>Ke("SCROLL"),className:`p-2 rounded-md ${Qe==="SCROLL"?"bg-pulse-base text-pulse-vitality shadow-sm":"text-slate-500"}`,children:c.jsx(Ry,{className:"w-5 h-5"})}),c.jsx("button",{onClick:()=>Ke("COMPASS"),className:`p-2 rounded-md ${Qe==="COMPASS"?"bg-pulse-base text-pulse-vitality shadow-sm":"text-slate-500"}`,children:c.jsx(ky,{className:"w-5 h-5"})})]}),c.jsxs("button",{onClick:()=>ol(),className:"bg-pulse-vitality text-pulse-dark hover:bg-yellow-400 font-bold px-4 py-2 rounded-xl flex items-center gap-2",children:[c.jsx(ni,{className:"w-5 h-5"}),c.jsx("span",{className:"hidden md:inline",children:"Nova Postagem"})]})]})]}),c.jsxs("div",{className:"flex bg-pulse-base p-1 rounded-xl inline-flex border border-slate-800 overflow-x-auto max-w-full",children:[c.jsxs("button",{onClick:()=>{H("GLOBAL"),I(0)},className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-bold whitespace-nowrap ${V==="GLOBAL"?"bg-pulse-light text-white":"text-slate-500"}`,children:[c.jsx(X0,{className:"w-4 h-4"})," Global"]}),c.jsxs("button",{onClick:()=>{H("MY_POCKETS"),I(0)},className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-bold whitespace-nowrap ${V==="MY_POCKETS"?"bg-pulse-light text-white":"text-slate-500"}`,children:[c.jsx($a,{className:"w-4 h-4"})," Pockets"]}),c.jsxs("button",{onClick:()=>{H("CONNECTIONS"),I(0)},className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-bold whitespace-nowrap ${V==="CONNECTIONS"?"bg-pulse-light text-white":"text-slate-500"}`,children:[c.jsx(li,{className:"w-4 h-4"})," Conexes"]})]})]}),x?c.jsx("div",{className:"text-center py-10",children:c.jsx(ba,{className:"w-8 h-8 text-pulse-vitality animate-spin mx-auto"})}):C.length>0?c.jsx("div",{children:Qe==="SCROLL"?c.jsx("div",{className:"space-y-6",children:C.map(G=>c.jsx(Br,{post:G,isCurrentUser:G.userId===(i==null?void 0:i.id),isFollowing:(i==null?void 0:i.following.includes(G.userId))||!1,isBookmarked:(i==null?void 0:i.bookmarks.includes(G.id))||!1,onToggleFollow:()=>ha(G.userId),onToggleBookmark:()=>xa(G.id),onReact:P=>sn(G.id,P,G.reactions,G.userId),onComment:(P,se)=>ya(G.id,P,se),onDelete:()=>ft(G.id),onDeleteComment:P=>{const se=G.comments.find(fe=>fe.id===P);se&&se.userId===(i==null?void 0:i.id)&&il(P)}},G.id))}):c.jsxs("div",{className:"py-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("span",{className:"text-xs font-bold uppercase tracking-wider text-slate-500",children:["Modo Bssola  ",R+1," de ",C.length]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{disabled:!K,onClick:()=>I(G=>G-1),className:"p-3 bg-slate-800 rounded-full text-white disabled:opacity-30",children:c.jsx(Z0,{className:"w-6 h-6"})}),c.jsx("button",{disabled:!O,onClick:()=>I(G=>G+1),className:"p-3 bg-pulse-vitality rounded-full text-pulse-dark disabled:opacity-30",children:c.jsx(Dm,{className:"w-6 h-6"})})]})]}),c.jsx("div",{className:"animate-fade-in",children:c.jsx(Br,{post:C[R],isCurrentUser:C[R].userId===(i==null?void 0:i.id),isFollowing:(i==null?void 0:i.following.includes(C[R].userId))||!1,isBookmarked:(i==null?void 0:i.bookmarks.includes(C[R].id))||!1,onToggleFollow:()=>ha(C[R].userId),onToggleBookmark:()=>xa(C[R].id),onReact:G=>sn(C[R].id,G,C[R].reactions,C[R].userId),onComment:(G,P)=>ya(C[R].id,G,P),onDelete:()=>ft(C[R].id),onDeleteComment:G=>il(G)})},R)]})}):c.jsxs("div",{className:"text-center py-12 border border-dashed border-slate-800 rounded-xl",children:[c.jsx("div",{className:"w-16 h-16 bg-slate-800 rounded-full flex items-center justify-center mx-auto mb-4",children:V==="GLOBAL"?c.jsx(X0,{className:"text-slate-500"}):V==="CONNECTIONS"?c.jsx(li,{className:"text-slate-500"}):c.jsx($a,{className:"text-slate-500"})}),c.jsx("p",{className:"text-slate-400 font-medium",children:V==="CONNECTIONS"?"Voc ainda no sintonizou em ningum. Encontre vozes que ressoam com voc no feed Global.":"Nenhum post encontrado."})]})]})},dl=()=>{const C=te.find(K=>K.id===ce),O=K=>{K.preventDefault(),ys.trim()&&(yi(ys),ll(""))};return C?c.jsxs("div",{className:"animate-fade-in flex flex-col h-[calc(100vh-100px)] md:h-[600px] bg-pulse-base border border-slate-800 rounded-2xl overflow-hidden relative",children:[c.jsxs("div",{className:"bg-slate-900/80 p-4 border-b border-slate-800 flex items-center gap-3 backdrop-blur-md sticky top-0 z-10",children:[c.jsx("button",{onClick:()=>{de(null),ze([])},className:"p-2 -ml-2 text-slate-400 hover:text-white rounded-full hover:bg-slate-800",children:c.jsx(Z0,{className:"w-5 h-5"})}),c.jsx("img",{src:C.fromAvatar,alt:C.fromUser,className:"w-10 h-10 rounded-full"}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-bold text-white text-sm",children:C.fromUser}),c.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-indigo-400",children:[c.jsx("span",{className:"w-1.5 h-1.5 bg-indigo-500 rounded-full animate-pulse"}),c.jsxs("span",{children:["Contexto: ",C.context]})]})]})]}),c.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-pulse-dark/50",children:[je.length>0?je.map(K=>c.jsx("div",{className:`flex ${K.senderId==="me"?"justify-end":"justify-start"}`,children:c.jsxs("div",{className:`max-w-[80%] rounded-2xl p-3 text-sm leading-relaxed ${K.senderId==="me"?"bg-pulse-vitality text-pulse-dark rounded-br-none":"bg-slate-800 text-slate-200 rounded-bl-none border border-slate-700"}`,children:[c.jsx("p",{children:K.text}),c.jsx("div",{className:`text-[10px] mt-1 text-right ${K.senderId==="me"?"text-yellow-900/60":"text-slate-500"}`,children:K.timestamp})]})},K.id)):c.jsxs("div",{className:"text-center text-slate-500 text-sm mt-10",children:['Inicie a conversa sobre: "',C.context,'"']}),c.jsx("div",{ref:nl})]}),c.jsxs("form",{onSubmit:O,className:"p-4 bg-slate-900 border-t border-slate-800 flex gap-2",children:[c.jsx("input",{type:"text",value:ys,onChange:K=>ll(K.target.value),placeholder:"Digite...",className:"flex-1 bg-pulse-dark border border-slate-700 rounded-xl px-4 py-3 text-white focus:outline-none focus:border-pulse-vitality"}),c.jsx("button",{type:"submit",disabled:!ys.trim(),className:"bg-indigo-600 hover:bg-indigo-500 text-white p-3 rounded-xl",children:c.jsx(Kc,{className:"w-5 h-5"})})]})]}):c.jsxs("div",{className:"animate-fade-in",children:[c.jsx("div",{className:"mb-6 bg-indigo-900/20 border border-indigo-500/30 rounded-xl p-6",children:c.jsxs("div",{className:"flex items-start gap-4",children:[c.jsx("div",{className:"bg-indigo-500/20 p-3 rounded-full",children:c.jsx(Kr,{className:"w-6 h-6 text-indigo-400"})}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-white mb-1",children:"Caixa de Entrada"}),c.jsx("p",{className:"text-slate-300 text-sm",children:"Pings custam energia. Valorize a inteno."})]})]})}),c.jsx("div",{className:"space-y-4",children:te.length>0?te.map(K=>c.jsxs("div",{onClick:()=>da(K.id),className:`bg-pulse-base border ${K.isRead?"border-slate-800":"border-indigo-500/50"} rounded-xl p-4 flex gap-4 hover:bg-slate-800/50 cursor-pointer relative`,children:[c.jsx("img",{src:K.fromAvatar,alt:K.fromUser,className:"w-12 h-12 rounded-full object-cover"}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex justify-between items-start mb-1",children:[c.jsx("span",{className:`font-bold ${K.isRead?"text-slate-300":"text-white"}`,children:K.fromUser}),c.jsx("span",{className:"text-xs text-slate-500",children:K.timestamp})]}),c.jsxs("div",{className:"bg-slate-900/50 p-3 rounded-lg border border-slate-800 mb-2",children:[c.jsx("span",{className:"text-xs text-indigo-400 font-bold uppercase tracking-wider block mb-1",children:"Contexto:"}),c.jsxs("p",{className:"text-sm text-slate-300 italic",children:['"',K.context,'"']})]}),c.jsx("div",{className:"flex justify-end opacity-70",children:c.jsxs("span",{className:"text-xs font-bold text-pulse-vitality flex items-center gap-1",children:[c.jsx(oi,{className:"w-3 h-3"})," Abrir"]})})]}),!K.isRead&&c.jsx("div",{className:"absolute top-4 right-4 w-3 h-3 bg-indigo-500 rounded-full animate-pulse shadow-indigo"})]},K.id)):c.jsxs("div",{className:"text-center py-12 border border-dashed border-slate-700 rounded-xl",children:[c.jsx(Kr,{className:"w-12 h-12 text-slate-600 mx-auto mb-3"}),c.jsx("p",{className:"text-slate-400",children:"Caixa de entrada vazia."})]})})]})},ao=()=>c.jsxs("div",{className:"animate-fade-in",children:[c.jsxs("div",{className:"mb-8 flex justify-between items-end",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Pockets"}),c.jsx("p",{className:"text-slate-400",children:"Micro-comunidades limitadas."})]}),c.jsxs("button",{onClick:()=>me(!0),className:"bg-indigo-600 hover:bg-indigo-500 text-white font-bold px-4 py-2 rounded-xl flex items-center gap-2",children:[c.jsx(ni,{className:"w-5 h-5"})," Criar"]})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:B.map(C=>c.jsxs("div",{className:`bg-pulse-base border rounded-2xl p-6 relative overflow-hidden group ${C.isCampfire?"border-orange-500/30":"border-slate-700"}`,children:[C.isCampfire&&c.jsx("div",{className:"absolute top-0 right-0 p-3",children:c.jsx(J0,{className:"text-orange-500 w-5 h-5"})}),i&&C.created_by===i.id&&c.jsx("button",{onClick:()=>Fr(C.id),className:"absolute top-3 right-3 p-2 text-slate-600 hover:text-red-400 hover:bg-red-900/20 rounded-lg transition-colors z-10 opacity-0 group-hover:opacity-100",title:"Excluir Pocket",children:c.jsx(ci,{className:"w-4 h-4"})}),c.jsxs("div",{className:"flex justify-between items-start mb-4 pr-10",children:[c.jsx("div",{children:c.jsx("h3",{className:"text-xl font-bold text-white",children:C.name})}),c.jsxs("span",{className:"bg-slate-800 text-slate-300 text-xs px-2 py-1 rounded-md",children:[C.memberCount||0,"/50"]})]}),c.jsx("p",{className:"text-slate-300 text-sm mb-4",children:C.description}),c.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:C.tags.map(O=>c.jsxs("span",{className:"text-xs text-indigo-300 bg-indigo-900/30 px-2 py-1 rounded",children:["#",O]},O))}),C.isMember?c.jsxs("button",{disabled:!0,className:"w-full py-2 bg-emerald-900/30 text-emerald-400 border border-emerald-800 rounded-lg text-sm font-bold flex items-center justify-center gap-2",children:[c.jsx(ui,{className:"w-4 h-4"})," Membro"]}):c.jsx("button",{onClick:()=>rl(C),className:"w-full py-2 bg-slate-100 hover:bg-white text-pulse-dark rounded-lg text-sm font-bold",children:"Aplicar"})]},C.id))})]}),so=()=>{var C;return c.jsxs("div",{className:"animate-fade-in",children:[c.jsxs("div",{className:"bg-pulse-base border border-slate-800 rounded-2xl p-6 md:p-8 mb-8 relative",children:[c.jsxs("div",{className:"absolute top-4 right-4 flex gap-2 z-10",children:[ht?c.jsxs("button",{onClick:_i,className:"flex items-center gap-2 bg-pulse-vitality text-pulse-dark px-4 py-2 rounded-xl font-bold text-sm",children:[c.jsx(Ny,{className:"w-4 h-4"})," Salvar"]}):c.jsxs("button",{onClick:()=>{Ha({name:(i==null?void 0:i.name)||"",bio:(i==null?void 0:i.bio)||"",avatar:(i==null?void 0:i.avatar)||"",isArbiter:(i==null?void 0:i.isArbiter)||!1,shelf:(i==null?void 0:i.shelf)||[]}),en(!0)},className:"flex items-center gap-2 bg-slate-800 text-slate-300 px-4 py-2 rounded-xl font-medium text-sm",children:[c.jsx(Sy,{className:"w-4 h-4"})," Editar"]}),c.jsx("button",{onClick:Ss,className:"p-2 bg-red-900/20 text-red-400 rounded-xl hover:bg-red-900/40",children:c.jsx(jy,{className:"w-5 h-5"})})]}),c.jsxs("div",{className:"flex flex-col items-center md:flex-row md:items-start gap-6 mt-4 md:mt-0",children:[c.jsxs("div",{className:`p-1 rounded-full border-4 ${wt()} relative group overflow-hidden ${ht?"cursor-pointer":""}`,onClick:()=>{var O;return ht&&((O=pi.current)==null?void 0:O.click())},children:[c.jsx("img",{src:ht?Fe.avatar:i==null?void 0:i.avatar,alt:i==null?void 0:i.name,className:"w-24 h-24 md:w-32 md:h-32 rounded-full object-cover"}),ht&&c.jsx("div",{className:"absolute inset-0 bg-black/60 flex items-center justify-center",children:c.jsx(Ey,{className:"w-8 h-8 text-white"})}),c.jsx("input",{type:"file",ref:pi,className:"hidden",accept:"image/*",onChange:cl})]}),c.jsx("div",{className:"text-center md:text-left flex-1 w-full",children:ht?c.jsxs("div",{className:"space-y-4 max-w-lg mx-auto md:mx-0",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs uppercase tracking-wider text-slate-500 font-bold mb-1",children:"Nome"}),c.jsx("input",{type:"text",value:Fe.name,onChange:O=>Ha({...Fe,name:O.target.value}),className:"w-full bg-pulse-dark border border-slate-700 p-3 rounded-xl text-white"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs uppercase tracking-wider text-slate-500 font-bold mb-1",children:"Bio"}),c.jsx("textarea",{value:Fe.bio,onChange:O=>Ha({...Fe,bio:O.target.value}),className:"w-full bg-pulse-dark border border-slate-700 p-3 rounded-xl text-slate-300 text-sm resize-none",rows:3})]}),c.jsxs("div",{className:"pt-4 border-t border-slate-700",children:[c.jsxs("h4",{className:"text-pulse-vitality text-sm font-bold mb-3 flex items-center gap-2",children:[c.jsx(zr,{className:"w-4 h-4"})," Minhas Referncias"]}),c.jsxs("div",{className:"space-y-4",children:[Fe.shelf.map(O=>c.jsxs("div",{className:"flex items-center justify-between bg-slate-900 border border-slate-700 p-3 rounded-lg",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("div",{className:"bg-slate-800 p-2 rounded-full text-slate-400",children:[O.category==="BOOK"&&c.jsx(zr,{className:"w-4 h-4"}),O.category==="SHOW"&&c.jsx(W0,{className:"w-4 h-4"}),O.category==="MUSIC"&&c.jsx(F0,{className:"w-4 h-4"})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-bold text-white",children:O.title}),c.jsx("p",{className:"text-xs text-slate-500",children:O.author})]})]}),c.jsx("button",{onClick:()=>nn(O.id),className:"text-red-400 hover:text-red-300",children:c.jsx(ci,{className:"w-4 h-4"})})]},O.id)),Fe.shelf.length<3&&c.jsxs("div",{className:"flex gap-2 items-end bg-slate-900/50 p-3 rounded-xl border border-slate-800 border-dashed",children:[c.jsxs("div",{className:"w-24",children:[c.jsx("label",{className:"text-[10px] text-slate-500 block mb-1",children:"Tipo"}),c.jsxs("select",{value:_t.category,onChange:O=>Ga({..._t,category:O.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg p-2 text-xs text-white",children:[c.jsx("option",{value:"BOOK",children:"Livro"}),c.jsx("option",{value:"SHOW",children:"Filme/Srie"}),c.jsx("option",{value:"MUSIC",children:"Msica"})]})]}),c.jsxs("div",{className:"flex-1",children:[c.jsx("label",{className:"text-[10px] text-slate-500 block mb-1",children:"Ttulo"}),c.jsx("input",{type:"text",placeholder:"Ex: Matrix",className:"w-full bg-slate-800 border border-slate-700 rounded-lg p-2 text-xs text-white",value:_t.title,onChange:O=>Ga({..._t,title:O.target.value})})]}),c.jsxs("div",{className:"flex-1",children:[c.jsx("label",{className:"text-[10px] text-slate-500 block mb-1",children:"Autor/Diretor"}),c.jsx("input",{type:"text",placeholder:"Ex: Wachowskis",className:"w-full bg-slate-800 border border-slate-700 rounded-lg p-2 text-xs text-white",value:_t.author,onChange:O=>Ga({..._t,author:O.target.value})})]}),c.jsx("button",{type:"button",onClick:_a,disabled:!_t.title||!_t.author,className:"bg-pulse-vitality text-pulse-dark p-2 rounded-lg disabled:opacity-50",children:c.jsx(ni,{className:"w-4 h-4"})})]})]})]}),c.jsx("div",{className:"pt-2",children:c.jsxs("button",{onClick:wi,type:"button",className:"w-full border border-dashed border-slate-600 hover:border-indigo-400 text-slate-400 p-3 rounded-xl flex items-center justify-center gap-2",children:[c.jsx(Mm,{className:"w-4 h-4"})," ",c.jsx("span",{className:"text-sm font-bold",children:"Gravar Voz"})]})})]}):c.jsxs(c.Fragment,{children:[c.jsxs("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-1 flex items-center gap-2",children:[i==null?void 0:i.name,i!=null&&i.isFounder?c.jsx(Ws,{className:"w-6 h-6 text-yellow-500 fill-current"}):(i==null?void 0:i.isVerified)&&c.jsx(Zs,{className:"w-6 h-6 text-pulse-vitality fill-current"})]}),c.jsx("p",{className:"text-pulse-vitality font-medium text-sm mb-4",children:i==null?void 0:i.handle}),c.jsx("p",{className:"text-slate-300 max-w-lg mx-auto md:mx-0 leading-relaxed",children:(i==null?void 0:i.bio)||"Sem bio."}),c.jsx("div",{className:"flex items-center gap-4 mt-4 justify-center md:justify-start",children:c.jsxs("div",{className:"text-xs font-bold text-slate-500 uppercase flex items-center gap-1",children:[c.jsx(li,{className:"w-3 h-3"})," Sintonizados: ",c.jsx("span",{className:"text-white ml-1",children:((C=i==null?void 0:i.following)==null?void 0:C.length)||0})]})})]})})]})]}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[c.jsxs("div",{className:"bg-slate-900/50 p-4 rounded-xl border border-slate-800 text-center",children:[c.jsx("div",{className:"text-2xl font-bold text-pulse-vitality",children:i==null?void 0:i.pulseScore}),c.jsx("div",{className:"text-xs text-slate-500 uppercase font-semibold",children:"PULSE Score"})]}),c.jsxs("div",{className:"bg-slate-900/50 p-4 rounded-xl border border-slate-800 text-center",children:[c.jsx("div",{className:"text-2xl font-bold text-indigo-400",children:i!=null&&i.isArbiter?"Sim":"No"}),c.jsx("div",{className:"text-xs text-slate-500 uppercase font-semibold",children:"rbitro"})]}),c.jsxs("div",{className:"bg-slate-900/50 p-4 rounded-xl border border-slate-800 text-center",children:[c.jsx("div",{className:"text-2xl font-bold text-emerald-400",children:M.length}),c.jsx("div",{className:"text-xs text-slate-500 uppercase font-semibold",children:"Pockets"})]}),c.jsxs("div",{className:"bg-slate-900/50 p-4 rounded-xl border border-slate-800 text-center",children:[c.jsx("div",{className:"text-2xl font-bold text-slate-200",children:E.filter(O=>O.userId===(i==null?void 0:i.id)).length}),c.jsx("div",{className:"text-xs text-slate-500 uppercase font-semibold",children:"Posts"})]})]}),!ht&&(i==null?void 0:i.shelf)&&i.shelf.length>0&&c.jsxs("div",{className:"mb-8",children:[c.jsxs("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:[c.jsx(zr,{className:"w-5 h-5 text-pulse-vitality"})," Estante de Referncias"]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:i.shelf.map(O=>c.jsxs("div",{className:"bg-slate-900/50 border border-slate-800 p-4 rounded-xl flex items-center gap-4 hover:border-slate-600 transition-colors",children:[c.jsxs("div",{className:"w-12 h-12 rounded-lg bg-slate-800 flex items-center justify-center text-slate-400 flex-shrink-0",children:[O.category==="BOOK"&&c.jsx(zr,{className:"w-6 h-6"}),O.category==="SHOW"&&c.jsx(W0,{className:"w-6 h-6"}),O.category==="MUSIC"&&c.jsx(F0,{className:"w-6 h-6"})]}),c.jsxs("div",{children:[c.jsx("p",{className:"font-bold text-white text-sm line-clamp-1",children:O.title}),c.jsx("p",{className:"text-xs text-slate-500 line-clamp-1",children:O.author}),c.jsx("span",{className:"text-[10px] text-slate-600 font-bold uppercase tracking-wider mt-1 block",children:O.category==="BOOK"?"Livro":O.category==="SHOW"?"Filme/Srie":"Msica"})]})]},O.id))})]}),!ht&&c.jsxs("div",{className:"flex justify-center mb-6 border-b border-slate-800",children:[c.jsx("button",{onClick:()=>tn("POSTS"),className:`px-6 py-3 text-sm font-bold border-b-2 transition-colors ${Va==="POSTS"?"border-pulse-vitality text-white":"border-transparent text-slate-500 hover:text-slate-300"}`,children:"Meus Posts"}),c.jsx("button",{onClick:()=>tn("BOOKMARKS"),className:`px-6 py-3 text-sm font-bold border-b-2 transition-colors ${Va==="BOOKMARKS"?"border-pulse-vitality text-white":"border-transparent text-slate-500 hover:text-slate-300"}`,children:"Ecos Guardados"})]}),!ht&&c.jsxs("div",{className:"animate-fade-in",children:[Va==="POSTS"&&c.jsxs("div",{children:[c.jsxs("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:[c.jsx($a,{className:"w-5 h-5 text-indigo-400"})," Meus Pockets"]}),M.length>0?c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-8",children:M.map(O=>c.jsxs("div",{className:"bg-pulse-base border border-slate-800 p-4 rounded-xl flex justify-between items-center",children:[c.jsx("div",{children:c.jsxs("h4",{className:"font-bold text-slate-200 flex items-center gap-2",children:[O.name,O.isCampfire&&c.jsx(J0,{className:"w-3 h-3 text-orange-500"})]})}),c.jsx("span",{className:"text-xs bg-emerald-900/30 text-emerald-400 px-2 py-1 rounded",children:"Membro"})]},O.id))}):c.jsx("div",{className:"bg-slate-900/30 border border-slate-800 border-dashed rounded-xl p-8 text-center mb-8",children:c.jsx("p",{className:"text-slate-400",children:"Nenhum pocket ainda."})}),c.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Histrico de Publicaes"}),E.filter(O=>O.userId===(i==null?void 0:i.id)).length>0?E.filter(O=>O.userId===(i==null?void 0:i.id)).map(O=>c.jsx(Br,{post:O,isCurrentUser:!0,isFollowing:!1,isBookmarked:i==null?void 0:i.bookmarks.includes(O.id),onToggleFollow:()=>ha(O.userId),onToggleBookmark:()=>xa(O.id),onReact:K=>sn(O.id,K,O.reactions,O.userId),onComment:(K,G)=>ya(O.id,K,G),onDelete:()=>ft(O.id),onDeleteComment:K=>il(K)},O.id)):c.jsx("div",{className:"text-center py-8 bg-slate-800/20 rounded-xl border border-dashed border-slate-700",children:c.jsx("p",{className:"text-slate-500",children:"Voc ainda no publicou nada."})})]}),Va==="BOOKMARKS"&&c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-2 mb-6 text-pulse-vitality",children:[c.jsx(Tc,{className:"w-5 h-5"}),c.jsx("h3",{className:"text-lg font-bold text-white",children:"Ecos Guardados"})]}),(i==null?void 0:i.bookmarks.length)>0?E.filter(O=>i.bookmarks.includes(O.id)).map(O=>c.jsx(Br,{post:O,isCurrentUser:O.userId===i.id,isFollowing:i.following.includes(O.userId),isBookmarked:!0,onToggleFollow:()=>ha(O.userId),onToggleBookmark:()=>xa(O.id),onReact:K=>sn(O.id,K,O.reactions,O.userId),onComment:(K,G)=>ya(O.id,K,G)},O.id)):c.jsxs("div",{className:"text-center py-12 border border-dashed border-slate-800 rounded-xl",children:[c.jsx(Tc,{className:"w-12 h-12 text-slate-600 mx-auto mb-3"}),c.jsx("p",{className:"text-slate-400 font-medium",children:"Voc ainda no salvou nenhum Eco."}),c.jsx("p",{className:"text-slate-600 text-sm mt-1",children:"Salve posts que valem a pena reler."})]})]})]})]})},Si=()=>c.jsxs("div",{className:"animate-fade-in",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[c.jsx("div",{className:"bg-red-900/30 p-3 rounded-full",children:c.jsx(Nc,{className:"w-8 h-8 text-red-400"})}),c.jsx("div",{children:c.jsx("h2",{className:"text-3xl font-bold text-white",children:"Zona dos rbitros"})})]}),X.length>0?c.jsx("div",{className:"grid gap-4",children:X.map(C=>c.jsxs("div",{className:"bg-pulse-base border border-slate-800 rounded-xl p-6",children:[c.jsxs("div",{className:"flex justify-between items-start mb-4",children:[c.jsx("span",{className:"bg-red-900/30 text-red-400 text-xs px-2 py-1 rounded-md font-bold uppercase",children:C.reason}),c.jsxs("span",{className:"text-slate-500 text-xs",children:["Autor: ",C.author]})]}),c.jsxs("p",{className:"text-slate-200 italic mb-6",children:['"',C.content,'"']}),c.jsxs("div",{className:"flex gap-4",children:[c.jsxs("button",{onClick:()=>na(C.id,"DISMISS"),className:"flex-1 py-3 rounded-lg border border-slate-700 text-slate-400 font-bold flex items-center justify-center gap-2",children:[c.jsx(tl,{className:"w-4 h-4"})," Absolver"]}),c.jsxs("button",{onClick:()=>na(C.id,"PENALIZE"),className:"flex-1 py-3 rounded-lg bg-red-600/20 border border-red-600/50 text-red-400 font-bold flex items-center justify-center gap-2",children:[c.jsx(Nc,{className:"w-4 h-4"})," Penalizar"]})]})]},C.id))}):c.jsxs("div",{className:"text-center py-20 bg-slate-800/20 rounded-2xl border border-dashed border-slate-700",children:[c.jsx(al,{className:"w-16 h-16 text-emerald-500/50 mx-auto mb-4"}),c.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Tudo Limpo!"})]})]});return g?c.jsx("div",{className:"min-h-screen bg-pulse-dark flex items-center justify-center",children:c.jsx(ba,{className:"w-10 h-10 text-pulse-vitality animate-bounce"})}):i?c.jsxs(c.Fragment,{children:[!d&&c.jsx(jw,{onAccept:eo}),!f&&d&&c.jsx(Tw,{onComplete:bi}),ne&&c.jsx(Ew,{pocket:ne,onClose:()=>Oe(null),onSubmit:js,userScore:i.pulseScore}),F&&c.jsx(ww,{onClose:()=>me(!1),onSubmit:ul}),Ue&&c.jsx(Nw,{remaining:i.dailyPingsRemaining,onClose:()=>w(!1),onSubmit:to}),$&&c.jsx(Sw,{userPockets:M,onClose:()=>{J(!1),bs("")},onSubmit:xi,initialContent:vs}),_e&&i&&c.jsx(_w,{onClose:()=>Ae(!1),onSearch:ws,results:dt,onToggleFollow:ha,currentUser:i}),Fs&&c.jsxs("div",{className:"fixed bottom-6 right-6 bg-emerald-600 text-white px-6 py-3 rounded-lg shadow-xl z-50 flex items-center gap-3 animate-fade-in-up",children:[c.jsx(ui,{className:"w-5 h-5"}),Fs]}),c.jsxs(Gy,{user:i,currentView:l,onNavigate:r,onOpenPing:()=>w(!0),onTriggerPost:ol,onOpenSearch:()=>Ae(!0),unreadPingCount:he,children:[l==="HOME"&&Ka(),l==="INBOX"&&dl(),l==="POCKETS"&&ao(),l==="PROFILE"&&so(),l==="ARBITER"&&Si()]})]}):c.jsx(xw,{onSuccess:()=>{}})}const ng=document.getElementById("root");if(!ng)throw new Error("Could not find root element to mount to");const Aw=wv.createRoot(ng);Aw.render(c.jsx(mv.StrictMode,{children:c.jsx(Ow,{})}));
