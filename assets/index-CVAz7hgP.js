function p0(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Fr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Qd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Ps(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var Yd={exports:{}},wo={},Xd={exports:{}},W={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ts=Symbol.for("react.element"),m0=Symbol.for("react.portal"),g0=Symbol.for("react.fragment"),v0=Symbol.for("react.strict_mode"),y0=Symbol.for("react.profiler"),w0=Symbol.for("react.provider"),x0=Symbol.for("react.context"),_0=Symbol.for("react.forward_ref"),b0=Symbol.for("react.suspense"),k0=Symbol.for("react.memo"),j0=Symbol.for("react.lazy"),cc=Symbol.iterator;function S0(e){return e===null||typeof e!="object"?null:(e=cc&&e[cc]||e["@@iterator"],typeof e=="function"?e:null)}var Zd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},eh=Object.assign,th={};function En(e,t,r){this.props=e,this.context=t,this.refs=th,this.updater=r||Zd}En.prototype.isReactComponent={};En.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};En.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function rh(){}rh.prototype=En.prototype;function Ll(e,t,r){this.props=e,this.context=t,this.refs=th,this.updater=r||Zd}var Ul=Ll.prototype=new rh;Ul.constructor=Ll;eh(Ul,En.prototype);Ul.isPureReactComponent=!0;var dc=Array.isArray,nh=Object.prototype.hasOwnProperty,Ml={current:null},sh={key:!0,ref:!0,__self:!0,__source:!0};function ih(e,t,r){var n,s={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)nh.call(t,n)&&!sh.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];s.children=u}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:Ts,type:e,key:i,ref:o,props:s,_owner:Ml.current}}function E0(e,t){return{$$typeof:Ts,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Dl(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ts}function N0(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var hc=/\/+/g;function qo(e,t){return typeof e=="object"&&e!==null&&e.key!=null?N0(""+e.key):t.toString(36)}function wi(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Ts:case m0:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+qo(o,0):n,dc(s)?(r="",e!=null&&(r=e.replace(hc,"$&/")+"/"),wi(s,t,r,"",function(c){return c})):s!=null&&(Dl(s)&&(s=E0(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(hc,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",dc(e))for(var l=0;l<e.length;l++){i=e[l];var u=n+qo(i,l);o+=wi(i,t,r,u,s)}else if(u=S0(e),typeof u=="function")for(e=u.call(e),l=0;!(i=e.next()).done;)i=i.value,u=n+qo(i,l++),o+=wi(i,t,r,u,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Hs(e,t,r){if(e==null)return e;var n=[],s=0;return wi(e,n,"","",function(i){return t.call(r,i,s++)}),n}function C0(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ue={current:null},xi={transition:null},P0={ReactCurrentDispatcher:Ue,ReactCurrentBatchConfig:xi,ReactCurrentOwner:Ml};function oh(){throw Error("act(...) is not supported in production builds of React.")}W.Children={map:Hs,forEach:function(e,t,r){Hs(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Hs(e,function(){t++}),t},toArray:function(e){return Hs(e,function(t){return t})||[]},only:function(e){if(!Dl(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};W.Component=En;W.Fragment=g0;W.Profiler=y0;W.PureComponent=Ll;W.StrictMode=v0;W.Suspense=b0;W.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P0;W.act=oh;W.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=eh({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Ml.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)nh.call(t,u)&&!sh.hasOwnProperty(u)&&(n[u]=t[u]===void 0&&l!==void 0?l[u]:t[u])}var u=arguments.length-2;if(u===1)n.children=r;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];n.children=l}return{$$typeof:Ts,type:e.type,key:s,ref:i,props:n,_owner:o}};W.createContext=function(e){return e={$$typeof:x0,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:w0,_context:e},e.Consumer=e};W.createElement=ih;W.createFactory=function(e){var t=ih.bind(null,e);return t.type=e,t};W.createRef=function(){return{current:null}};W.forwardRef=function(e){return{$$typeof:_0,render:e}};W.isValidElement=Dl;W.lazy=function(e){return{$$typeof:j0,_payload:{_status:-1,_result:e},_init:C0}};W.memo=function(e,t){return{$$typeof:k0,type:e,compare:t===void 0?null:t}};W.startTransition=function(e){var t=xi.transition;xi.transition={};try{e()}finally{xi.transition=t}};W.unstable_act=oh;W.useCallback=function(e,t){return Ue.current.useCallback(e,t)};W.useContext=function(e){return Ue.current.useContext(e)};W.useDebugValue=function(){};W.useDeferredValue=function(e){return Ue.current.useDeferredValue(e)};W.useEffect=function(e,t){return Ue.current.useEffect(e,t)};W.useId=function(){return Ue.current.useId()};W.useImperativeHandle=function(e,t,r){return Ue.current.useImperativeHandle(e,t,r)};W.useInsertionEffect=function(e,t){return Ue.current.useInsertionEffect(e,t)};W.useLayoutEffect=function(e,t){return Ue.current.useLayoutEffect(e,t)};W.useMemo=function(e,t){return Ue.current.useMemo(e,t)};W.useReducer=function(e,t,r){return Ue.current.useReducer(e,t,r)};W.useRef=function(e){return Ue.current.useRef(e)};W.useState=function(e){return Ue.current.useState(e)};W.useSyncExternalStore=function(e,t,r){return Ue.current.useSyncExternalStore(e,t,r)};W.useTransition=function(){return Ue.current.useTransition()};W.version="18.3.1";Xd.exports=W;var T=Xd.exports;const T0=Qd(T);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O0=T,R0=Symbol.for("react.element"),A0=Symbol.for("react.fragment"),I0=Object.prototype.hasOwnProperty,$0=O0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,L0={key:!0,ref:!0,__self:!0,__source:!0};function ah(e,t,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)I0.call(t,n)&&!L0.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:R0,type:e,key:i,ref:o,props:s,_owner:$0.current}}wo.Fragment=A0;wo.jsx=ah;wo.jsxs=ah;Yd.exports=wo;var a=Yd.exports,ba={},lh={exports:{}},Ze={},uh={exports:{}},ch={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,F){var q=R.length;R.push(F);e:for(;0<q;){var te=q-1>>>1,he=R[te];if(0<s(he,F))R[te]=F,R[q]=he,q=te;else break e}}function r(R){return R.length===0?null:R[0]}function n(R){if(R.length===0)return null;var F=R[0],q=R.pop();if(q!==F){R[0]=q;e:for(var te=0,he=R.length,Vt=he>>>1;te<Vt;){var Nt=2*(te+1)-1,pr=R[Nt],Ct=Nt+1,mr=R[Ct];if(0>s(pr,q))Ct<he&&0>s(mr,pr)?(R[te]=mr,R[Ct]=q,te=Ct):(R[te]=pr,R[Nt]=q,te=Nt);else if(Ct<he&&0>s(mr,q))R[te]=mr,R[Ct]=q,te=Ct;else break e}}return F}function s(R,F){var q=R.sortIndex-F.sortIndex;return q!==0?q:R.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var u=[],c=[],d=1,p=null,h=3,m=!1,y=!1,w=!1,_=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(R){for(var F=r(c);F!==null;){if(F.callback===null)n(c);else if(F.startTime<=R)n(c),F.sortIndex=F.expirationTime,t(u,F);else break;F=r(c)}}function x(R){if(w=!1,v(R),!y)if(r(u)!==null)y=!0,X(E);else{var F=r(c);F!==null&&ve(x,F.startTime-R)}}function E(R,F){y=!1,w&&(w=!1,g(O),O=-1),m=!0;var q=h;try{for(v(F),p=r(u);p!==null&&(!(p.expirationTime>F)||R&&!G());){var te=p.callback;if(typeof te=="function"){p.callback=null,h=p.priorityLevel;var he=te(p.expirationTime<=F);F=e.unstable_now(),typeof he=="function"?p.callback=he:p===r(u)&&n(u),v(F)}else n(u);p=r(u)}if(p!==null)var Vt=!0;else{var Nt=r(c);Nt!==null&&ve(x,Nt.startTime-F),Vt=!1}return Vt}finally{p=null,h=q,m=!1}}var S=!1,P=null,O=-1,M=5,$=-1;function G(){return!(e.unstable_now()-$<M)}function H(){if(P!==null){var R=e.unstable_now();$=R;var F=!0;try{F=P(!0,R)}finally{F?Y():(S=!1,P=null)}}else S=!1}var Y;if(typeof f=="function")Y=function(){f(H)};else if(typeof MessageChannel<"u"){var be=new MessageChannel,Ie=be.port2;be.port1.onmessage=H,Y=function(){Ie.postMessage(null)}}else Y=function(){_(H,0)};function X(R){P=R,S||(S=!0,Y())}function ve(R,F){O=_(function(){R(e.unstable_now())},F)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){y||m||(y=!0,X(E))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(u)},e.unstable_next=function(R){switch(h){case 1:case 2:case 3:var F=3;break;default:F=h}var q=h;h=F;try{return R()}finally{h=q}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,F){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var q=h;h=R;try{return F()}finally{h=q}},e.unstable_scheduleCallback=function(R,F,q){var te=e.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?te+q:te):q=te,R){case 1:var he=-1;break;case 2:he=250;break;case 5:he=1073741823;break;case 4:he=1e4;break;default:he=5e3}return he=q+he,R={id:d++,callback:F,priorityLevel:R,startTime:q,expirationTime:he,sortIndex:-1},q>te?(R.sortIndex=q,t(c,R),r(u)===null&&R===r(c)&&(w?(g(O),O=-1):w=!0,ve(x,q-te))):(R.sortIndex=he,t(u,R),y||m||(y=!0,X(E))),R},e.unstable_shouldYield=G,e.unstable_wrapCallback=function(R){var F=h;return function(){var q=h;h=F;try{return R.apply(this,arguments)}finally{h=q}}}})(ch);uh.exports=ch;var U0=uh.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M0=T,Xe=U0;function C(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var dh=new Set,as={};function Dr(e,t){vn(e,t),vn(e+"Capture",t)}function vn(e,t){for(as[e]=t,e=0;e<t.length;e++)dh.add(t[e])}var Ut=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ka=Object.prototype.hasOwnProperty,D0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,fc={},pc={};function z0(e){return ka.call(pc,e)?!0:ka.call(fc,e)?!1:D0.test(e)?pc[e]=!0:(fc[e]=!0,!1)}function B0(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function F0(e,t,r,n){if(t===null||typeof t>"u"||B0(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Me(e,t,r,n,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Ce={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ce[e]=new Me(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ce[t]=new Me(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ce[e]=new Me(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ce[e]=new Me(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ce[e]=new Me(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ce[e]=new Me(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ce[e]=new Me(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ce[e]=new Me(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ce[e]=new Me(e,5,!1,e.toLowerCase(),null,!1,!1)});var zl=/[\-:]([a-z])/g;function Bl(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(zl,Bl);Ce[t]=new Me(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(zl,Bl);Ce[t]=new Me(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(zl,Bl);Ce[t]=new Me(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ce[e]=new Me(e,1,!1,e.toLowerCase(),null,!1,!1)});Ce.xlinkHref=new Me("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ce[e]=new Me(e,1,!1,e.toLowerCase(),null,!0,!0)});function Fl(e,t,r,n){var s=Ce.hasOwnProperty(t)?Ce[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(F0(t,r,s,n)&&(r=null),n||s===null?z0(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Bt=M0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ws=Symbol.for("react.element"),Qr=Symbol.for("react.portal"),Yr=Symbol.for("react.fragment"),Vl=Symbol.for("react.strict_mode"),ja=Symbol.for("react.profiler"),hh=Symbol.for("react.provider"),fh=Symbol.for("react.context"),ql=Symbol.for("react.forward_ref"),Sa=Symbol.for("react.suspense"),Ea=Symbol.for("react.suspense_list"),Hl=Symbol.for("react.memo"),Wt=Symbol.for("react.lazy"),ph=Symbol.for("react.offscreen"),mc=Symbol.iterator;function Ln(e){return e===null||typeof e!="object"?null:(e=mc&&e[mc]||e["@@iterator"],typeof e=="function"?e:null)}var ue=Object.assign,Ho;function qn(e){if(Ho===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Ho=t&&t[1]||""}return`
`+Ho+e}var Wo=!1;function Ko(e,t){if(!e||Wo)return"";Wo=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var u=`
`+s[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=o&&0<=l);break}}}finally{Wo=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?qn(e):""}function V0(e){switch(e.tag){case 5:return qn(e.type);case 16:return qn("Lazy");case 13:return qn("Suspense");case 19:return qn("SuspenseList");case 0:case 2:case 15:return e=Ko(e.type,!1),e;case 11:return e=Ko(e.type.render,!1),e;case 1:return e=Ko(e.type,!0),e;default:return""}}function Na(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Yr:return"Fragment";case Qr:return"Portal";case ja:return"Profiler";case Vl:return"StrictMode";case Sa:return"Suspense";case Ea:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case fh:return(e.displayName||"Context")+".Consumer";case hh:return(e._context.displayName||"Context")+".Provider";case ql:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Hl:return t=e.displayName||null,t!==null?t:Na(e.type)||"Memo";case Wt:t=e._payload,e=e._init;try{return Na(e(t))}catch{}}return null}function q0(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Na(t);case 8:return t===Vl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function lr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function mh(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function H0(e){var t=mh(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ks(e){e._valueTracker||(e._valueTracker=H0(e))}function gh(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=mh(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Li(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ca(e,t){var r=t.checked;return ue({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function gc(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=lr(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function vh(e,t){t=t.checked,t!=null&&Fl(e,"checked",t,!1)}function Pa(e,t){vh(e,t);var r=lr(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ta(e,t.type,r):t.hasOwnProperty("defaultValue")&&Ta(e,t.type,lr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function vc(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Ta(e,t,r){(t!=="number"||Li(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Hn=Array.isArray;function un(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+lr(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Oa(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(C(91));return ue({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function yc(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(C(92));if(Hn(r)){if(1<r.length)throw Error(C(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:lr(r)}}function yh(e,t){var r=lr(t.value),n=lr(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function wc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function wh(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ra(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?wh(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Gs,xh=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Gs=Gs||document.createElement("div"),Gs.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Gs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ls(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Qn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},W0=["Webkit","ms","Moz","O"];Object.keys(Qn).forEach(function(e){W0.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Qn[t]=Qn[e]})});function _h(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Qn.hasOwnProperty(e)&&Qn[e]?(""+t).trim():t+"px"}function bh(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=_h(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var K0=ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Aa(e,t){if(t){if(K0[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(C(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(C(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(C(61))}if(t.style!=null&&typeof t.style!="object")throw Error(C(62))}}function Ia(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $a=null;function Wl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var La=null,cn=null,dn=null;function xc(e){if(e=As(e)){if(typeof La!="function")throw Error(C(280));var t=e.stateNode;t&&(t=jo(t),La(e.stateNode,e.type,t))}}function kh(e){cn?dn?dn.push(e):dn=[e]:cn=e}function jh(){if(cn){var e=cn,t=dn;if(dn=cn=null,xc(e),t)for(e=0;e<t.length;e++)xc(t[e])}}function Sh(e,t){return e(t)}function Eh(){}var Go=!1;function Nh(e,t,r){if(Go)return e(t,r);Go=!0;try{return Sh(e,t,r)}finally{Go=!1,(cn!==null||dn!==null)&&(Eh(),jh())}}function us(e,t){var r=e.stateNode;if(r===null)return null;var n=jo(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(C(231,t,typeof r));return r}var Ua=!1;if(Ut)try{var Un={};Object.defineProperty(Un,"passive",{get:function(){Ua=!0}}),window.addEventListener("test",Un,Un),window.removeEventListener("test",Un,Un)}catch{Ua=!1}function G0(e,t,r,n,s,i,o,l,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(d){this.onError(d)}}var Yn=!1,Ui=null,Mi=!1,Ma=null,J0={onError:function(e){Yn=!0,Ui=e}};function Q0(e,t,r,n,s,i,o,l,u){Yn=!1,Ui=null,G0.apply(J0,arguments)}function Y0(e,t,r,n,s,i,o,l,u){if(Q0.apply(this,arguments),Yn){if(Yn){var c=Ui;Yn=!1,Ui=null}else throw Error(C(198));Mi||(Mi=!0,Ma=c)}}function zr(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Ch(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function _c(e){if(zr(e)!==e)throw Error(C(188))}function X0(e){var t=e.alternate;if(!t){if(t=zr(e),t===null)throw Error(C(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return _c(s),e;if(i===n)return _c(s),t;i=i.sibling}throw Error(C(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=i;break}if(l===n){o=!0,n=s,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=s;break}if(l===n){o=!0,n=i,r=s;break}l=l.sibling}if(!o)throw Error(C(189))}}if(r.alternate!==n)throw Error(C(190))}if(r.tag!==3)throw Error(C(188));return r.stateNode.current===r?e:t}function Ph(e){return e=X0(e),e!==null?Th(e):null}function Th(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Th(e);if(t!==null)return t;e=e.sibling}return null}var Oh=Xe.unstable_scheduleCallback,bc=Xe.unstable_cancelCallback,Z0=Xe.unstable_shouldYield,eg=Xe.unstable_requestPaint,de=Xe.unstable_now,tg=Xe.unstable_getCurrentPriorityLevel,Kl=Xe.unstable_ImmediatePriority,Rh=Xe.unstable_UserBlockingPriority,Di=Xe.unstable_NormalPriority,rg=Xe.unstable_LowPriority,Ah=Xe.unstable_IdlePriority,xo=null,St=null;function ng(e){if(St&&typeof St.onCommitFiberRoot=="function")try{St.onCommitFiberRoot(xo,e,void 0,(e.current.flags&128)===128)}catch{}}var mt=Math.clz32?Math.clz32:og,sg=Math.log,ig=Math.LN2;function og(e){return e>>>=0,e===0?32:31-(sg(e)/ig|0)|0}var Js=64,Qs=4194304;function Wn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function zi(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=Wn(l):(i&=o,i!==0&&(n=Wn(i)))}else o=r&~s,o!==0?n=Wn(o):i!==0&&(n=Wn(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-mt(t),s=1<<r,n|=e[r],t&=~s;return n}function ag(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lg(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-mt(i),l=1<<o,u=s[o];u===-1?(!(l&r)||l&n)&&(s[o]=ag(l,t)):u<=t&&(e.expiredLanes|=l),i&=~l}}function Da(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Ih(){var e=Js;return Js<<=1,!(Js&4194240)&&(Js=64),e}function Jo(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Os(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-mt(t),e[t]=r}function ug(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-mt(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function Gl(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-mt(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var J=0;function $h(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Lh,Jl,Uh,Mh,Dh,za=!1,Ys=[],er=null,tr=null,rr=null,cs=new Map,ds=new Map,Gt=[],cg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function kc(e,t){switch(e){case"focusin":case"focusout":er=null;break;case"dragenter":case"dragleave":tr=null;break;case"mouseover":case"mouseout":rr=null;break;case"pointerover":case"pointerout":cs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ds.delete(t.pointerId)}}function Mn(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=As(t),t!==null&&Jl(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function dg(e,t,r,n,s){switch(t){case"focusin":return er=Mn(er,e,t,r,n,s),!0;case"dragenter":return tr=Mn(tr,e,t,r,n,s),!0;case"mouseover":return rr=Mn(rr,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return cs.set(i,Mn(cs.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,ds.set(i,Mn(ds.get(i)||null,e,t,r,n,s)),!0}return!1}function zh(e){var t=Er(e.target);if(t!==null){var r=zr(t);if(r!==null){if(t=r.tag,t===13){if(t=Ch(r),t!==null){e.blockedOn=t,Dh(e.priority,function(){Uh(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function _i(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Ba(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);$a=n,r.target.dispatchEvent(n),$a=null}else return t=As(r),t!==null&&Jl(t),e.blockedOn=r,!1;t.shift()}return!0}function jc(e,t,r){_i(e)&&r.delete(t)}function hg(){za=!1,er!==null&&_i(er)&&(er=null),tr!==null&&_i(tr)&&(tr=null),rr!==null&&_i(rr)&&(rr=null),cs.forEach(jc),ds.forEach(jc)}function Dn(e,t){e.blockedOn===t&&(e.blockedOn=null,za||(za=!0,Xe.unstable_scheduleCallback(Xe.unstable_NormalPriority,hg)))}function hs(e){function t(s){return Dn(s,e)}if(0<Ys.length){Dn(Ys[0],e);for(var r=1;r<Ys.length;r++){var n=Ys[r];n.blockedOn===e&&(n.blockedOn=null)}}for(er!==null&&Dn(er,e),tr!==null&&Dn(tr,e),rr!==null&&Dn(rr,e),cs.forEach(t),ds.forEach(t),r=0;r<Gt.length;r++)n=Gt[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Gt.length&&(r=Gt[0],r.blockedOn===null);)zh(r),r.blockedOn===null&&Gt.shift()}var hn=Bt.ReactCurrentBatchConfig,Bi=!0;function fg(e,t,r,n){var s=J,i=hn.transition;hn.transition=null;try{J=1,Ql(e,t,r,n)}finally{J=s,hn.transition=i}}function pg(e,t,r,n){var s=J,i=hn.transition;hn.transition=null;try{J=4,Ql(e,t,r,n)}finally{J=s,hn.transition=i}}function Ql(e,t,r,n){if(Bi){var s=Ba(e,t,r,n);if(s===null)ia(e,t,n,Fi,r),kc(e,n);else if(dg(s,e,t,r,n))n.stopPropagation();else if(kc(e,n),t&4&&-1<cg.indexOf(e)){for(;s!==null;){var i=As(s);if(i!==null&&Lh(i),i=Ba(e,t,r,n),i===null&&ia(e,t,n,Fi,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else ia(e,t,n,null,r)}}var Fi=null;function Ba(e,t,r,n){if(Fi=null,e=Wl(n),e=Er(e),e!==null)if(t=zr(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Ch(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Fi=e,null}function Bh(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(tg()){case Kl:return 1;case Rh:return 4;case Di:case rg:return 16;case Ah:return 536870912;default:return 16}default:return 16}}var Xt=null,Yl=null,bi=null;function Fh(){if(bi)return bi;var e,t=Yl,r=t.length,n,s="value"in Xt?Xt.value:Xt.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[i-n];n++);return bi=s.slice(e,1<n?1-n:void 0)}function ki(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Xs(){return!0}function Sc(){return!1}function et(e){function t(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Xs:Sc,this.isPropagationStopped=Sc,this}return ue(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Xs)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Xs)},persist:function(){},isPersistent:Xs}),t}var Nn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xl=et(Nn),Rs=ue({},Nn,{view:0,detail:0}),mg=et(Rs),Qo,Yo,zn,_o=ue({},Rs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==zn&&(zn&&e.type==="mousemove"?(Qo=e.screenX-zn.screenX,Yo=e.screenY-zn.screenY):Yo=Qo=0,zn=e),Qo)},movementY:function(e){return"movementY"in e?e.movementY:Yo}}),Ec=et(_o),gg=ue({},_o,{dataTransfer:0}),vg=et(gg),yg=ue({},Rs,{relatedTarget:0}),Xo=et(yg),wg=ue({},Nn,{animationName:0,elapsedTime:0,pseudoElement:0}),xg=et(wg),_g=ue({},Nn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bg=et(_g),kg=ue({},Nn,{data:0}),Nc=et(kg),jg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Eg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ng(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Eg[e])?!!t[e]:!1}function Zl(){return Ng}var Cg=ue({},Rs,{key:function(e){if(e.key){var t=jg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ki(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Sg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zl,charCode:function(e){return e.type==="keypress"?ki(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ki(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Pg=et(Cg),Tg=ue({},_o,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Cc=et(Tg),Og=ue({},Rs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zl}),Rg=et(Og),Ag=ue({},Nn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ig=et(Ag),$g=ue({},_o,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Lg=et($g),Ug=[9,13,27,32],eu=Ut&&"CompositionEvent"in window,Xn=null;Ut&&"documentMode"in document&&(Xn=document.documentMode);var Mg=Ut&&"TextEvent"in window&&!Xn,Vh=Ut&&(!eu||Xn&&8<Xn&&11>=Xn),Pc=" ",Tc=!1;function qh(e,t){switch(e){case"keyup":return Ug.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Xr=!1;function Dg(e,t){switch(e){case"compositionend":return Hh(t);case"keypress":return t.which!==32?null:(Tc=!0,Pc);case"textInput":return e=t.data,e===Pc&&Tc?null:e;default:return null}}function zg(e,t){if(Xr)return e==="compositionend"||!eu&&qh(e,t)?(e=Fh(),bi=Yl=Xt=null,Xr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Vh&&t.locale!=="ko"?null:t.data;default:return null}}var Bg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Oc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Bg[e.type]:t==="textarea"}function Wh(e,t,r,n){kh(n),t=Vi(t,"onChange"),0<t.length&&(r=new Xl("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Zn=null,fs=null;function Fg(e){nf(e,0)}function bo(e){var t=tn(e);if(gh(t))return e}function Vg(e,t){if(e==="change")return t}var Kh=!1;if(Ut){var Zo;if(Ut){var ea="oninput"in document;if(!ea){var Rc=document.createElement("div");Rc.setAttribute("oninput","return;"),ea=typeof Rc.oninput=="function"}Zo=ea}else Zo=!1;Kh=Zo&&(!document.documentMode||9<document.documentMode)}function Ac(){Zn&&(Zn.detachEvent("onpropertychange",Gh),fs=Zn=null)}function Gh(e){if(e.propertyName==="value"&&bo(fs)){var t=[];Wh(t,fs,e,Wl(e)),Nh(Fg,t)}}function qg(e,t,r){e==="focusin"?(Ac(),Zn=t,fs=r,Zn.attachEvent("onpropertychange",Gh)):e==="focusout"&&Ac()}function Hg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return bo(fs)}function Wg(e,t){if(e==="click")return bo(t)}function Kg(e,t){if(e==="input"||e==="change")return bo(t)}function Gg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var vt=typeof Object.is=="function"?Object.is:Gg;function ps(e,t){if(vt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!ka.call(t,s)||!vt(e[s],t[s]))return!1}return!0}function Ic(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function $c(e,t){var r=Ic(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Ic(r)}}function Jh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Jh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Qh(){for(var e=window,t=Li();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Li(e.document)}return t}function tu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Jg(e){var t=Qh(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Jh(r.ownerDocument.documentElement,r)){if(n!==null&&tu(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=$c(r,i);var o=$c(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Qg=Ut&&"documentMode"in document&&11>=document.documentMode,Zr=null,Fa=null,es=null,Va=!1;function Lc(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Va||Zr==null||Zr!==Li(n)||(n=Zr,"selectionStart"in n&&tu(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),es&&ps(es,n)||(es=n,n=Vi(Fa,"onSelect"),0<n.length&&(t=new Xl("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Zr)))}function Zs(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var en={animationend:Zs("Animation","AnimationEnd"),animationiteration:Zs("Animation","AnimationIteration"),animationstart:Zs("Animation","AnimationStart"),transitionend:Zs("Transition","TransitionEnd")},ta={},Yh={};Ut&&(Yh=document.createElement("div").style,"AnimationEvent"in window||(delete en.animationend.animation,delete en.animationiteration.animation,delete en.animationstart.animation),"TransitionEvent"in window||delete en.transitionend.transition);function ko(e){if(ta[e])return ta[e];if(!en[e])return e;var t=en[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Yh)return ta[e]=t[r];return e}var Xh=ko("animationend"),Zh=ko("animationiteration"),ef=ko("animationstart"),tf=ko("transitionend"),rf=new Map,Uc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function cr(e,t){rf.set(e,t),Dr(t,[e])}for(var ra=0;ra<Uc.length;ra++){var na=Uc[ra],Yg=na.toLowerCase(),Xg=na[0].toUpperCase()+na.slice(1);cr(Yg,"on"+Xg)}cr(Xh,"onAnimationEnd");cr(Zh,"onAnimationIteration");cr(ef,"onAnimationStart");cr("dblclick","onDoubleClick");cr("focusin","onFocus");cr("focusout","onBlur");cr(tf,"onTransitionEnd");vn("onMouseEnter",["mouseout","mouseover"]);vn("onMouseLeave",["mouseout","mouseover"]);vn("onPointerEnter",["pointerout","pointerover"]);vn("onPointerLeave",["pointerout","pointerover"]);Dr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Dr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Dr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Dr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Dr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Dr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Zg=new Set("cancel close invalid load scroll toggle".split(" ").concat(Kn));function Mc(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Y0(n,t,void 0,e),e.currentTarget=null}function nf(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],u=l.instance,c=l.currentTarget;if(l=l.listener,u!==i&&s.isPropagationStopped())break e;Mc(s,l,c),i=u}else for(o=0;o<n.length;o++){if(l=n[o],u=l.instance,c=l.currentTarget,l=l.listener,u!==i&&s.isPropagationStopped())break e;Mc(s,l,c),i=u}}}if(Mi)throw e=Ma,Mi=!1,Ma=null,e}function re(e,t){var r=t[Ga];r===void 0&&(r=t[Ga]=new Set);var n=e+"__bubble";r.has(n)||(sf(t,e,2,!1),r.add(n))}function sa(e,t,r){var n=0;t&&(n|=4),sf(r,e,n,t)}var ei="_reactListening"+Math.random().toString(36).slice(2);function ms(e){if(!e[ei]){e[ei]=!0,dh.forEach(function(r){r!=="selectionchange"&&(Zg.has(r)||sa(r,!1,e),sa(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ei]||(t[ei]=!0,sa("selectionchange",!1,t))}}function sf(e,t,r,n){switch(Bh(t)){case 1:var s=fg;break;case 4:s=pg;break;default:s=Ql}r=s.bind(null,t,r,e),s=void 0,!Ua||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function ia(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Er(l),o===null)return;if(u=o.tag,u===5||u===6){n=i=o;continue e}l=l.parentNode}}n=n.return}Nh(function(){var c=i,d=Wl(r),p=[];e:{var h=rf.get(e);if(h!==void 0){var m=Xl,y=e;switch(e){case"keypress":if(ki(r)===0)break e;case"keydown":case"keyup":m=Pg;break;case"focusin":y="focus",m=Xo;break;case"focusout":y="blur",m=Xo;break;case"beforeblur":case"afterblur":m=Xo;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Ec;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=vg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Rg;break;case Xh:case Zh:case ef:m=xg;break;case tf:m=Ig;break;case"scroll":m=mg;break;case"wheel":m=Lg;break;case"copy":case"cut":case"paste":m=bg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Cc}var w=(t&4)!==0,_=!w&&e==="scroll",g=w?h!==null?h+"Capture":null:h;w=[];for(var f=c,v;f!==null;){v=f;var x=v.stateNode;if(v.tag===5&&x!==null&&(v=x,g!==null&&(x=us(f,g),x!=null&&w.push(gs(f,x,v)))),_)break;f=f.return}0<w.length&&(h=new m(h,y,null,r,d),p.push({event:h,listeners:w}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==$a&&(y=r.relatedTarget||r.fromElement)&&(Er(y)||y[Mt]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(y=r.relatedTarget||r.toElement,m=c,y=y?Er(y):null,y!==null&&(_=zr(y),y!==_||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=c),m!==y)){if(w=Ec,x="onMouseLeave",g="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(w=Cc,x="onPointerLeave",g="onPointerEnter",f="pointer"),_=m==null?h:tn(m),v=y==null?h:tn(y),h=new w(x,f+"leave",m,r,d),h.target=_,h.relatedTarget=v,x=null,Er(d)===c&&(w=new w(g,f+"enter",y,r,d),w.target=v,w.relatedTarget=_,x=w),_=x,m&&y)t:{for(w=m,g=y,f=0,v=w;v;v=Vr(v))f++;for(v=0,x=g;x;x=Vr(x))v++;for(;0<f-v;)w=Vr(w),f--;for(;0<v-f;)g=Vr(g),v--;for(;f--;){if(w===g||g!==null&&w===g.alternate)break t;w=Vr(w),g=Vr(g)}w=null}else w=null;m!==null&&Dc(p,h,m,w,!1),y!==null&&_!==null&&Dc(p,_,y,w,!0)}}e:{if(h=c?tn(c):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var E=Vg;else if(Oc(h))if(Kh)E=Kg;else{E=Hg;var S=qg}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(E=Wg);if(E&&(E=E(e,c))){Wh(p,E,r,d);break e}S&&S(e,h,c),e==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&Ta(h,"number",h.value)}switch(S=c?tn(c):window,e){case"focusin":(Oc(S)||S.contentEditable==="true")&&(Zr=S,Fa=c,es=null);break;case"focusout":es=Fa=Zr=null;break;case"mousedown":Va=!0;break;case"contextmenu":case"mouseup":case"dragend":Va=!1,Lc(p,r,d);break;case"selectionchange":if(Qg)break;case"keydown":case"keyup":Lc(p,r,d)}var P;if(eu)e:{switch(e){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else Xr?qh(e,r)&&(O="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(O="onCompositionStart");O&&(Vh&&r.locale!=="ko"&&(Xr||O!=="onCompositionStart"?O==="onCompositionEnd"&&Xr&&(P=Fh()):(Xt=d,Yl="value"in Xt?Xt.value:Xt.textContent,Xr=!0)),S=Vi(c,O),0<S.length&&(O=new Nc(O,e,null,r,d),p.push({event:O,listeners:S}),P?O.data=P:(P=Hh(r),P!==null&&(O.data=P)))),(P=Mg?Dg(e,r):zg(e,r))&&(c=Vi(c,"onBeforeInput"),0<c.length&&(d=new Nc("onBeforeInput","beforeinput",null,r,d),p.push({event:d,listeners:c}),d.data=P))}nf(p,t)})}function gs(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Vi(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=us(e,r),i!=null&&n.unshift(gs(e,i,s)),i=us(e,t),i!=null&&n.push(gs(e,i,s))),e=e.return}return n}function Vr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Dc(e,t,r,n,s){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,u=l.alternate,c=l.stateNode;if(u!==null&&u===n)break;l.tag===5&&c!==null&&(l=c,s?(u=us(r,i),u!=null&&o.unshift(gs(r,u,l))):s||(u=us(r,i),u!=null&&o.push(gs(r,u,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var ev=/\r\n?/g,tv=/\u0000|\uFFFD/g;function zc(e){return(typeof e=="string"?e:""+e).replace(ev,`
`).replace(tv,"")}function ti(e,t,r){if(t=zc(t),zc(e)!==t&&r)throw Error(C(425))}function qi(){}var qa=null,Ha=null;function Wa(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ka=typeof setTimeout=="function"?setTimeout:void 0,rv=typeof clearTimeout=="function"?clearTimeout:void 0,Bc=typeof Promise=="function"?Promise:void 0,nv=typeof queueMicrotask=="function"?queueMicrotask:typeof Bc<"u"?function(e){return Bc.resolve(null).then(e).catch(sv)}:Ka;function sv(e){setTimeout(function(){throw e})}function oa(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),hs(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);hs(t)}function nr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Fc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Cn=Math.random().toString(36).slice(2),kt="__reactFiber$"+Cn,vs="__reactProps$"+Cn,Mt="__reactContainer$"+Cn,Ga="__reactEvents$"+Cn,iv="__reactListeners$"+Cn,ov="__reactHandles$"+Cn;function Er(e){var t=e[kt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Mt]||r[kt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Fc(e);e!==null;){if(r=e[kt])return r;e=Fc(e)}return t}e=r,r=e.parentNode}return null}function As(e){return e=e[kt]||e[Mt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function tn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(C(33))}function jo(e){return e[vs]||null}var Ja=[],rn=-1;function dr(e){return{current:e}}function ne(e){0>rn||(e.current=Ja[rn],Ja[rn]=null,rn--)}function ee(e,t){rn++,Ja[rn]=e.current,e.current=t}var ur={},Ae=dr(ur),Ve=dr(!1),Ir=ur;function yn(e,t){var r=e.type.contextTypes;if(!r)return ur;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function qe(e){return e=e.childContextTypes,e!=null}function Hi(){ne(Ve),ne(Ae)}function Vc(e,t,r){if(Ae.current!==ur)throw Error(C(168));ee(Ae,t),ee(Ve,r)}function of(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(C(108,q0(e)||"Unknown",s));return ue({},r,n)}function Wi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ur,Ir=Ae.current,ee(Ae,e),ee(Ve,Ve.current),!0}function qc(e,t,r){var n=e.stateNode;if(!n)throw Error(C(169));r?(e=of(e,t,Ir),n.__reactInternalMemoizedMergedChildContext=e,ne(Ve),ne(Ae),ee(Ae,e)):ne(Ve),ee(Ve,r)}var Rt=null,So=!1,aa=!1;function af(e){Rt===null?Rt=[e]:Rt.push(e)}function av(e){So=!0,af(e)}function hr(){if(!aa&&Rt!==null){aa=!0;var e=0,t=J;try{var r=Rt;for(J=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Rt=null,So=!1}catch(s){throw Rt!==null&&(Rt=Rt.slice(e+1)),Oh(Kl,hr),s}finally{J=t,aa=!1}}return null}var nn=[],sn=0,Ki=null,Gi=0,rt=[],nt=0,$r=null,At=1,It="";function wr(e,t){nn[sn++]=Gi,nn[sn++]=Ki,Ki=e,Gi=t}function lf(e,t,r){rt[nt++]=At,rt[nt++]=It,rt[nt++]=$r,$r=e;var n=At;e=It;var s=32-mt(n)-1;n&=~(1<<s),r+=1;var i=32-mt(t)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,At=1<<32-mt(t)+s|r<<s|n,It=i+e}else At=1<<i|r<<s|n,It=e}function ru(e){e.return!==null&&(wr(e,1),lf(e,1,0))}function nu(e){for(;e===Ki;)Ki=nn[--sn],nn[sn]=null,Gi=nn[--sn],nn[sn]=null;for(;e===$r;)$r=rt[--nt],rt[nt]=null,It=rt[--nt],rt[nt]=null,At=rt[--nt],rt[nt]=null}var Ye=null,Qe=null,ie=!1,pt=null;function uf(e,t){var r=st(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Hc(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ye=e,Qe=nr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ye=e,Qe=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=$r!==null?{id:At,overflow:It}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=st(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Ye=e,Qe=null,!0):!1;default:return!1}}function Qa(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ya(e){if(ie){var t=Qe;if(t){var r=t;if(!Hc(e,t)){if(Qa(e))throw Error(C(418));t=nr(r.nextSibling);var n=Ye;t&&Hc(e,t)?uf(n,r):(e.flags=e.flags&-4097|2,ie=!1,Ye=e)}}else{if(Qa(e))throw Error(C(418));e.flags=e.flags&-4097|2,ie=!1,Ye=e}}}function Wc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ye=e}function ri(e){if(e!==Ye)return!1;if(!ie)return Wc(e),ie=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Wa(e.type,e.memoizedProps)),t&&(t=Qe)){if(Qa(e))throw cf(),Error(C(418));for(;t;)uf(e,t),t=nr(t.nextSibling)}if(Wc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(C(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Qe=nr(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Qe=null}}else Qe=Ye?nr(e.stateNode.nextSibling):null;return!0}function cf(){for(var e=Qe;e;)e=nr(e.nextSibling)}function wn(){Qe=Ye=null,ie=!1}function su(e){pt===null?pt=[e]:pt.push(e)}var lv=Bt.ReactCurrentBatchConfig;function Bn(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(C(309));var n=r.stateNode}if(!n)throw Error(C(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(C(284));if(!r._owner)throw Error(C(290,e))}return e}function ni(e,t){throw e=Object.prototype.toString.call(t),Error(C(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Kc(e){var t=e._init;return t(e._payload)}function df(e){function t(g,f){if(e){var v=g.deletions;v===null?(g.deletions=[f],g.flags|=16):v.push(f)}}function r(g,f){if(!e)return null;for(;f!==null;)t(g,f),f=f.sibling;return null}function n(g,f){for(g=new Map;f!==null;)f.key!==null?g.set(f.key,f):g.set(f.index,f),f=f.sibling;return g}function s(g,f){return g=ar(g,f),g.index=0,g.sibling=null,g}function i(g,f,v){return g.index=v,e?(v=g.alternate,v!==null?(v=v.index,v<f?(g.flags|=2,f):v):(g.flags|=2,f)):(g.flags|=1048576,f)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function l(g,f,v,x){return f===null||f.tag!==6?(f=pa(v,g.mode,x),f.return=g,f):(f=s(f,v),f.return=g,f)}function u(g,f,v,x){var E=v.type;return E===Yr?d(g,f,v.props.children,x,v.key):f!==null&&(f.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Wt&&Kc(E)===f.type)?(x=s(f,v.props),x.ref=Bn(g,f,v),x.return=g,x):(x=Ti(v.type,v.key,v.props,null,g.mode,x),x.ref=Bn(g,f,v),x.return=g,x)}function c(g,f,v,x){return f===null||f.tag!==4||f.stateNode.containerInfo!==v.containerInfo||f.stateNode.implementation!==v.implementation?(f=ma(v,g.mode,x),f.return=g,f):(f=s(f,v.children||[]),f.return=g,f)}function d(g,f,v,x,E){return f===null||f.tag!==7?(f=Or(v,g.mode,x,E),f.return=g,f):(f=s(f,v),f.return=g,f)}function p(g,f,v){if(typeof f=="string"&&f!==""||typeof f=="number")return f=pa(""+f,g.mode,v),f.return=g,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Ws:return v=Ti(f.type,f.key,f.props,null,g.mode,v),v.ref=Bn(g,null,f),v.return=g,v;case Qr:return f=ma(f,g.mode,v),f.return=g,f;case Wt:var x=f._init;return p(g,x(f._payload),v)}if(Hn(f)||Ln(f))return f=Or(f,g.mode,v,null),f.return=g,f;ni(g,f)}return null}function h(g,f,v,x){var E=f!==null?f.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return E!==null?null:l(g,f,""+v,x);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Ws:return v.key===E?u(g,f,v,x):null;case Qr:return v.key===E?c(g,f,v,x):null;case Wt:return E=v._init,h(g,f,E(v._payload),x)}if(Hn(v)||Ln(v))return E!==null?null:d(g,f,v,x,null);ni(g,v)}return null}function m(g,f,v,x,E){if(typeof x=="string"&&x!==""||typeof x=="number")return g=g.get(v)||null,l(f,g,""+x,E);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Ws:return g=g.get(x.key===null?v:x.key)||null,u(f,g,x,E);case Qr:return g=g.get(x.key===null?v:x.key)||null,c(f,g,x,E);case Wt:var S=x._init;return m(g,f,v,S(x._payload),E)}if(Hn(x)||Ln(x))return g=g.get(v)||null,d(f,g,x,E,null);ni(f,x)}return null}function y(g,f,v,x){for(var E=null,S=null,P=f,O=f=0,M=null;P!==null&&O<v.length;O++){P.index>O?(M=P,P=null):M=P.sibling;var $=h(g,P,v[O],x);if($===null){P===null&&(P=M);break}e&&P&&$.alternate===null&&t(g,P),f=i($,f,O),S===null?E=$:S.sibling=$,S=$,P=M}if(O===v.length)return r(g,P),ie&&wr(g,O),E;if(P===null){for(;O<v.length;O++)P=p(g,v[O],x),P!==null&&(f=i(P,f,O),S===null?E=P:S.sibling=P,S=P);return ie&&wr(g,O),E}for(P=n(g,P);O<v.length;O++)M=m(P,g,O,v[O],x),M!==null&&(e&&M.alternate!==null&&P.delete(M.key===null?O:M.key),f=i(M,f,O),S===null?E=M:S.sibling=M,S=M);return e&&P.forEach(function(G){return t(g,G)}),ie&&wr(g,O),E}function w(g,f,v,x){var E=Ln(v);if(typeof E!="function")throw Error(C(150));if(v=E.call(v),v==null)throw Error(C(151));for(var S=E=null,P=f,O=f=0,M=null,$=v.next();P!==null&&!$.done;O++,$=v.next()){P.index>O?(M=P,P=null):M=P.sibling;var G=h(g,P,$.value,x);if(G===null){P===null&&(P=M);break}e&&P&&G.alternate===null&&t(g,P),f=i(G,f,O),S===null?E=G:S.sibling=G,S=G,P=M}if($.done)return r(g,P),ie&&wr(g,O),E;if(P===null){for(;!$.done;O++,$=v.next())$=p(g,$.value,x),$!==null&&(f=i($,f,O),S===null?E=$:S.sibling=$,S=$);return ie&&wr(g,O),E}for(P=n(g,P);!$.done;O++,$=v.next())$=m(P,g,O,$.value,x),$!==null&&(e&&$.alternate!==null&&P.delete($.key===null?O:$.key),f=i($,f,O),S===null?E=$:S.sibling=$,S=$);return e&&P.forEach(function(H){return t(g,H)}),ie&&wr(g,O),E}function _(g,f,v,x){if(typeof v=="object"&&v!==null&&v.type===Yr&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Ws:e:{for(var E=v.key,S=f;S!==null;){if(S.key===E){if(E=v.type,E===Yr){if(S.tag===7){r(g,S.sibling),f=s(S,v.props.children),f.return=g,g=f;break e}}else if(S.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Wt&&Kc(E)===S.type){r(g,S.sibling),f=s(S,v.props),f.ref=Bn(g,S,v),f.return=g,g=f;break e}r(g,S);break}else t(g,S);S=S.sibling}v.type===Yr?(f=Or(v.props.children,g.mode,x,v.key),f.return=g,g=f):(x=Ti(v.type,v.key,v.props,null,g.mode,x),x.ref=Bn(g,f,v),x.return=g,g=x)}return o(g);case Qr:e:{for(S=v.key;f!==null;){if(f.key===S)if(f.tag===4&&f.stateNode.containerInfo===v.containerInfo&&f.stateNode.implementation===v.implementation){r(g,f.sibling),f=s(f,v.children||[]),f.return=g,g=f;break e}else{r(g,f);break}else t(g,f);f=f.sibling}f=ma(v,g.mode,x),f.return=g,g=f}return o(g);case Wt:return S=v._init,_(g,f,S(v._payload),x)}if(Hn(v))return y(g,f,v,x);if(Ln(v))return w(g,f,v,x);ni(g,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,f!==null&&f.tag===6?(r(g,f.sibling),f=s(f,v),f.return=g,g=f):(r(g,f),f=pa(v,g.mode,x),f.return=g,g=f),o(g)):r(g,f)}return _}var xn=df(!0),hf=df(!1),Ji=dr(null),Qi=null,on=null,iu=null;function ou(){iu=on=Qi=null}function au(e){var t=Ji.current;ne(Ji),e._currentValue=t}function Xa(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function fn(e,t){Qi=e,iu=on=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Fe=!0),e.firstContext=null)}function ot(e){var t=e._currentValue;if(iu!==e)if(e={context:e,memoizedValue:t,next:null},on===null){if(Qi===null)throw Error(C(308));on=e,Qi.dependencies={lanes:0,firstContext:e}}else on=on.next=e;return t}var Nr=null;function lu(e){Nr===null?Nr=[e]:Nr.push(e)}function ff(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,lu(t)):(r.next=s.next,s.next=r),t.interleaved=r,Dt(e,n)}function Dt(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Kt=!1;function uu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function pf(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function $t(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function sr(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,K&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Dt(e,r)}return s=n.interleaved,s===null?(t.next=t,lu(n)):(t.next=s.next,s.next=t),n.interleaved=t,Dt(e,r)}function ji(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Gl(e,r)}}function Gc(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Yi(e,t,r,n){var s=e.updateQueue;Kt=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var u=l,c=u.next;u.next=null,o===null?i=c:o.next=c,o=u;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=u))}if(i!==null){var p=s.baseState;o=0,d=c=u=null,l=i;do{var h=l.lane,m=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=e,w=l;switch(h=t,m=r,w.tag){case 1:if(y=w.payload,typeof y=="function"){p=y.call(m,p,h);break e}p=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=w.payload,h=typeof y=="function"?y.call(m,p,h):y,h==null)break e;p=ue({},p,h);break e;case 2:Kt=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else m={eventTime:m,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(c=d=m,u=p):d=d.next=m,o|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(u=p),s.baseState=u,s.firstBaseUpdate=c,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Ur|=o,e.lanes=o,e.memoizedState=p}}function Jc(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(C(191,s));s.call(n)}}}var Is={},Et=dr(Is),ys=dr(Is),ws=dr(Is);function Cr(e){if(e===Is)throw Error(C(174));return e}function cu(e,t){switch(ee(ws,t),ee(ys,e),ee(Et,Is),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ra(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ra(t,e)}ne(Et),ee(Et,t)}function _n(){ne(Et),ne(ys),ne(ws)}function mf(e){Cr(ws.current);var t=Cr(Et.current),r=Ra(t,e.type);t!==r&&(ee(ys,e),ee(Et,r))}function du(e){ys.current===e&&(ne(Et),ne(ys))}var ae=dr(0);function Xi(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var la=[];function hu(){for(var e=0;e<la.length;e++)la[e]._workInProgressVersionPrimary=null;la.length=0}var Si=Bt.ReactCurrentDispatcher,ua=Bt.ReactCurrentBatchConfig,Lr=0,le=null,ye=null,xe=null,Zi=!1,ts=!1,xs=0,uv=0;function Pe(){throw Error(C(321))}function fu(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!vt(e[r],t[r]))return!1;return!0}function pu(e,t,r,n,s,i){if(Lr=i,le=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Si.current=e===null||e.memoizedState===null?fv:pv,e=r(n,s),ts){i=0;do{if(ts=!1,xs=0,25<=i)throw Error(C(301));i+=1,xe=ye=null,t.updateQueue=null,Si.current=mv,e=r(n,s)}while(ts)}if(Si.current=eo,t=ye!==null&&ye.next!==null,Lr=0,xe=ye=le=null,Zi=!1,t)throw Error(C(300));return e}function mu(){var e=xs!==0;return xs=0,e}function _t(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xe===null?le.memoizedState=xe=e:xe=xe.next=e,xe}function at(){if(ye===null){var e=le.alternate;e=e!==null?e.memoizedState:null}else e=ye.next;var t=xe===null?le.memoizedState:xe.next;if(t!==null)xe=t,ye=e;else{if(e===null)throw Error(C(310));ye=e,e={memoizedState:ye.memoizedState,baseState:ye.baseState,baseQueue:ye.baseQueue,queue:ye.queue,next:null},xe===null?le.memoizedState=xe=e:xe=xe.next=e}return xe}function _s(e,t){return typeof t=="function"?t(e):t}function ca(e){var t=at(),r=t.queue;if(r===null)throw Error(C(311));r.lastRenderedReducer=e;var n=ye,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=o=null,u=null,c=i;do{var d=c.lane;if((Lr&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var p={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(l=u=p,o=n):u=u.next=p,le.lanes|=d,Ur|=d}c=c.next}while(c!==null&&c!==i);u===null?o=n:u.next=l,vt(n,t.memoizedState)||(Fe=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=u,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,le.lanes|=i,Ur|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function da(e){var t=at(),r=t.queue;if(r===null)throw Error(C(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);vt(i,t.memoizedState)||(Fe=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function gf(){}function vf(e,t){var r=le,n=at(),s=t(),i=!vt(n.memoizedState,s);if(i&&(n.memoizedState=s,Fe=!0),n=n.queue,gu(xf.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||xe!==null&&xe.memoizedState.tag&1){if(r.flags|=2048,bs(9,wf.bind(null,r,n,s,t),void 0,null),_e===null)throw Error(C(349));Lr&30||yf(r,t,s)}return s}function yf(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=le.updateQueue,t===null?(t={lastEffect:null,stores:null},le.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function wf(e,t,r,n){t.value=r,t.getSnapshot=n,_f(t)&&bf(e)}function xf(e,t,r){return r(function(){_f(t)&&bf(e)})}function _f(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!vt(e,r)}catch{return!0}}function bf(e){var t=Dt(e,1);t!==null&&gt(t,e,1,-1)}function Qc(e){var t=_t();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_s,lastRenderedState:e},t.queue=e,e=e.dispatch=hv.bind(null,le,e),[t.memoizedState,e]}function bs(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=le.updateQueue,t===null?(t={lastEffect:null,stores:null},le.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function kf(){return at().memoizedState}function Ei(e,t,r,n){var s=_t();le.flags|=e,s.memoizedState=bs(1|t,r,void 0,n===void 0?null:n)}function Eo(e,t,r,n){var s=at();n=n===void 0?null:n;var i=void 0;if(ye!==null){var o=ye.memoizedState;if(i=o.destroy,n!==null&&fu(n,o.deps)){s.memoizedState=bs(t,r,i,n);return}}le.flags|=e,s.memoizedState=bs(1|t,r,i,n)}function Yc(e,t){return Ei(8390656,8,e,t)}function gu(e,t){return Eo(2048,8,e,t)}function jf(e,t){return Eo(4,2,e,t)}function Sf(e,t){return Eo(4,4,e,t)}function Ef(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Nf(e,t,r){return r=r!=null?r.concat([e]):null,Eo(4,4,Ef.bind(null,t,e),r)}function vu(){}function Cf(e,t){var r=at();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&fu(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Pf(e,t){var r=at();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&fu(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Tf(e,t,r){return Lr&21?(vt(r,t)||(r=Ih(),le.lanes|=r,Ur|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Fe=!0),e.memoizedState=r)}function cv(e,t){var r=J;J=r!==0&&4>r?r:4,e(!0);var n=ua.transition;ua.transition={};try{e(!1),t()}finally{J=r,ua.transition=n}}function Of(){return at().memoizedState}function dv(e,t,r){var n=or(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Rf(e))Af(t,r);else if(r=ff(e,t,r,n),r!==null){var s=Le();gt(r,e,n,s),If(r,t,n)}}function hv(e,t,r){var n=or(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Rf(e))Af(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(s.hasEagerState=!0,s.eagerState=l,vt(l,o)){var u=t.interleaved;u===null?(s.next=s,lu(t)):(s.next=u.next,u.next=s),t.interleaved=s;return}}catch{}finally{}r=ff(e,t,s,n),r!==null&&(s=Le(),gt(r,e,n,s),If(r,t,n))}}function Rf(e){var t=e.alternate;return e===le||t!==null&&t===le}function Af(e,t){ts=Zi=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function If(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Gl(e,r)}}var eo={readContext:ot,useCallback:Pe,useContext:Pe,useEffect:Pe,useImperativeHandle:Pe,useInsertionEffect:Pe,useLayoutEffect:Pe,useMemo:Pe,useReducer:Pe,useRef:Pe,useState:Pe,useDebugValue:Pe,useDeferredValue:Pe,useTransition:Pe,useMutableSource:Pe,useSyncExternalStore:Pe,useId:Pe,unstable_isNewReconciler:!1},fv={readContext:ot,useCallback:function(e,t){return _t().memoizedState=[e,t===void 0?null:t],e},useContext:ot,useEffect:Yc,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Ei(4194308,4,Ef.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ei(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ei(4,2,e,t)},useMemo:function(e,t){var r=_t();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=_t();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=dv.bind(null,le,e),[n.memoizedState,e]},useRef:function(e){var t=_t();return e={current:e},t.memoizedState=e},useState:Qc,useDebugValue:vu,useDeferredValue:function(e){return _t().memoizedState=e},useTransition:function(){var e=Qc(!1),t=e[0];return e=cv.bind(null,e[1]),_t().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=le,s=_t();if(ie){if(r===void 0)throw Error(C(407));r=r()}else{if(r=t(),_e===null)throw Error(C(349));Lr&30||yf(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,Yc(xf.bind(null,n,i,e),[e]),n.flags|=2048,bs(9,wf.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=_t(),t=_e.identifierPrefix;if(ie){var r=It,n=At;r=(n&~(1<<32-mt(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=xs++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=uv++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},pv={readContext:ot,useCallback:Cf,useContext:ot,useEffect:gu,useImperativeHandle:Nf,useInsertionEffect:jf,useLayoutEffect:Sf,useMemo:Pf,useReducer:ca,useRef:kf,useState:function(){return ca(_s)},useDebugValue:vu,useDeferredValue:function(e){var t=at();return Tf(t,ye.memoizedState,e)},useTransition:function(){var e=ca(_s)[0],t=at().memoizedState;return[e,t]},useMutableSource:gf,useSyncExternalStore:vf,useId:Of,unstable_isNewReconciler:!1},mv={readContext:ot,useCallback:Cf,useContext:ot,useEffect:gu,useImperativeHandle:Nf,useInsertionEffect:jf,useLayoutEffect:Sf,useMemo:Pf,useReducer:da,useRef:kf,useState:function(){return da(_s)},useDebugValue:vu,useDeferredValue:function(e){var t=at();return ye===null?t.memoizedState=e:Tf(t,ye.memoizedState,e)},useTransition:function(){var e=da(_s)[0],t=at().memoizedState;return[e,t]},useMutableSource:gf,useSyncExternalStore:vf,useId:Of,unstable_isNewReconciler:!1};function ct(e,t){if(e&&e.defaultProps){t=ue({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Za(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:ue({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var No={isMounted:function(e){return(e=e._reactInternals)?zr(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Le(),s=or(e),i=$t(n,s);i.payload=t,r!=null&&(i.callback=r),t=sr(e,i,s),t!==null&&(gt(t,e,s,n),ji(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Le(),s=or(e),i=$t(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=sr(e,i,s),t!==null&&(gt(t,e,s,n),ji(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Le(),n=or(e),s=$t(r,n);s.tag=2,t!=null&&(s.callback=t),t=sr(e,s,n),t!==null&&(gt(t,e,n,r),ji(t,e,n))}};function Xc(e,t,r,n,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!ps(r,n)||!ps(s,i):!0}function $f(e,t,r){var n=!1,s=ur,i=t.contextType;return typeof i=="object"&&i!==null?i=ot(i):(s=qe(t)?Ir:Ae.current,n=t.contextTypes,i=(n=n!=null)?yn(e,s):ur),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=No,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Zc(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&No.enqueueReplaceState(t,t.state,null)}function el(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},uu(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=ot(i):(i=qe(t)?Ir:Ae.current,s.context=yn(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Za(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&No.enqueueReplaceState(s,s.state,null),Yi(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function bn(e,t){try{var r="",n=t;do r+=V0(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function ha(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function tl(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var gv=typeof WeakMap=="function"?WeakMap:Map;function Lf(e,t,r){r=$t(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){ro||(ro=!0,dl=n),tl(e,t)},r}function Uf(e,t,r){r=$t(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){tl(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){tl(e,t),typeof n!="function"&&(ir===null?ir=new Set([this]):ir.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function ed(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new gv;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=Tv.bind(null,e,t,r),t.then(e,e))}function td(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function rd(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=$t(-1,1),t.tag=2,sr(r,t,1))),r.lanes|=1),e)}var vv=Bt.ReactCurrentOwner,Fe=!1;function $e(e,t,r,n){t.child=e===null?hf(t,null,r,n):xn(t,e.child,r,n)}function nd(e,t,r,n,s){r=r.render;var i=t.ref;return fn(t,s),n=pu(e,t,r,n,i,s),r=mu(),e!==null&&!Fe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,zt(e,t,s)):(ie&&r&&ru(t),t.flags|=1,$e(e,t,n,s),t.child)}function sd(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!Su(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,Mf(e,t,i,n,s)):(e=Ti(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:ps,r(o,n)&&e.ref===t.ref)return zt(e,t,s)}return t.flags|=1,e=ar(i,n),e.ref=t.ref,e.return=t,t.child=e}function Mf(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(ps(i,n)&&e.ref===t.ref)if(Fe=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(Fe=!0);else return t.lanes=e.lanes,zt(e,t,s)}return rl(e,t,r,n,s)}function Df(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ee(ln,Ge),Ge|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ee(ln,Ge),Ge|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,ee(ln,Ge),Ge|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,ee(ln,Ge),Ge|=n;return $e(e,t,s,r),t.child}function zf(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function rl(e,t,r,n,s){var i=qe(r)?Ir:Ae.current;return i=yn(t,i),fn(t,s),r=pu(e,t,r,n,i,s),n=mu(),e!==null&&!Fe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,zt(e,t,s)):(ie&&n&&ru(t),t.flags|=1,$e(e,t,r,s),t.child)}function id(e,t,r,n,s){if(qe(r)){var i=!0;Wi(t)}else i=!1;if(fn(t,s),t.stateNode===null)Ni(e,t),$f(t,r,n),el(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var u=o.context,c=r.contextType;typeof c=="object"&&c!==null?c=ot(c):(c=qe(r)?Ir:Ae.current,c=yn(t,c));var d=r.getDerivedStateFromProps,p=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||u!==c)&&Zc(t,o,n,c),Kt=!1;var h=t.memoizedState;o.state=h,Yi(t,n,o,s),u=t.memoizedState,l!==n||h!==u||Ve.current||Kt?(typeof d=="function"&&(Za(t,r,d,n),u=t.memoizedState),(l=Kt||Xc(t,r,l,n,h,u,c))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=u),o.props=n,o.state=u,o.context=c,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,pf(e,t),l=t.memoizedProps,c=t.type===t.elementType?l:ct(t.type,l),o.props=c,p=t.pendingProps,h=o.context,u=r.contextType,typeof u=="object"&&u!==null?u=ot(u):(u=qe(r)?Ir:Ae.current,u=yn(t,u));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==p||h!==u)&&Zc(t,o,n,u),Kt=!1,h=t.memoizedState,o.state=h,Yi(t,n,o,s);var y=t.memoizedState;l!==p||h!==y||Ve.current||Kt?(typeof m=="function"&&(Za(t,r,m,n),y=t.memoizedState),(c=Kt||Xc(t,r,c,n,h,y,u)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,y,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,y,u)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=y),o.props=n,o.state=y,o.context=u,n=c):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return nl(e,t,r,n,i,s)}function nl(e,t,r,n,s,i){zf(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&qc(t,r,!1),zt(e,t,i);n=t.stateNode,vv.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=xn(t,e.child,null,i),t.child=xn(t,null,l,i)):$e(e,t,l,i),t.memoizedState=n.state,s&&qc(t,r,!0),t.child}function Bf(e){var t=e.stateNode;t.pendingContext?Vc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Vc(e,t.context,!1),cu(e,t.containerInfo)}function od(e,t,r,n,s){return wn(),su(s),t.flags|=256,$e(e,t,r,n),t.child}var sl={dehydrated:null,treeContext:null,retryLane:0};function il(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ff(e,t,r){var n=t.pendingProps,s=ae.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ee(ae,s&1),e===null)return Ya(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=To(o,n,0,null),e=Or(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=il(r),t.memoizedState=sl,e):yu(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return yv(e,t,o,n,l,s,r);if(i){i=n.fallback,o=t.mode,s=e.child,l=s.sibling;var u={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=u,t.deletions=null):(n=ar(s,u),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=ar(l,i):(i=Or(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?il(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=sl,n}return i=e.child,e=i.sibling,n=ar(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function yu(e,t){return t=To({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function si(e,t,r,n){return n!==null&&su(n),xn(t,e.child,null,r),e=yu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function yv(e,t,r,n,s,i,o){if(r)return t.flags&256?(t.flags&=-257,n=ha(Error(C(422))),si(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=To({mode:"visible",children:n.children},s,0,null),i=Or(i,s,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&xn(t,e.child,null,o),t.child.memoizedState=il(o),t.memoizedState=sl,i);if(!(t.mode&1))return si(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(C(419)),n=ha(i,n,void 0),si(e,t,o,n)}if(l=(o&e.childLanes)!==0,Fe||l){if(n=_e,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Dt(e,s),gt(n,e,s,-1))}return ju(),n=ha(Error(C(421))),si(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Ov.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Qe=nr(s.nextSibling),Ye=t,ie=!0,pt=null,e!==null&&(rt[nt++]=At,rt[nt++]=It,rt[nt++]=$r,At=e.id,It=e.overflow,$r=t),t=yu(t,n.children),t.flags|=4096,t)}function ad(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Xa(e.return,t,r)}function fa(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function Vf(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if($e(e,t,n.children,r),n=ae.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ad(e,r,t);else if(e.tag===19)ad(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(ee(ae,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Xi(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),fa(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Xi(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}fa(t,!0,r,null,i);break;case"together":fa(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ni(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function zt(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Ur|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(C(153));if(t.child!==null){for(e=t.child,r=ar(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=ar(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function wv(e,t,r){switch(t.tag){case 3:Bf(t),wn();break;case 5:mf(t);break;case 1:qe(t.type)&&Wi(t);break;case 4:cu(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;ee(Ji,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(ee(ae,ae.current&1),t.flags|=128,null):r&t.child.childLanes?Ff(e,t,r):(ee(ae,ae.current&1),e=zt(e,t,r),e!==null?e.sibling:null);ee(ae,ae.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Vf(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ee(ae,ae.current),n)break;return null;case 22:case 23:return t.lanes=0,Df(e,t,r)}return zt(e,t,r)}var qf,ol,Hf,Wf;qf=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};ol=function(){};Hf=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Cr(Et.current);var i=null;switch(r){case"input":s=Ca(e,s),n=Ca(e,n),i=[];break;case"select":s=ue({},s,{value:void 0}),n=ue({},n,{value:void 0}),i=[];break;case"textarea":s=Oa(e,s),n=Oa(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=qi)}Aa(r,n);var o;r=null;for(c in s)if(!n.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var l=s[c];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(as.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var u=n[c];if(l=s!=null?s[c]:void 0,n.hasOwnProperty(c)&&u!==l&&(u!=null||l!=null))if(c==="style")if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(r||(r={}),r[o]=u[o])}else r||(i||(i=[]),i.push(c,r)),r=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(i=i||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(as.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&re("scroll",e),i||l===u||(i=[])):(i=i||[]).push(c,u))}r&&(i=i||[]).push("style",r);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};Wf=function(e,t,r,n){r!==n&&(t.flags|=4)};function Fn(e,t){if(!ie)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Te(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function xv(e,t,r){var n=t.pendingProps;switch(nu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Te(t),null;case 1:return qe(t.type)&&Hi(),Te(t),null;case 3:return n=t.stateNode,_n(),ne(Ve),ne(Ae),hu(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ri(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,pt!==null&&(pl(pt),pt=null))),ol(e,t),Te(t),null;case 5:du(t);var s=Cr(ws.current);if(r=t.type,e!==null&&t.stateNode!=null)Hf(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(C(166));return Te(t),null}if(e=Cr(Et.current),ri(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[kt]=t,n[vs]=i,e=(t.mode&1)!==0,r){case"dialog":re("cancel",n),re("close",n);break;case"iframe":case"object":case"embed":re("load",n);break;case"video":case"audio":for(s=0;s<Kn.length;s++)re(Kn[s],n);break;case"source":re("error",n);break;case"img":case"image":case"link":re("error",n),re("load",n);break;case"details":re("toggle",n);break;case"input":gc(n,i),re("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},re("invalid",n);break;case"textarea":yc(n,i),re("invalid",n)}Aa(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&ti(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&ti(n.textContent,l,e),s=["children",""+l]):as.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&re("scroll",n)}switch(r){case"input":Ks(n),vc(n,i,!0);break;case"textarea":Ks(n),wc(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=qi)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=wh(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[kt]=t,e[vs]=n,qf(e,t,!1,!1),t.stateNode=e;e:{switch(o=Ia(r,n),r){case"dialog":re("cancel",e),re("close",e),s=n;break;case"iframe":case"object":case"embed":re("load",e),s=n;break;case"video":case"audio":for(s=0;s<Kn.length;s++)re(Kn[s],e);s=n;break;case"source":re("error",e),s=n;break;case"img":case"image":case"link":re("error",e),re("load",e),s=n;break;case"details":re("toggle",e),s=n;break;case"input":gc(e,n),s=Ca(e,n),re("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=ue({},n,{value:void 0}),re("invalid",e);break;case"textarea":yc(e,n),s=Oa(e,n),re("invalid",e);break;default:s=n}Aa(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var u=l[i];i==="style"?bh(e,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&xh(e,u)):i==="children"?typeof u=="string"?(r!=="textarea"||u!=="")&&ls(e,u):typeof u=="number"&&ls(e,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(as.hasOwnProperty(i)?u!=null&&i==="onScroll"&&re("scroll",e):u!=null&&Fl(e,i,u,o))}switch(r){case"input":Ks(e),vc(e,n,!1);break;case"textarea":Ks(e),wc(e);break;case"option":n.value!=null&&e.setAttribute("value",""+lr(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?un(e,!!n.multiple,i,!1):n.defaultValue!=null&&un(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=qi)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Te(t),null;case 6:if(e&&t.stateNode!=null)Wf(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(C(166));if(r=Cr(ws.current),Cr(Et.current),ri(t)){if(n=t.stateNode,r=t.memoizedProps,n[kt]=t,(i=n.nodeValue!==r)&&(e=Ye,e!==null))switch(e.tag){case 3:ti(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ti(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[kt]=t,t.stateNode=n}return Te(t),null;case 13:if(ne(ae),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ie&&Qe!==null&&t.mode&1&&!(t.flags&128))cf(),wn(),t.flags|=98560,i=!1;else if(i=ri(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(C(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(C(317));i[kt]=t}else wn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Te(t),i=!1}else pt!==null&&(pl(pt),pt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||ae.current&1?we===0&&(we=3):ju())),t.updateQueue!==null&&(t.flags|=4),Te(t),null);case 4:return _n(),ol(e,t),e===null&&ms(t.stateNode.containerInfo),Te(t),null;case 10:return au(t.type._context),Te(t),null;case 17:return qe(t.type)&&Hi(),Te(t),null;case 19:if(ne(ae),i=t.memoizedState,i===null)return Te(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)Fn(i,!1);else{if(we!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Xi(e),o!==null){for(t.flags|=128,Fn(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return ee(ae,ae.current&1|2),t.child}e=e.sibling}i.tail!==null&&de()>kn&&(t.flags|=128,n=!0,Fn(i,!1),t.lanes=4194304)}else{if(!n)if(e=Xi(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Fn(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ie)return Te(t),null}else 2*de()-i.renderingStartTime>kn&&r!==1073741824&&(t.flags|=128,n=!0,Fn(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=de(),t.sibling=null,r=ae.current,ee(ae,n?r&1|2:r&1),t):(Te(t),null);case 22:case 23:return ku(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Ge&1073741824&&(Te(t),t.subtreeFlags&6&&(t.flags|=8192)):Te(t),null;case 24:return null;case 25:return null}throw Error(C(156,t.tag))}function _v(e,t){switch(nu(t),t.tag){case 1:return qe(t.type)&&Hi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return _n(),ne(Ve),ne(Ae),hu(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return du(t),null;case 13:if(ne(ae),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(C(340));wn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ne(ae),null;case 4:return _n(),null;case 10:return au(t.type._context),null;case 22:case 23:return ku(),null;case 24:return null;default:return null}}var ii=!1,Oe=!1,bv=typeof WeakSet=="function"?WeakSet:Set,I=null;function an(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ce(e,t,n)}else r.current=null}function al(e,t,r){try{r()}catch(n){ce(e,t,n)}}var ld=!1;function kv(e,t){if(qa=Bi,e=Qh(),tu(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,u=-1,c=0,d=0,p=e,h=null;t:for(;;){for(var m;p!==r||s!==0&&p.nodeType!==3||(l=o+s),p!==i||n!==0&&p.nodeType!==3||(u=o+n),p.nodeType===3&&(o+=p.nodeValue.length),(m=p.firstChild)!==null;)h=p,p=m;for(;;){if(p===e)break t;if(h===r&&++c===s&&(l=o),h===i&&++d===n&&(u=o),(m=p.nextSibling)!==null)break;p=h,h=p.parentNode}p=m}r=l===-1||u===-1?null:{start:l,end:u}}else r=null}r=r||{start:0,end:0}}else r=null;for(Ha={focusedElem:e,selectionRange:r},Bi=!1,I=t;I!==null;)if(t=I,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,I=e;else for(;I!==null;){t=I;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var w=y.memoizedProps,_=y.memoizedState,g=t.stateNode,f=g.getSnapshotBeforeUpdate(t.elementType===t.type?w:ct(t.type,w),_);g.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(C(163))}}catch(x){ce(t,t.return,x)}if(e=t.sibling,e!==null){e.return=t.return,I=e;break}I=t.return}return y=ld,ld=!1,y}function rs(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&al(t,r,i)}s=s.next}while(s!==n)}}function Co(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function ll(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Kf(e){var t=e.alternate;t!==null&&(e.alternate=null,Kf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[kt],delete t[vs],delete t[Ga],delete t[iv],delete t[ov])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Gf(e){return e.tag===5||e.tag===3||e.tag===4}function ud(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Gf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ul(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=qi));else if(n!==4&&(e=e.child,e!==null))for(ul(e,t,r),e=e.sibling;e!==null;)ul(e,t,r),e=e.sibling}function cl(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(cl(e,t,r),e=e.sibling;e!==null;)cl(e,t,r),e=e.sibling}var Ee=null,ht=!1;function qt(e,t,r){for(r=r.child;r!==null;)Jf(e,t,r),r=r.sibling}function Jf(e,t,r){if(St&&typeof St.onCommitFiberUnmount=="function")try{St.onCommitFiberUnmount(xo,r)}catch{}switch(r.tag){case 5:Oe||an(r,t);case 6:var n=Ee,s=ht;Ee=null,qt(e,t,r),Ee=n,ht=s,Ee!==null&&(ht?(e=Ee,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Ee.removeChild(r.stateNode));break;case 18:Ee!==null&&(ht?(e=Ee,r=r.stateNode,e.nodeType===8?oa(e.parentNode,r):e.nodeType===1&&oa(e,r),hs(e)):oa(Ee,r.stateNode));break;case 4:n=Ee,s=ht,Ee=r.stateNode.containerInfo,ht=!0,qt(e,t,r),Ee=n,ht=s;break;case 0:case 11:case 14:case 15:if(!Oe&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&al(r,t,o),s=s.next}while(s!==n)}qt(e,t,r);break;case 1:if(!Oe&&(an(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){ce(r,t,l)}qt(e,t,r);break;case 21:qt(e,t,r);break;case 22:r.mode&1?(Oe=(n=Oe)||r.memoizedState!==null,qt(e,t,r),Oe=n):qt(e,t,r);break;default:qt(e,t,r)}}function cd(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new bv),t.forEach(function(n){var s=Rv.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function lt(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Ee=l.stateNode,ht=!1;break e;case 3:Ee=l.stateNode.containerInfo,ht=!0;break e;case 4:Ee=l.stateNode.containerInfo,ht=!0;break e}l=l.return}if(Ee===null)throw Error(C(160));Jf(i,o,s),Ee=null,ht=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(c){ce(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Qf(t,e),t=t.sibling}function Qf(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(lt(t,e),xt(e),n&4){try{rs(3,e,e.return),Co(3,e)}catch(w){ce(e,e.return,w)}try{rs(5,e,e.return)}catch(w){ce(e,e.return,w)}}break;case 1:lt(t,e),xt(e),n&512&&r!==null&&an(r,r.return);break;case 5:if(lt(t,e),xt(e),n&512&&r!==null&&an(r,r.return),e.flags&32){var s=e.stateNode;try{ls(s,"")}catch(w){ce(e,e.return,w)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&vh(s,i),Ia(l,o);var c=Ia(l,i);for(o=0;o<u.length;o+=2){var d=u[o],p=u[o+1];d==="style"?bh(s,p):d==="dangerouslySetInnerHTML"?xh(s,p):d==="children"?ls(s,p):Fl(s,d,p,c)}switch(l){case"input":Pa(s,i);break;case"textarea":yh(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?un(s,!!i.multiple,m,!1):h!==!!i.multiple&&(i.defaultValue!=null?un(s,!!i.multiple,i.defaultValue,!0):un(s,!!i.multiple,i.multiple?[]:"",!1))}s[vs]=i}catch(w){ce(e,e.return,w)}}break;case 6:if(lt(t,e),xt(e),n&4){if(e.stateNode===null)throw Error(C(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(w){ce(e,e.return,w)}}break;case 3:if(lt(t,e),xt(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{hs(t.containerInfo)}catch(w){ce(e,e.return,w)}break;case 4:lt(t,e),xt(e);break;case 13:lt(t,e),xt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(_u=de())),n&4&&cd(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Oe=(c=Oe)||d,lt(t,e),Oe=c):lt(t,e),xt(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(I=e,d=e.child;d!==null;){for(p=I=d;I!==null;){switch(h=I,m=h.child,h.tag){case 0:case 11:case 14:case 15:rs(4,h,h.return);break;case 1:an(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(w){ce(n,r,w)}}break;case 5:an(h,h.return);break;case 22:if(h.memoizedState!==null){hd(p);continue}}m!==null?(m.return=h,I=m):hd(p)}d=d.sibling}e:for(d=null,p=e;;){if(p.tag===5){if(d===null){d=p;try{s=p.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=p.stateNode,u=p.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=_h("display",o))}catch(w){ce(e,e.return,w)}}}else if(p.tag===6){if(d===null)try{p.stateNode.nodeValue=c?"":p.memoizedProps}catch(w){ce(e,e.return,w)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:lt(t,e),xt(e),n&4&&cd(e);break;case 21:break;default:lt(t,e),xt(e)}}function xt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Gf(r)){var n=r;break e}r=r.return}throw Error(C(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(ls(s,""),n.flags&=-33);var i=ud(e);cl(e,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=ud(e);ul(e,l,o);break;default:throw Error(C(161))}}catch(u){ce(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function jv(e,t,r){I=e,Yf(e)}function Yf(e,t,r){for(var n=(e.mode&1)!==0;I!==null;){var s=I,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||ii;if(!o){var l=s.alternate,u=l!==null&&l.memoizedState!==null||Oe;l=ii;var c=Oe;if(ii=o,(Oe=u)&&!c)for(I=s;I!==null;)o=I,u=o.child,o.tag===22&&o.memoizedState!==null?fd(s):u!==null?(u.return=o,I=u):fd(s);for(;i!==null;)I=i,Yf(i),i=i.sibling;I=s,ii=l,Oe=c}dd(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,I=i):dd(e)}}function dd(e){for(;I!==null;){var t=I;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Oe||Co(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Oe)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:ct(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Jc(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Jc(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&r.focus();break;case"img":u.src&&(r.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var p=d.dehydrated;p!==null&&hs(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(C(163))}Oe||t.flags&512&&ll(t)}catch(h){ce(t,t.return,h)}}if(t===e){I=null;break}if(r=t.sibling,r!==null){r.return=t.return,I=r;break}I=t.return}}function hd(e){for(;I!==null;){var t=I;if(t===e){I=null;break}var r=t.sibling;if(r!==null){r.return=t.return,I=r;break}I=t.return}}function fd(e){for(;I!==null;){var t=I;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Co(4,t)}catch(u){ce(t,r,u)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(u){ce(t,s,u)}}var i=t.return;try{ll(t)}catch(u){ce(t,i,u)}break;case 5:var o=t.return;try{ll(t)}catch(u){ce(t,o,u)}}}catch(u){ce(t,t.return,u)}if(t===e){I=null;break}var l=t.sibling;if(l!==null){l.return=t.return,I=l;break}I=t.return}}var Sv=Math.ceil,to=Bt.ReactCurrentDispatcher,wu=Bt.ReactCurrentOwner,it=Bt.ReactCurrentBatchConfig,K=0,_e=null,ge=null,Ne=0,Ge=0,ln=dr(0),we=0,ks=null,Ur=0,Po=0,xu=0,ns=null,ze=null,_u=0,kn=1/0,Ot=null,ro=!1,dl=null,ir=null,oi=!1,Zt=null,no=0,ss=0,hl=null,Ci=-1,Pi=0;function Le(){return K&6?de():Ci!==-1?Ci:Ci=de()}function or(e){return e.mode&1?K&2&&Ne!==0?Ne&-Ne:lv.transition!==null?(Pi===0&&(Pi=Ih()),Pi):(e=J,e!==0||(e=window.event,e=e===void 0?16:Bh(e.type)),e):1}function gt(e,t,r,n){if(50<ss)throw ss=0,hl=null,Error(C(185));Os(e,r,n),(!(K&2)||e!==_e)&&(e===_e&&(!(K&2)&&(Po|=r),we===4&&Jt(e,Ne)),He(e,n),r===1&&K===0&&!(t.mode&1)&&(kn=de()+500,So&&hr()))}function He(e,t){var r=e.callbackNode;lg(e,t);var n=zi(e,e===_e?Ne:0);if(n===0)r!==null&&bc(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&bc(r),t===1)e.tag===0?av(pd.bind(null,e)):af(pd.bind(null,e)),nv(function(){!(K&6)&&hr()}),r=null;else{switch($h(n)){case 1:r=Kl;break;case 4:r=Rh;break;case 16:r=Di;break;case 536870912:r=Ah;break;default:r=Di}r=ip(r,Xf.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Xf(e,t){if(Ci=-1,Pi=0,K&6)throw Error(C(327));var r=e.callbackNode;if(pn()&&e.callbackNode!==r)return null;var n=zi(e,e===_e?Ne:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=so(e,n);else{t=n;var s=K;K|=2;var i=ep();(_e!==e||Ne!==t)&&(Ot=null,kn=de()+500,Tr(e,t));do try{Cv();break}catch(l){Zf(e,l)}while(!0);ou(),to.current=i,K=s,ge!==null?t=0:(_e=null,Ne=0,t=we)}if(t!==0){if(t===2&&(s=Da(e),s!==0&&(n=s,t=fl(e,s))),t===1)throw r=ks,Tr(e,0),Jt(e,n),He(e,de()),r;if(t===6)Jt(e,n);else{if(s=e.current.alternate,!(n&30)&&!Ev(s)&&(t=so(e,n),t===2&&(i=Da(e),i!==0&&(n=i,t=fl(e,i))),t===1))throw r=ks,Tr(e,0),Jt(e,n),He(e,de()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(C(345));case 2:xr(e,ze,Ot);break;case 3:if(Jt(e,n),(n&130023424)===n&&(t=_u+500-de(),10<t)){if(zi(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Le(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Ka(xr.bind(null,e,ze,Ot),t);break}xr(e,ze,Ot);break;case 4:if(Jt(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-mt(n);i=1<<o,o=t[o],o>s&&(s=o),n&=~i}if(n=s,n=de()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Sv(n/1960))-n,10<n){e.timeoutHandle=Ka(xr.bind(null,e,ze,Ot),n);break}xr(e,ze,Ot);break;case 5:xr(e,ze,Ot);break;default:throw Error(C(329))}}}return He(e,de()),e.callbackNode===r?Xf.bind(null,e):null}function fl(e,t){var r=ns;return e.current.memoizedState.isDehydrated&&(Tr(e,t).flags|=256),e=so(e,t),e!==2&&(t=ze,ze=r,t!==null&&pl(t)),e}function pl(e){ze===null?ze=e:ze.push.apply(ze,e)}function Ev(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!vt(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Jt(e,t){for(t&=~xu,t&=~Po,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-mt(t),n=1<<r;e[r]=-1,t&=~n}}function pd(e){if(K&6)throw Error(C(327));pn();var t=zi(e,0);if(!(t&1))return He(e,de()),null;var r=so(e,t);if(e.tag!==0&&r===2){var n=Da(e);n!==0&&(t=n,r=fl(e,n))}if(r===1)throw r=ks,Tr(e,0),Jt(e,t),He(e,de()),r;if(r===6)throw Error(C(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xr(e,ze,Ot),He(e,de()),null}function bu(e,t){var r=K;K|=1;try{return e(t)}finally{K=r,K===0&&(kn=de()+500,So&&hr())}}function Mr(e){Zt!==null&&Zt.tag===0&&!(K&6)&&pn();var t=K;K|=1;var r=it.transition,n=J;try{if(it.transition=null,J=1,e)return e()}finally{J=n,it.transition=r,K=t,!(K&6)&&hr()}}function ku(){Ge=ln.current,ne(ln)}function Tr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,rv(r)),ge!==null)for(r=ge.return;r!==null;){var n=r;switch(nu(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Hi();break;case 3:_n(),ne(Ve),ne(Ae),hu();break;case 5:du(n);break;case 4:_n();break;case 13:ne(ae);break;case 19:ne(ae);break;case 10:au(n.type._context);break;case 22:case 23:ku()}r=r.return}if(_e=e,ge=e=ar(e.current,null),Ne=Ge=t,we=0,ks=null,xu=Po=Ur=0,ze=ns=null,Nr!==null){for(t=0;t<Nr.length;t++)if(r=Nr[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}Nr=null}return e}function Zf(e,t){do{var r=ge;try{if(ou(),Si.current=eo,Zi){for(var n=le.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Zi=!1}if(Lr=0,xe=ye=le=null,ts=!1,xs=0,wu.current=null,r===null||r.return===null){we=1,ks=t,ge=null;break}e:{var i=e,o=r.return,l=r,u=t;if(t=Ne,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=l,p=d.tag;if(!(d.mode&1)&&(p===0||p===11||p===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=td(o);if(m!==null){m.flags&=-257,rd(m,o,l,i,t),m.mode&1&&ed(i,c,t),t=m,u=c;var y=t.updateQueue;if(y===null){var w=new Set;w.add(u),t.updateQueue=w}else y.add(u);break e}else{if(!(t&1)){ed(i,c,t),ju();break e}u=Error(C(426))}}else if(ie&&l.mode&1){var _=td(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),rd(_,o,l,i,t),su(bn(u,l));break e}}i=u=bn(u,l),we!==4&&(we=2),ns===null?ns=[i]:ns.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=Lf(i,u,t);Gc(i,g);break e;case 1:l=u;var f=i.type,v=i.stateNode;if(!(i.flags&128)&&(typeof f.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(ir===null||!ir.has(v)))){i.flags|=65536,t&=-t,i.lanes|=t;var x=Uf(i,l,t);Gc(i,x);break e}}i=i.return}while(i!==null)}rp(r)}catch(E){t=E,ge===r&&r!==null&&(ge=r=r.return);continue}break}while(!0)}function ep(){var e=to.current;return to.current=eo,e===null?eo:e}function ju(){(we===0||we===3||we===2)&&(we=4),_e===null||!(Ur&268435455)&&!(Po&268435455)||Jt(_e,Ne)}function so(e,t){var r=K;K|=2;var n=ep();(_e!==e||Ne!==t)&&(Ot=null,Tr(e,t));do try{Nv();break}catch(s){Zf(e,s)}while(!0);if(ou(),K=r,to.current=n,ge!==null)throw Error(C(261));return _e=null,Ne=0,we}function Nv(){for(;ge!==null;)tp(ge)}function Cv(){for(;ge!==null&&!Z0();)tp(ge)}function tp(e){var t=sp(e.alternate,e,Ge);e.memoizedProps=e.pendingProps,t===null?rp(e):ge=t,wu.current=null}function rp(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=_v(r,t),r!==null){r.flags&=32767,ge=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{we=6,ge=null;return}}else if(r=xv(r,t,Ge),r!==null){ge=r;return}if(t=t.sibling,t!==null){ge=t;return}ge=t=e}while(t!==null);we===0&&(we=5)}function xr(e,t,r){var n=J,s=it.transition;try{it.transition=null,J=1,Pv(e,t,r,n)}finally{it.transition=s,J=n}return null}function Pv(e,t,r,n){do pn();while(Zt!==null);if(K&6)throw Error(C(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(C(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(ug(e,i),e===_e&&(ge=_e=null,Ne=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||oi||(oi=!0,ip(Di,function(){return pn(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=it.transition,it.transition=null;var o=J;J=1;var l=K;K|=4,wu.current=null,kv(e,r),Qf(r,e),Jg(Ha),Bi=!!qa,Ha=qa=null,e.current=r,jv(r),eg(),K=l,J=o,it.transition=i}else e.current=r;if(oi&&(oi=!1,Zt=e,no=s),i=e.pendingLanes,i===0&&(ir=null),ng(r.stateNode),He(e,de()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(ro)throw ro=!1,e=dl,dl=null,e;return no&1&&e.tag!==0&&pn(),i=e.pendingLanes,i&1?e===hl?ss++:(ss=0,hl=e):ss=0,hr(),null}function pn(){if(Zt!==null){var e=$h(no),t=it.transition,r=J;try{if(it.transition=null,J=16>e?16:e,Zt===null)var n=!1;else{if(e=Zt,Zt=null,no=0,K&6)throw Error(C(331));var s=K;for(K|=4,I=e.current;I!==null;){var i=I,o=i.child;if(I.flags&16){var l=i.deletions;if(l!==null){for(var u=0;u<l.length;u++){var c=l[u];for(I=c;I!==null;){var d=I;switch(d.tag){case 0:case 11:case 15:rs(8,d,i)}var p=d.child;if(p!==null)p.return=d,I=p;else for(;I!==null;){d=I;var h=d.sibling,m=d.return;if(Kf(d),d===c){I=null;break}if(h!==null){h.return=m,I=h;break}I=m}}}var y=i.alternate;if(y!==null){var w=y.child;if(w!==null){y.child=null;do{var _=w.sibling;w.sibling=null,w=_}while(w!==null)}}I=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,I=o;else e:for(;I!==null;){if(i=I,i.flags&2048)switch(i.tag){case 0:case 11:case 15:rs(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,I=g;break e}I=i.return}}var f=e.current;for(I=f;I!==null;){o=I;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,I=v;else e:for(o=f;I!==null;){if(l=I,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Co(9,l)}}catch(E){ce(l,l.return,E)}if(l===o){I=null;break e}var x=l.sibling;if(x!==null){x.return=l.return,I=x;break e}I=l.return}}if(K=s,hr(),St&&typeof St.onPostCommitFiberRoot=="function")try{St.onPostCommitFiberRoot(xo,e)}catch{}n=!0}return n}finally{J=r,it.transition=t}}return!1}function md(e,t,r){t=bn(r,t),t=Lf(e,t,1),e=sr(e,t,1),t=Le(),e!==null&&(Os(e,1,t),He(e,t))}function ce(e,t,r){if(e.tag===3)md(e,e,r);else for(;t!==null;){if(t.tag===3){md(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ir===null||!ir.has(n))){e=bn(r,e),e=Uf(t,e,1),t=sr(t,e,1),e=Le(),t!==null&&(Os(t,1,e),He(t,e));break}}t=t.return}}function Tv(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Le(),e.pingedLanes|=e.suspendedLanes&r,_e===e&&(Ne&r)===r&&(we===4||we===3&&(Ne&130023424)===Ne&&500>de()-_u?Tr(e,0):xu|=r),He(e,t)}function np(e,t){t===0&&(e.mode&1?(t=Qs,Qs<<=1,!(Qs&130023424)&&(Qs=4194304)):t=1);var r=Le();e=Dt(e,t),e!==null&&(Os(e,t,r),He(e,r))}function Ov(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),np(e,r)}function Rv(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(C(314))}n!==null&&n.delete(t),np(e,r)}var sp;sp=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ve.current)Fe=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Fe=!1,wv(e,t,r);Fe=!!(e.flags&131072)}else Fe=!1,ie&&t.flags&1048576&&lf(t,Gi,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Ni(e,t),e=t.pendingProps;var s=yn(t,Ae.current);fn(t,r),s=pu(null,t,n,e,s,r);var i=mu();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,qe(n)?(i=!0,Wi(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,uu(t),s.updater=No,t.stateNode=s,s._reactInternals=t,el(t,n,e,r),t=nl(null,t,n,!0,i,r)):(t.tag=0,ie&&i&&ru(t),$e(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Ni(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=Iv(n),e=ct(n,e),s){case 0:t=rl(null,t,n,e,r);break e;case 1:t=id(null,t,n,e,r);break e;case 11:t=nd(null,t,n,e,r);break e;case 14:t=sd(null,t,n,ct(n.type,e),r);break e}throw Error(C(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:ct(n,s),rl(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:ct(n,s),id(e,t,n,s,r);case 3:e:{if(Bf(t),e===null)throw Error(C(387));n=t.pendingProps,i=t.memoizedState,s=i.element,pf(e,t),Yi(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=bn(Error(C(423)),t),t=od(e,t,n,r,s);break e}else if(n!==s){s=bn(Error(C(424)),t),t=od(e,t,n,r,s);break e}else for(Qe=nr(t.stateNode.containerInfo.firstChild),Ye=t,ie=!0,pt=null,r=hf(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(wn(),n===s){t=zt(e,t,r);break e}$e(e,t,n,r)}t=t.child}return t;case 5:return mf(t),e===null&&Ya(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,Wa(n,s)?o=null:i!==null&&Wa(n,i)&&(t.flags|=32),zf(e,t),$e(e,t,o,r),t.child;case 6:return e===null&&Ya(t),null;case 13:return Ff(e,t,r);case 4:return cu(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=xn(t,null,n,r):$e(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:ct(n,s),nd(e,t,n,s,r);case 7:return $e(e,t,t.pendingProps,r),t.child;case 8:return $e(e,t,t.pendingProps.children,r),t.child;case 12:return $e(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,ee(Ji,n._currentValue),n._currentValue=o,i!==null)if(vt(i.value,o)){if(i.children===s.children&&!Ve.current){t=zt(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var u=l.firstContext;u!==null;){if(u.context===n){if(i.tag===1){u=$t(-1,r&-r),u.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}i.lanes|=r,u=i.alternate,u!==null&&(u.lanes|=r),Xa(i.return,r,t),l.lanes|=r;break}u=u.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(C(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Xa(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}$e(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,fn(t,r),s=ot(s),n=n(s),t.flags|=1,$e(e,t,n,r),t.child;case 14:return n=t.type,s=ct(n,t.pendingProps),s=ct(n.type,s),sd(e,t,n,s,r);case 15:return Mf(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:ct(n,s),Ni(e,t),t.tag=1,qe(n)?(e=!0,Wi(t)):e=!1,fn(t,r),$f(t,n,s),el(t,n,s,r),nl(null,t,n,!0,e,r);case 19:return Vf(e,t,r);case 22:return Df(e,t,r)}throw Error(C(156,t.tag))};function ip(e,t){return Oh(e,t)}function Av(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function st(e,t,r,n){return new Av(e,t,r,n)}function Su(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Iv(e){if(typeof e=="function")return Su(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ql)return 11;if(e===Hl)return 14}return 2}function ar(e,t){var r=e.alternate;return r===null?(r=st(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ti(e,t,r,n,s,i){var o=2;if(n=e,typeof e=="function")Su(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Yr:return Or(r.children,s,i,t);case Vl:o=8,s|=8;break;case ja:return e=st(12,r,t,s|2),e.elementType=ja,e.lanes=i,e;case Sa:return e=st(13,r,t,s),e.elementType=Sa,e.lanes=i,e;case Ea:return e=st(19,r,t,s),e.elementType=Ea,e.lanes=i,e;case ph:return To(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case hh:o=10;break e;case fh:o=9;break e;case ql:o=11;break e;case Hl:o=14;break e;case Wt:o=16,n=null;break e}throw Error(C(130,e==null?e:typeof e,""))}return t=st(o,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function Or(e,t,r,n){return e=st(7,e,n,t),e.lanes=r,e}function To(e,t,r,n){return e=st(22,e,n,t),e.elementType=ph,e.lanes=r,e.stateNode={isHidden:!1},e}function pa(e,t,r){return e=st(6,e,null,t),e.lanes=r,e}function ma(e,t,r){return t=st(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function $v(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Jo(0),this.expirationTimes=Jo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jo(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Eu(e,t,r,n,s,i,o,l,u){return e=new $v(e,t,r,l,u),t===1?(t=1,i===!0&&(t|=8)):t=0,i=st(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},uu(i),e}function Lv(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Qr,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function op(e){if(!e)return ur;e=e._reactInternals;e:{if(zr(e)!==e||e.tag!==1)throw Error(C(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(qe(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(C(171))}if(e.tag===1){var r=e.type;if(qe(r))return of(e,r,t)}return t}function ap(e,t,r,n,s,i,o,l,u){return e=Eu(r,n,!0,e,s,i,o,l,u),e.context=op(null),r=e.current,n=Le(),s=or(r),i=$t(n,s),i.callback=t??null,sr(r,i,s),e.current.lanes=s,Os(e,s,n),He(e,n),e}function Oo(e,t,r,n){var s=t.current,i=Le(),o=or(s);return r=op(r),t.context===null?t.context=r:t.pendingContext=r,t=$t(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=sr(s,t,o),e!==null&&(gt(e,s,o,i),ji(e,s,o)),o}function io(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function gd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Nu(e,t){gd(e,t),(e=e.alternate)&&gd(e,t)}function Uv(){return null}var lp=typeof reportError=="function"?reportError:function(e){console.error(e)};function Cu(e){this._internalRoot=e}Ro.prototype.render=Cu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(C(409));Oo(e,t,null,null)};Ro.prototype.unmount=Cu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Mr(function(){Oo(null,e,null,null)}),t[Mt]=null}};function Ro(e){this._internalRoot=e}Ro.prototype.unstable_scheduleHydration=function(e){if(e){var t=Mh();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Gt.length&&t!==0&&t<Gt[r].priority;r++);Gt.splice(r,0,e),r===0&&zh(e)}};function Pu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ao(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function vd(){}function Mv(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var c=io(o);i.call(c)}}var o=ap(t,n,e,0,null,!1,!1,"",vd);return e._reactRootContainer=o,e[Mt]=o.current,ms(e.nodeType===8?e.parentNode:e),Mr(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var c=io(u);l.call(c)}}var u=Eu(e,0,!1,null,null,!1,!1,"",vd);return e._reactRootContainer=u,e[Mt]=u.current,ms(e.nodeType===8?e.parentNode:e),Mr(function(){Oo(t,u,r,n)}),u}function Io(e,t,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var u=io(o);l.call(u)}}Oo(t,o,e,s)}else o=Mv(r,t,e,s,n);return io(o)}Lh=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Wn(t.pendingLanes);r!==0&&(Gl(t,r|1),He(t,de()),!(K&6)&&(kn=de()+500,hr()))}break;case 13:Mr(function(){var n=Dt(e,1);if(n!==null){var s=Le();gt(n,e,1,s)}}),Nu(e,1)}};Jl=function(e){if(e.tag===13){var t=Dt(e,134217728);if(t!==null){var r=Le();gt(t,e,134217728,r)}Nu(e,134217728)}};Uh=function(e){if(e.tag===13){var t=or(e),r=Dt(e,t);if(r!==null){var n=Le();gt(r,e,t,n)}Nu(e,t)}};Mh=function(){return J};Dh=function(e,t){var r=J;try{return J=e,t()}finally{J=r}};La=function(e,t,r){switch(t){case"input":if(Pa(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=jo(n);if(!s)throw Error(C(90));gh(n),Pa(n,s)}}}break;case"textarea":yh(e,r);break;case"select":t=r.value,t!=null&&un(e,!!r.multiple,t,!1)}};Sh=bu;Eh=Mr;var Dv={usingClientEntryPoint:!1,Events:[As,tn,jo,kh,jh,bu]},Vn={findFiberByHostInstance:Er,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},zv={bundleType:Vn.bundleType,version:Vn.version,rendererPackageName:Vn.rendererPackageName,rendererConfig:Vn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Bt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ph(e),e===null?null:e.stateNode},findFiberByHostInstance:Vn.findFiberByHostInstance||Uv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ai=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ai.isDisabled&&ai.supportsFiber)try{xo=ai.inject(zv),St=ai}catch{}}Ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Dv;Ze.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Pu(t))throw Error(C(200));return Lv(e,t,null,r)};Ze.createRoot=function(e,t){if(!Pu(e))throw Error(C(299));var r=!1,n="",s=lp;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Eu(e,1,!1,null,null,r,!1,n,s),e[Mt]=t.current,ms(e.nodeType===8?e.parentNode:e),new Cu(t)};Ze.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(C(188)):(e=Object.keys(e).join(","),Error(C(268,e)));return e=Ph(t),e=e===null?null:e.stateNode,e};Ze.flushSync=function(e){return Mr(e)};Ze.hydrate=function(e,t,r){if(!Ao(t))throw Error(C(200));return Io(null,e,t,!0,r)};Ze.hydrateRoot=function(e,t,r){if(!Pu(e))throw Error(C(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=lp;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=ap(t,null,e,1,r??null,s,!1,i,o),e[Mt]=t.current,ms(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Ro(t)};Ze.render=function(e,t,r){if(!Ao(t))throw Error(C(200));return Io(null,e,t,!1,r)};Ze.unmountComponentAtNode=function(e){if(!Ao(e))throw Error(C(40));return e._reactRootContainer?(Mr(function(){Io(null,null,e,!1,function(){e._reactRootContainer=null,e[Mt]=null})}),!0):!1};Ze.unstable_batchedUpdates=bu;Ze.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Ao(r))throw Error(C(200));if(e==null||e._reactInternals===void 0)throw Error(C(38));return Io(e,t,r,!1,n)};Ze.version="18.3.1-next-f1338f8080-20240426";function up(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(up)}catch(e){console.error(e)}}up(),lh.exports=Ze;var Bv=lh.exports,yd=Bv;ba.createRoot=yd.createRoot,ba.hydrateRoot=yd.hydrateRoot;const wd=["Qual foi a pequena vitria silenciosa do seu dia?","O que voc mudou de opinio recentemente?","Qual conselho voc daria para o seu 'eu' de 5 anos atrs?","O que significa sucesso para voc hoje, diferente de ontem?","Descreva um momento de pura serenidade que voc viveu."],cp=()=>{const e=new Date().toDateString();let t=0;for(let n=0;n<e.length;n++)t=e.charCodeAt(n)+((t<<5)-t);const r=Math.abs(t)%wd.length;return wd[r]},Fv=[{id:"p1",fromUser:"Ana (Cinema)",fromAvatar:"https://picsum.photos/seed/ana/200",context:"Sobre sua anlise de Matrix e Plato",timestamp:"Ontem",isRead:!1,messages:[{id:"m1",senderId:"other",text:"Ol! Li seu post sobre a Alegoria da Caverna em Matrix. Fiquei muito impactada com a conexo que voc fez com as redes sociais atuais.",timestamp:"Ontem 14:30"},{id:"m2",senderId:"other",text:"Voc acha que Cypher estava certo em querer voltar para a iluso?",timestamp:"Ontem 14:32"}]},{id:"p2",fromUser:"Carlos.dev",fromAvatar:"https://picsum.photos/seed/carlos/200",context:"Vi que voc gosta de estoicismo. Queria compartilhar um livro.",timestamp:"2 dias atrs",isRead:!0,messages:[{id:"m1",senderId:"other",text:"E a! Vi seus comentrios no pocket de Slow Living.",timestamp:"2 dias atrs"},{id:"m2",senderId:"other",text:'J leu "Meditaes" de Marco Aurlio? Acho que combina muito com o que voc disse sobre controle interno.',timestamp:"2 dias atrs"},{id:"m3",senderId:"me",text:"Oi Carlos! Sim,  meu livro de cabeceira. Adoro a parte onde ele fala sobre acordar cedo e fazer o trabalho de um ser humano.",timestamp:"1 dia atrs"}]}],Vv=[{id:"r1",author:"System",content:"Teste de denncia de sistema.",reason:"Teste",severity:"Low"}],qv=`
Eu me comprometo a interagir com inteno e empatia.
Reconheo que por trs de cada tela existe um ser humano.
Prometo discordar com respeito, evitando ataques pessoais.
Entendo que minha pontuao (PULSE Score) reflete minha contribuio para a sade da comunidade.
`;/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hv=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Wv=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),xd=e=>{const t=Wv(e);return t.charAt(0).toUpperCase()+t.slice(1)},dp=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim(),Kv=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Gv={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jv=T.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:o,...l},u)=>T.createElement("svg",{ref:u,...Gv,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:dp("lucide",s),...!i&&!Kv(l)&&{"aria-hidden":"true"},...l},[...o.map(([c,d])=>T.createElement(c,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=(e,t)=>{const r=T.forwardRef(({className:n,...s},i)=>T.createElement(Jv,{ref:i,iconNode:t,className:dp(`lucide-${Hv(xd(e))}`,`lucide-${e}`,n),...s}));return r.displayName=xd(e),r};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qv=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Yv=B("arrow-left",Qv);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xv=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Zv=B("arrow-right",Xv);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ey=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],ty=B("badge-check",ey);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ry=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],ny=B("book-open",ry);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sy=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],iy=B("book",sy);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oy=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]],ay=B("bookmark",oy);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ly=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],uy=B("camera",ly);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cy=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],dy=B("check",cy);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hy=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],fy=B("chevron-right",hy);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const py=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],my=B("chevron-left",py);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gy=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],vy=B("clock",gy);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yy=[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],wy=B("compass",yy);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xy=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],_y=B("crown",xy);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const by=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]],ky=B("film",by);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jy=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],Sy=B("flame",jy);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ey=[["path",{d:"m14 13-8.381 8.38a1 1 0 0 1-3.001-3l8.384-8.381",key:"pgg06f"}],["path",{d:"m16 16 6-6",key:"vzrcl6"}],["path",{d:"m21.5 10.5-8-8",key:"a17d9x"}],["path",{d:"m8 8 6-6",key:"18bi4p"}],["path",{d:"m8.5 7.5 8 8",key:"1oyaui"}]],Ny=B("gavel",Ey);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cy=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Py=B("globe",Cy);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ty=[["path",{d:"M19.414 14.414C21 12.828 22 11.5 22 9.5a5.5 5.5 0 0 0-9.591-3.676.6.6 0 0 1-.818.001A5.5 5.5 0 0 0 2 9.5c0 2.3 1.5 4 3 5.5l5.535 5.362a2 2 0 0 0 2.879.052 2.12 2.12 0 0 0-.004-3 2.124 2.124 0 1 0 3-3 2.124 2.124 0 0 0 3.004 0 2 2 0 0 0 0-2.828l-1.881-1.882a2.41 2.41 0 0 0-3.409 0l-1.71 1.71a2 2 0 0 1-2.828 0 2 2 0 0 1 0-2.828l2.823-2.762",key:"17lmqv"}]],Oy=B("heart-handshake",Ty);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ry=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],Ay=B("heart",Ry);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iy=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],$y=B("image",Iy);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ly=[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]],Uy=B("inbox",Ly);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const My=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Dy=B("info",My);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zy=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}],["path",{d:"M14 4h7",key:"3xa0d5"}],["path",{d:"M14 9h7",key:"1icrd9"}],["path",{d:"M14 15h7",key:"1mj8o2"}],["path",{d:"M14 20h7",key:"11slyb"}]],By=B("layout-list",zy);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fy=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],Vy=B("lightbulb",Fy);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qy=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Hy=B("lock",qy);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wy=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Ky=B("log-out",Wy);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gy=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Jy=B("mail",Gy);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qy=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],Yy=B("maximize-2",Qy);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xy=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],Zy=B("message-circle",Xy);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ew=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],tw=B("message-square",ew);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rw=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M16.95 16.95A7 7 0 0 1 5 12v-2",key:"cqa7eg"}],["path",{d:"M18.89 13.23A7 7 0 0 0 19 12v-2",key:"16hl24"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}]],nw=B("mic-off",rw);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sw=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],iw=B("mic",sw);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ow=[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]],aw=B("minimize-2",ow);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lw=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],uw=B("music",lw);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cw=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],dw=B("pen",cw);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hw=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],fw=B("play",hw);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pw=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],mw=B("plus",pw);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gw=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],vw=B("quote",gw);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yw=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],ww=B("save",yw);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xw=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],_w=B("search",xw);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bw=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],kw=B("send",bw);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jw=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Sw=B("shield-check",jw);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ew=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Nw=B("shield",Ew);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cw=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Pw=B("trash-2",Cw);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tw=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Ow=B("user-check",Tw);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rw=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Aw=B("user-plus",Rw);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iw=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],$w=B("user",Iw);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lw=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Uw=B("users",Lw);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mw=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Dw=B("x",Mw);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zw=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Bw=B("zap",zw),Lt=({className:e})=>a.jsx(Uw,{className:e}),js=({className:e})=>a.jsx(Zy,{className:e}),Tu=({className:e})=>a.jsx(Sw,{className:e}),jt=({className:e})=>a.jsx(Bw,{className:e}),Oi=({className:e})=>a.jsx(ny,{className:e}),Ss=({className:e})=>a.jsx(Oy,{className:e}),Pn=({className:e})=>a.jsx(Dw,{className:e}),Ou=({className:e})=>a.jsx(kw,{className:e}),Fw=({className:e})=>a.jsx(dw,{className:e}),Vw=({className:e})=>a.jsx(Ky,{className:e}),qw=({className:e})=>a.jsx(uy,{className:e}),Tn=({className:e})=>a.jsx(dy,{className:e}),Hw=({className:e})=>a.jsx(ww,{className:e}),is=({className:e})=>a.jsx(mw,{className:e}),_d=({className:e})=>a.jsx(Py,{className:e}),hp=({className:e})=>a.jsx(Aw,{className:e}),Ww=({className:e})=>a.jsx($y,{className:e}),Es=({className:e})=>a.jsx(Pw,{className:e}),ml=({className:e})=>a.jsx(Ny,{className:e}),fp=({className:e})=>a.jsx(vw,{className:e}),Kw=({className:e})=>a.jsx(Hy,{className:e}),Gw=({className:e})=>a.jsx(Jy,{className:e}),bd=({className:e})=>a.jsx(Sy,{className:e}),pp=({className:e})=>a.jsx(iw,{className:e}),Jw=({className:e})=>a.jsx(fw,{className:e}),Qw=({className:e})=>a.jsx(wy,{className:e}),Yw=({className:e})=>a.jsx(By,{className:e}),mp=({className:e})=>a.jsx(Zv,{className:e}),kd=({className:e})=>a.jsx(Yv,{className:e}),os=({className:e})=>a.jsx(Ow,{className:e}),Xw=({className:e})=>a.jsx(Nw,{className:e}),Zw=({className:e})=>a.jsx(tw,{className:e}),oo=({className:e})=>a.jsx(Uy,{className:e}),ex=({className:e})=>a.jsx(Dy,{className:e}),tx=({className:e})=>a.jsx(my,{className:e}),rx=({className:e})=>a.jsx(fy,{className:e}),gl=({className:e})=>a.jsx(ay,{className:e}),ao=({className:e})=>a.jsx(_w,{className:e}),li=({className:e})=>a.jsx(iy,{className:e}),jd=({className:e})=>a.jsx(ky,{className:e}),Sd=({className:e})=>a.jsx(uw,{className:e}),nx=({className:e})=>a.jsx(Yy,{className:e}),sx=({className:e})=>a.jsx(aw,{className:e}),vl=({className:e})=>a.jsx(vy,{className:e}),ix=({className:e})=>a.jsx(nw,{className:e}),ox=({className:e})=>a.jsx($w,{className:e}),Rr=({className:e})=>a.jsx(ty,{className:e}),Ar=({className:e})=>a.jsx(_y,{className:e}),Ed=({className:e})=>a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[a.jsx("path",{d:"m19 7.8-2.5-2.5"}),a.jsx("path",{d:"m13.2 12.8-2.5-2.5"}),a.jsx("path",{d:"M19.8 12.1c.9.2 1.9-.3 2.1-1.2.2-.9-.3-1.9-1.2-2.1l-1.3-.3c-1.3-.4-2.8-.2-4.1.4l-.5.3c-.6.3-1 .9-1.2 1.5l-.2.9c-.2.9.3 1.9 1.2 2.1l5.2 1.4v-.1Z"}),a.jsx("path",{d:"M6.3 13.9c-.9-.2-1.9.3-2.1 1.2-.2.9.3 1.9 1.2 2.1l1.3.3c1.3.4 2.8.2 4.1-.4l.5-.3c.6-.3 1-.9 1.2-1.5l.2-.9c.2-.9-.3-1.9-1.2-2.1L6.3 13.9v.1Z"}),a.jsx("path",{d:"M11 4a5 5 0 0 0-4.8 6.4L2.8 11.2a2.3 2.3 0 0 0 .5 4.3l1.8.4a7 7 0 0 0 8.1 3.5l2.2-.5a2.3 2.3 0 0 0 1.2-4l-.9-3.2A5 5 0 0 0 11 4Z"})]}),yl=({className:e})=>a.jsx(Vy,{className:e}),Nd=({className:e})=>a.jsx(Ay,{className:e}),ax=({user:e,children:t,currentView:r,onNavigate:n,onOpenPing:s,onTriggerPost:i,onOpenSearch:o,unreadPingCount:l=0})=>{const[u,c]=T.useState(!1),[d,p]=T.useState("");T.useEffect(()=>{p(cp())},[]);const h=({view:_,label:g,icon:f})=>a.jsxs("button",{onClick:()=>{n(_)},className:`flex items-center w-full p-3 rounded-xl transition-all duration-200 relative group ${r===_?"bg-pulse-vitality text-pulse-dark font-bold shadow-lg shadow-yellow-500/20":"text-slate-400 hover:bg-pulse-light hover:text-slate-100"} ${u?"justify-center":"justify-start space-x-3"}`,title:u?g:"",children:[a.jsx(f,{className:"w-5 h-5 flex-shrink-0"}),!u&&a.jsx("span",{className:"truncate",children:g}),_==="INBOX"&&l>0&&a.jsx("div",{className:`absolute ${u?"-top-1 -right-1":"right-3 top-1/2 -translate-y-1/2"} flex items-center justify-center rounded-full ${r==="INBOX"?"bg-pulse-dark text-pulse-vitality":"bg-pulse-vitality text-pulse-dark"} min-w-[20px] h-5 px-1.5 z-10 shadow-sm`,children:a.jsx("span",{className:"text-[10px] font-extrabold",children:l})})]}),m=({view:_,icon:g,hasBadge:f,badgeCount:v})=>{const x=r===_;return a.jsxs("button",{onClick:()=>n(_),className:`flex flex-col items-center justify-center w-full py-1 relative ${x?"text-pulse-vitality":"text-slate-500"}`,children:[a.jsx("div",{className:`p-1.5 rounded-xl transition-all ${x?"bg-pulse-vitality/10":""}`,children:a.jsx(g,{className:`w-6 h-6 ${x?"stroke-[2.5px]":"stroke-2"}`})}),f&&v&&v>0&&a.jsx("span",{className:"absolute top-1 right-2 w-2 h-2 bg-pulse-vitality rounded-full ring-2 ring-pulse-base"})]})},w=(()=>{if(!e.reactionStats)return"border-pulse-vitality";const{I:_,P:g,A:f,T:v}=e.reactionStats,x=Math.max(_,g,f,v);return x===0?"border-pulse-vitality":x===_?"border-purple-400":x===g?"border-blue-400":x===f?"border-orange-400":x===v?"border-pink-400":"border-pulse-vitality"})();return a.jsxs("div",{className:"min-h-screen bg-pulse-dark flex flex-col md:flex-row",children:[a.jsxs("header",{className:"md:hidden bg-pulse-base/90 backdrop-blur-md border-b border-slate-800 px-4 py-3 flex justify-between items-center sticky top-0 z-30 w-full shrink-0",children:[a.jsxs("div",{className:"flex items-center space-x-2",onClick:()=>n("HOME"),children:[a.jsx("div",{className:"w-8 h-8 bg-pulse-vitality rounded-full flex items-center justify-center shadow-sm",children:a.jsx(jt,{className:"text-pulse-dark w-5 h-5"})}),a.jsxs("h1",{className:"text-lg font-bold text-white tracking-tight",children:["PULSE",a.jsx("span",{className:"text-pulse-vitality",children:"OUT"})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("button",{onClick:o,className:"p-2 text-slate-400 hover:text-white",children:a.jsx(ao,{className:"w-5 h-5"})}),a.jsxs("div",{className:"flex flex-col items-end",children:[a.jsx("span",{className:"text-[10px] text-slate-500 font-bold uppercase tracking-wider",children:"Score"}),a.jsx("span",{className:`text-xs font-bold ${e.pulseScore>100?"text-emerald-400":"text-white"}`,children:e.pulseScore})]}),a.jsxs("div",{className:`w-8 h-8 rounded-full border-2 ${w} p-[1px] relative`,children:[a.jsx("img",{src:e.avatar,alt:"User",className:"w-full h-full rounded-full object-cover"}),e.isFounder?a.jsx("div",{className:"absolute -bottom-1 -right-1 bg-pulse-base rounded-full p-0.5",children:a.jsx(Ar,{className:"w-3.5 h-3.5 text-yellow-500 fill-current"})}):e.isVerified&&a.jsx("div",{className:"absolute -bottom-1 -right-1 bg-pulse-base rounded-full p-0.5",children:a.jsx(Rr,{className:"w-3.5 h-3.5 text-pulse-vitality fill-current"})})]})]})]}),a.jsxs("nav",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-pulse-base border-t border-slate-800 z-50 px-2 pb-safe-area pt-2 flex justify-between items-center h-16 safe-area-pb",children:[a.jsx(m,{view:"HOME",icon:jt}),a.jsx(m,{view:"POCKETS",icon:Lt}),a.jsx("div",{className:"relative -top-5",children:a.jsx("button",{onClick:()=>i(""),className:"w-14 h-14 bg-pulse-vitality rounded-full flex items-center justify-center shadow-lg shadow-yellow-500/20 border-4 border-pulse-base active:scale-95 transition-transform",children:a.jsx(is,{className:"w-7 h-7 text-pulse-dark"})})}),a.jsx(m,{view:"INBOX",icon:oo,hasBadge:!0,badgeCount:l}),a.jsx(m,{view:"PROFILE",icon:os})]}),a.jsxs("aside",{className:`hidden md:flex flex-col border-r border-slate-800 h-screen sticky top-0 z-20 overflow-x-hidden bg-pulse-base transition-all duration-300 ease-in-out ${u?"w-20":"w-72"}`,children:[a.jsxs("div",{className:`p-6 flex items-center ${u?"justify-center":"justify-between"} mb-4`,children:[!u&&a.jsxs("div",{className:"flex items-center space-x-2 cursor-pointer transition-opacity duration-300",onClick:()=>n("HOME"),children:[a.jsx("div",{className:"w-8 h-8 bg-pulse-vitality rounded-full flex items-center justify-center shadow-lg shadow-yellow-500/20 flex-shrink-0",children:a.jsx(jt,{className:"text-pulse-dark w-5 h-5"})}),a.jsxs("h1",{className:"text-xl font-bold tracking-tight text-white whitespace-nowrap",children:["PULSE",a.jsx("span",{className:"text-pulse-vitality",children:"OUT"})]})]}),u&&a.jsx("div",{className:"w-8 h-8 bg-pulse-vitality rounded-full flex items-center justify-center shadow-lg shadow-yellow-500/20 flex-shrink-0 cursor-pointer",onClick:()=>c(!1),children:a.jsx(jt,{className:"text-pulse-dark w-5 h-5"})}),a.jsx("button",{onClick:()=>c(!u),className:`text-slate-500 hover:text-white transition-colors p-1 rounded-lg hover:bg-slate-800 ${u?"hidden":"block"}`,title:"Recolher Menu",children:a.jsx(tx,{className:"w-5 h-5"})})]}),u&&a.jsx("div",{className:"flex justify-center mb-6",children:a.jsx("button",{onClick:()=>c(!1),className:"p-1 text-slate-500 hover:text-white hover:bg-slate-800 rounded-lg",title:"Expandir Menu",children:a.jsx(rx,{className:"w-5 h-5"})})}),a.jsxs("nav",{className:"space-y-2 px-3 mb-8 flex-1",children:[a.jsx(h,{view:"HOME",label:"Feed Principal",icon:jt}),a.jsxs("button",{onClick:o,className:`flex items-center w-full p-3 rounded-xl transition-all duration-200 relative group text-slate-400 hover:bg-pulse-light hover:text-slate-100 ${u?"justify-center":"justify-start space-x-3"}`,title:"Buscar Pessoas",children:[a.jsx(ao,{className:"w-5 h-5 flex-shrink-0"}),!u&&a.jsx("span",{className:"truncate",children:"Buscar Pessoas"})]}),a.jsx(h,{view:"INBOX",label:"Inbox (Pings)",icon:oo}),a.jsx(h,{view:"POCKETS",label:"Meus Pockets",icon:Lt}),a.jsx(h,{view:"PROFILE",label:"Meu Perfil",icon:Tu}),e.isArbiter&&a.jsx("div",{className:`pt-2 mt-2 border-t border-slate-800 ${u?"flex justify-center":""}`,children:a.jsx(h,{view:"ARBITER",label:"Zona dos rbitros",icon:ml})})]}),a.jsx("div",{className:`px-4 mb-6 transition-opacity duration-300 ${u?"opacity-0 pointer-events-none h-0 overflow-hidden":"opacity-100"}`,children:a.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-slate-700",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2 text-pulse-vitality",children:[a.jsx(fp,{className:"w-4 h-4"}),a.jsx("span",{className:"text-xs font-bold uppercase whitespace-nowrap",children:"Reflexo (24h)"})]}),a.jsxs("p",{className:"text-sm text-slate-300 italic mb-3 line-clamp-3",children:['"',d,'"']}),a.jsx("button",{onClick:()=>i(d),className:"w-full py-2 bg-slate-700 hover:bg-slate-600 text-xs text-white font-bold rounded-lg transition-colors",children:"Responder"})]})}),a.jsx("div",{className:"mt-auto pt-4 pb-6 px-3 border-t border-slate-800",children:u?a.jsxs("div",{className:"flex flex-col items-center gap-3",children:[a.jsxs("div",{className:`p-[2px] rounded-full border-2 ${w} relative`,children:[a.jsx("img",{src:e.avatar,alt:e.name,className:"w-8 h-8 rounded-full"}),e.isFounder?a.jsx("div",{className:"absolute -bottom-1 -right-1 bg-pulse-base rounded-full p-0.5",children:a.jsx(Ar,{className:"w-3 h-3 text-yellow-500 fill-current"})}):e.isVerified&&a.jsx("div",{className:"absolute -bottom-1 -right-1 bg-pulse-base rounded-full p-0.5",children:a.jsx(Rr,{className:"w-3 h-3 text-pulse-vitality fill-current"})})]}),a.jsx("button",{onClick:s,disabled:e.dailyPingsRemaining===0,className:"p-2 bg-slate-700 hover:bg-slate-600 rounded-lg text-white disabled:opacity-50",title:`Pings: ${e.dailyPingsRemaining}`,children:a.jsx(js,{className:"w-4 h-4"})})]}):a.jsxs("div",{className:"bg-pulse-light rounded-xl p-4 border border-slate-700",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[a.jsx("div",{className:`p-[2px] rounded-full border-2 ${w}`,children:a.jsx("img",{src:e.avatar,alt:e.name,className:"w-10 h-10 rounded-full"})}),a.jsxs("div",{className:"overflow-hidden",children:[a.jsxs("p",{className:"text-sm font-semibold text-white truncate flex items-center gap-1",children:[e.name,e.isFounder?a.jsx(Ar,{className:"w-3 h-3 text-yellow-500 fill-current"}):e.isVerified&&a.jsx(Rr,{className:"w-3 h-3 text-pulse-vitality fill-current"})]}),a.jsx("p",{className:"text-xs text-slate-400 truncate",children:e.handle})]})]}),a.jsxs("div",{className:"mb-3",children:[a.jsxs("div",{className:"flex justify-between items-center mb-1",children:[a.jsx("span",{className:"text-xs text-slate-400 uppercase font-bold",children:"PULSE Score"}),a.jsxs("span",{className:"text-xs text-pulse-vitality font-bold",children:[e.pulseScore,"/150"]})]}),a.jsx("div",{className:"w-full bg-slate-800 rounded-full h-1.5 overflow-hidden",children:a.jsx("div",{className:"bg-gradient-to-r from-pulse-vitality to-yellow-600 h-1.5 rounded-full",style:{width:`${e.pulseScore/150*100}%`}})})]}),a.jsxs("button",{onClick:s,disabled:e.dailyPingsRemaining===0,className:"w-full bg-slate-700 hover:bg-slate-600 disabled:opacity-50 text-white text-xs py-2 px-3 rounded-lg flex items-center justify-center gap-2 transition-colors",children:[a.jsx(js,{className:"w-3 h-3"}),a.jsxs("span",{children:["PINGS: ",e.dailyPingsRemaining,"/5"]})]})]})})]}),a.jsx("main",{className:"flex-1 min-w-0 transition-all duration-300 pb-20 md:pb-0",children:a.jsx("div",{className:"max-w-2xl mx-auto p-4 md:p-8",children:t})})]})},ui=({post:e,isCurrentUser:t,isFollowing:r,isBookmarked:n=!1,onToggleFollow:s,onToggleBookmark:i,onReact:o,onComment:l,onDelete:u,onDeleteComment:c})=>{const[d,p]=T.useState(!1),[h,m]=T.useState(!1),[y,w]=T.useState(""),[_,g]=T.useState(!1),[f,v]=T.useState(!1),x=M=>{if(M.preventDefault(),f){l("Mensagem de voz (0:15)",!0),v(!1);return}y.trim()&&(l(y,!1),w(""))},E=()=>{v(!f),w("")},S=({type:M,count:$,icon:G,label:H,colorClass:Y,activeClass:be})=>{const Ie=e.currentUserReaction===M;return a.jsxs("button",{onClick:()=>o(M),className:`group flex items-center space-x-1.5 px-3 py-1.5 rounded-full transition-all duration-200 border 
          ${Ie?`${be} border-current bg-opacity-10`:"border-transparent hover:bg-slate-800"}`,title:H,children:[a.jsx(G,{className:`w-4 h-4 ${Ie?"text-current":Y}`}),a.jsx("span",{className:`text-xs font-medium ${Ie?"text-current font-bold":"text-slate-500 group-hover:text-white"}`,children:$})]})},P=()=>{if(!e.userDominantReaction)return"border-pulse-vitality";switch(e.userDominantReaction){case"I":return"border-purple-400";case"P":return"border-blue-400";case"A":return"border-orange-400";case"T":return"border-pink-400";default:return"border-pulse-vitality"}},O=e.isTimeCapsule&&e.scheduledFor&&new Date(e.scheduledFor)>new Date;return a.jsxs("div",{className:`
        bg-pulse-base border transition-all duration-500 relative group/card
        ${e.isSlowMode?"border-cyan-500/30":O?"border-indigo-500/30 border-dashed":"border-slate-800"} 
        ${_?"fixed inset-0 z-50 p-8 md:p-16 overflow-y-auto m-0 rounded-none":"rounded-2xl p-6 mb-6 shadow-sm hover:shadow-md"}
    `,children:[_&&a.jsx("button",{onClick:()=>g(!1),className:"fixed top-6 right-6 p-2 bg-slate-800 rounded-full text-white hover:bg-slate-700 z-50",children:a.jsx(sx,{className:"w-6 h-6"})}),e.isSlowMode&&!O&&a.jsx("div",{className:"absolute inset-0 overflow-hidden rounded-2xl pointer-events-none",children:a.jsx("div",{className:"absolute top-0 right-0 p-3 opacity-10",children:a.jsx(Ed,{className:"w-32 h-32 text-cyan-400"})})}),a.jsxs("div",{className:`flex justify-between items-start mb-4 relative z-10 ${_?"max-w-3xl mx-auto":""}`,children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:`p-[2px] rounded-full border-2 ${P()}`,children:a.jsx("img",{src:e.userAvatar,alt:e.userName,className:"w-10 h-10 rounded-full object-cover"})}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("h3",{className:"font-semibold text-slate-200 text-sm flex items-center gap-1",children:[e.userName,e.userIsFounder?a.jsx(Ar,{className:"w-4 h-4 text-yellow-500 fill-current"}):e.userIsVerified&&a.jsx(Rr,{className:"w-4 h-4 text-pulse-vitality fill-current"}),e.coAuthorName&&a.jsxs("span",{className:"text-indigo-400 flex items-center gap-1",children:[a.jsx("span",{className:"text-slate-500",children:"&"})," ",e.coAuthorName]})]}),!t&&a.jsx("button",{onClick:s,className:`flex items-center gap-1 px-2 py-0.5 rounded-md transition-all text-[10px] font-bold uppercase tracking-wider ${r?"text-emerald-400 bg-emerald-900/20 border border-emerald-500/30":"text-slate-500 hover:text-pulse-vitality bg-slate-800 border border-slate-700 hover:border-pulse-vitality"}`,title:r?"Desconectar":"Sintonizar nas ideias deste usurio",children:r?a.jsx(a.Fragment,{children:a.jsx(Tn,{className:"w-3 h-3"})}):a.jsx(a.Fragment,{children:a.jsx(hp,{className:"w-3 h-3"})})})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:`text-xs font-medium px-2 py-0.5 rounded-md ${e.pocketId?"text-pulse-vitality bg-pulse-vitality/10":"text-slate-400 bg-slate-800"}`,children:e.pocketName||"Global"}),a.jsxs("span",{className:"text-xs text-slate-500",children:[" ",e.timestamp]})]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[!_&&!O&&a.jsx("button",{onClick:()=>g(!0),className:"p-2 text-slate-600 hover:text-pulse-vitality hover:bg-slate-800 rounded-lg",title:"Leitura Imersiva",children:a.jsx(nx,{className:"w-4 h-4"})}),O&&a.jsxs("div",{className:"flex items-center space-x-1 text-indigo-400 bg-indigo-900/20 border border-indigo-500/30 px-2 py-1 rounded-lg",children:[a.jsx(vl,{className:"w-4 h-4"}),a.jsx("span",{className:"text-xs font-bold uppercase tracking-wider hidden sm:inline",children:"Locked"})]}),e.isSlowMode&&a.jsxs("div",{className:"flex items-center space-x-1 text-cyan-400 bg-cyan-900/20 border border-cyan-500/30 px-2 py-1 rounded-lg",title:"Slow-Motion: 1 resposta a cada 30min",children:[a.jsx(Ed,{className:"w-4 h-4"}),a.jsx("span",{className:"text-xs font-bold uppercase tracking-wider hidden sm:inline",children:"Slow"})]}),e.depthBadge&&a.jsxs("div",{className:"flex items-center space-x-1 text-emerald-400 bg-emerald-400/10 px-2 py-1 rounded-lg",title:"Selo de Profundidade",children:[a.jsx(Oi,{className:"w-4 h-4"}),a.jsx("span",{className:"text-xs font-bold uppercase tracking-wider hidden sm:inline",children:"Depth"})]}),i&&a.jsx("button",{onClick:i,className:`p-2 rounded-lg transition-colors ${n?"text-pulse-vitality bg-yellow-900/10":"text-slate-600 hover:text-pulse-vitality hover:bg-slate-800"}`,title:n?"Remover Eco":"Salvar Eco",children:a.jsx(gl,{className:`w-4 h-4 ${n?"fill-current":""}`})}),t&&u&&a.jsx("button",{onClick:()=>{window.confirm("Tem certeza que deseja excluir este post?")&&u()},className:"p-2 text-slate-600 hover:text-red-400 hover:bg-red-900/20 rounded-lg transition-colors ml-2",title:"Excluir Post",children:a.jsx(Es,{className:"w-4 h-4"})})]})]}),O?a.jsxs("div",{className:"py-8 text-center relative z-10",children:[a.jsx("div",{className:"w-16 h-16 bg-slate-800 rounded-full flex items-center justify-center mx-auto mb-4 animate-pulse",children:a.jsx(vl,{className:"w-8 h-8 text-slate-500"})}),a.jsx("h3",{className:"text-white font-bold text-lg mb-1",children:"Cpsula do Tempo"}),a.jsx("p",{className:"text-slate-400 text-sm",children:"Este contedo est programado para ser revelado em:"}),a.jsx("p",{className:"text-indigo-400 font-mono mt-2 font-bold",children:new Date(e.scheduledFor||"").toLocaleDateString()})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:`${_?"max-w-3xl mx-auto":""}`,children:[a.jsx("p",{className:`text-slate-300 leading-relaxed mb-6 whitespace-pre-wrap relative z-10 ${_?"text-xl md:text-2xl leading-loose font-serif":""}`,children:e.content}),e.imageUrl&&a.jsx("div",{className:"mb-6 rounded-xl overflow-hidden border border-slate-800 relative z-10",children:a.jsx("img",{src:e.imageUrl,alt:"Anexo do post",className:"w-full h-auto object-cover max-h-[500px]"})})]}),a.jsxs("div",{className:`flex items-center justify-between pt-4 border-t border-slate-800/50 relative z-10 ${_?"max-w-3xl mx-auto w-full":""}`,children:[a.jsxs("div",{className:"relative",children:[h&&a.jsxs("div",{className:"absolute bottom-full left-0 mb-3 z-50 w-72 bg-slate-900 border border-slate-700 p-4 rounded-xl shadow-2xl animate-fade-in-up",children:[a.jsxs("div",{className:"flex justify-between items-center mb-3",children:[a.jsx("h4",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider",children:"Guia de Sentimentos"}),a.jsx("button",{onClick:()=>m(!1),children:a.jsx("span",{className:"text-xs text-slate-500 hover:text-white",children:""})})]}),a.jsxs("ul",{className:"space-y-3",children:[a.jsxs("li",{className:"flex items-start gap-2 text-xs text-slate-300",children:[a.jsx(yl,{className:"w-4 h-4 text-purple-400 flex-shrink-0"}),a.jsxs("span",{children:[a.jsx("span",{className:"text-purple-300 font-bold",children:"Inspirou:"})," Clareou a mente, trouxe novas ideias."]})]}),a.jsxs("li",{className:"flex items-start gap-2 text-xs text-slate-300",children:[a.jsx(Oi,{className:"w-4 h-4 text-blue-400 flex-shrink-0"}),a.jsxs("span",{children:[a.jsx("span",{className:"text-blue-300 font-bold",children:"Profundo:"})," Contedo denso, gerou reflexo."]})]}),a.jsxs("li",{className:"flex items-start gap-2 text-xs text-slate-300",children:[a.jsx(Ss,{className:"w-4 h-4 text-orange-400 flex-shrink-0"}),a.jsxs("span",{children:[a.jsx("span",{className:"text-orange-300 font-bold",children:"Apoio:"}),' Solidariedade, "estou contigo".']})]}),a.jsxs("li",{className:"flex items-start gap-2 text-xs text-slate-300",children:[a.jsx(Nd,{className:"w-4 h-4 text-pink-400 flex-shrink-0"}),a.jsxs("span",{children:[a.jsx("span",{className:"text-pink-300 font-bold",children:"Grato:"})," Reconhecimento, tocou o corao."]})]})]})]}),a.jsxs("div",{className:"flex flex-wrap gap-1 items-center",children:[a.jsx(S,{type:"I",count:e.reactions.I,icon:yl,label:"Inspirou",colorClass:"text-purple-400",activeClass:"bg-purple-500/20 text-purple-400 border-purple-500"}),a.jsx(S,{type:"P",count:e.reactions.P,icon:Oi,label:"Profundo",colorClass:"text-blue-400",activeClass:"bg-blue-500/20 text-blue-400 border-blue-500"}),a.jsx(S,{type:"A",count:e.reactions.A,icon:Ss,label:"Apoio",colorClass:"text-orange-400",activeClass:"bg-orange-500/20 text-orange-400 border-orange-500"}),a.jsx(S,{type:"T",count:e.reactions.T,icon:Nd,label:"Grato",colorClass:"text-pink-400",activeClass:"bg-pink-500/20 text-pink-400 border-pink-500"}),a.jsx("button",{onClick:M=>{M.stopPropagation(),m(!h)},className:`ml-1 p-1.5 rounded-full transition-colors ${h?"bg-slate-800 text-pulse-vitality":"text-slate-600 hover:text-slate-400 hover:bg-slate-800/50"}`,title:"Entenda as reaes",children:a.jsx(ex,{className:"w-3.5 h-3.5"})})]})]}),a.jsxs("button",{onClick:()=>p(!d),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-full transition-colors ${d?"bg-slate-800 text-pulse-vitality":"text-slate-500 hover:text-slate-300 hover:bg-slate-800/50"}`,children:[a.jsx(Zw,{className:"w-4 h-4"}),a.jsx("span",{className:"text-xs font-bold",children:e.comments?e.comments.length:0})]})]}),e.isSlowMode&&a.jsx("div",{className:`mt-4 bg-cyan-950/30 border border-cyan-900/50 rounded-lg p-3 flex items-center justify-between text-xs text-cyan-300 relative z-10 ${_?"max-w-3xl mx-auto w-full":""}`,children:a.jsxs("span",{children:[" ",a.jsx("b",{children:"Modo Lento Ativo:"})," Escreva com inteno. Voc s pode responder novamente em 30min."]})}),d&&a.jsxs("div",{className:`mt-6 pt-4 border-t border-slate-800 animate-fade-in relative z-10 ${_?"max-w-3xl mx-auto w-full":""}`,children:[a.jsx("div",{className:"space-y-4 mb-4",children:e.comments&&e.comments.length>0?e.comments.map(M=>a.jsxs("div",{className:"flex gap-3 group/comment",children:[a.jsx("img",{src:M.userAvatar,alt:M.userName,className:"w-8 h-8 rounded-full object-cover flex-shrink-0"}),a.jsxs("div",{className:`bg-slate-900/50 p-3 rounded-tr-xl rounded-br-xl rounded-bl-xl border border-slate-800/50 flex-1 relative ${M.isVoice?"border-pulse-vitality/30":""}`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("span",{className:"text-xs font-bold text-slate-200 flex items-center gap-1",children:[M.userName,M.userIsFounder?a.jsx(Ar,{className:"w-3 h-3 text-yellow-500 fill-current"}):M.userIsVerified&&a.jsx(Rr,{className:"w-3 h-3 text-pulse-vitality"})]}),a.jsx("span",{className:"text-[10px] text-slate-500",children:M.timestamp})]}),c&&a.jsx("button",{onClick:()=>{window.confirm("Apagar comentrio?")&&c(M.id)},className:"opacity-0 group-hover/comment:opacity-100 text-slate-600 hover:text-red-400 p-1 transition-all",children:a.jsx(Es,{className:"w-3 h-3"})})]}),M.isVoice?a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("button",{className:"w-8 h-8 rounded-full bg-pulse-vitality text-pulse-dark flex items-center justify-center hover:bg-yellow-400 transition-colors",children:a.jsx(Jw,{className:"w-4 h-4 ml-0.5"})}),a.jsx("div",{className:"flex-1 h-8 flex items-center gap-1 opacity-50",children:[...Array(12)].map(($,G)=>a.jsx("div",{className:"w-1 bg-slate-400 rounded-full",style:{height:`${Math.random()*20+5}px`}},G))}),a.jsx("span",{className:"text-xs font-mono text-slate-400",children:"0:15"})]}):a.jsx("p",{className:"text-sm text-slate-300",children:M.content})]})]},M.id)):a.jsx("p",{className:"text-center text-xs text-slate-500 italic py-2",children:"Seja o primeiro a aprofundar essa conversa."})}),a.jsxs("form",{onSubmit:x,className:"flex gap-2 items-end",children:[a.jsxs("div",{className:`flex-1 bg-slate-900 border ${f?"border-red-500/50 bg-red-900/10":"border-slate-700"} rounded-xl overflow-hidden focus-within:border-slate-500 transition-colors flex items-center pr-2`,children:[f?a.jsxs("div",{className:"w-full p-3 text-sm text-red-300 flex items-center gap-2 animate-pulse",children:[a.jsx("span",{className:"w-2 h-2 bg-red-500 rounded-full"})," Gravando resposta de voz..."]}):a.jsx("textarea",{value:y,onChange:M=>w(M.target.value),placeholder:"Adicione sua perspectiva...",className:"w-full bg-transparent p-3 text-sm text-white placeholder-slate-500 focus:outline-none resize-none",rows:1,style:{minHeight:"44px"}}),a.jsx("button",{type:"button",onClick:E,className:`p-2 rounded-full transition-colors ${f?"text-red-400 bg-red-900/20":"text-slate-500 hover:text-white"}`,title:"Gravar Voz",children:f?a.jsx(ix,{className:"w-4 h-4"}):a.jsx(pp,{className:"w-4 h-4"})})]}),a.jsx("button",{type:"submit",disabled:!f&&!y.trim(),className:`p-3 rounded-xl transition-colors ${f?"bg-red-500 hover:bg-red-400 text-white":"bg-pulse-vitality text-pulse-dark hover:bg-yellow-400 disabled:opacity-50 disabled:cursor-not-allowed"}`,children:a.jsx(Ou,{className:"w-4 h-4"})})]})]})]})]})};var Ru={},lo={},wl=function(e,t){return wl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},wl(e,t)};function gp(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");wl(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var uo=function(){return uo=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},uo.apply(this,arguments)};function On(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function vp(e,t,r,n){var s=arguments.length,i=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,r,n);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(i=(s<3?o(i):s>3?o(t,r,i):o(t,r))||i);return s>3&&i&&Object.defineProperty(t,r,i),i}function yp(e,t){return function(r,n){t(r,n,e)}}function wp(e,t,r,n,s,i){function o(g){if(g!==void 0&&typeof g!="function")throw new TypeError("Function expected");return g}for(var l=n.kind,u=l==="getter"?"get":l==="setter"?"set":"value",c=!t&&e?n.static?e:e.prototype:null,d=t||(c?Object.getOwnPropertyDescriptor(c,n.name):{}),p,h=!1,m=r.length-1;m>=0;m--){var y={};for(var w in n)y[w]=w==="access"?{}:n[w];for(var w in n.access)y.access[w]=n.access[w];y.addInitializer=function(g){if(h)throw new TypeError("Cannot add initializers after decoration has completed");i.push(o(g||null))};var _=(0,r[m])(l==="accessor"?{get:d.get,set:d.set}:d[u],y);if(l==="accessor"){if(_===void 0)continue;if(_===null||typeof _!="object")throw new TypeError("Object expected");(p=o(_.get))&&(d.get=p),(p=o(_.set))&&(d.set=p),(p=o(_.init))&&s.unshift(p)}else(p=o(_))&&(l==="field"?s.unshift(p):d[u]=p)}c&&Object.defineProperty(c,n.name,d),h=!0}function xp(e,t,r){for(var n=arguments.length>2,s=0;s<t.length;s++)r=n?t[s].call(e,r):t[s].call(e);return n?r:void 0}function _p(e){return typeof e=="symbol"?e:"".concat(e)}function bp(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function kp(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function L(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{c(n.next(d))}catch(p){o(p)}}function u(d){try{c(n.throw(d))}catch(p){o(p)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((n=n.apply(e,t||[])).next())})}function jp(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=l(0),o.throw=l(1),o.return=l(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(c){return function(d){return u([c,d])}}function u(c){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(r=0)),r;)try{if(n=1,s&&(i=c[0]&2?s.return:c[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,c[1])).done)return i;switch(s=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,s=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){r.label=c[1];break}if(c[0]===6&&r.label<i[1]){r.label=i[1],i=c;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(c);break}i[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(d){c=[6,d],s=0}finally{n=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var $o=Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};function Sp(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&$o(t,e,r)}function co(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Au(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),s,i=[],o;try{for(;(t===void 0||t-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(l){o={error:l}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i}function Ep(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Au(arguments[t]));return e}function Np(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),s=0,t=0;t<r;t++)for(var i=arguments[t],o=0,l=i.length;o<l;o++,s++)n[s]=i[o];return n}function Cp(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function jn(e){return this instanceof jn?(this.v=e,this):new jn(e)}function Pp(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",o),s[Symbol.asyncIterator]=function(){return this},s;function o(m){return function(y){return Promise.resolve(y).then(m,p)}}function l(m,y){n[m]&&(s[m]=function(w){return new Promise(function(_,g){i.push([m,w,_,g])>1||u(m,w)})},y&&(s[m]=y(s[m])))}function u(m,y){try{c(n[m](y))}catch(w){h(i[0][3],w)}}function c(m){m.value instanceof jn?Promise.resolve(m.value.v).then(d,p):h(i[0][2],m)}function d(m){u("next",m)}function p(m){u("throw",m)}function h(m,y){m(y),i.shift(),i.length&&u(i[0][0],i[0][1])}}function Tp(e){var t,r;return t={},n("next"),n("throw",function(s){throw s}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(s,i){t[s]=e[s]?function(o){return(r=!r)?{value:jn(e[s](o)),done:!1}:i?i(o):o}:i}}function Op(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof co=="function"?co(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(o){return new Promise(function(l,u){o=e[i](o),s(l,u,o.done,o.value)})}}function s(i,o,l,u){Promise.resolve(u).then(function(c){i({value:c,done:l})},o)}}function Rp(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var lx=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},xl=function(e){return xl=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},xl(e)};function Ap(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=xl(e),n=0;n<r.length;n++)r[n]!=="default"&&$o(t,e,r[n]);return lx(t,e),t}function Ip(e){return e&&e.__esModule?e:{default:e}}function $p(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function Lp(e,t,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(e,r):s?s.value=r:t.set(e,r),r}function Up(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function Mp(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,s;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(s=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");s&&(n=function(){try{s.call(this)}catch(i){return Promise.reject(i)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var ux=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function Dp(e){function t(i){e.error=e.hasError?new ux(i,e.error,"An error was suppressed during disposal."):i,e.hasError=!0}var r,n=0;function s(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(s);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(i).then(s,function(o){return t(o),s()})}else n|=1}catch(o){t(o)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return s()}function zp(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,s,i,o){return n?t?".jsx":".js":s&&(!i||!o)?r:s+i+"."+o.toLowerCase()+"js"}):e}const cx={__extends:gp,__assign:uo,__rest:On,__decorate:vp,__param:yp,__esDecorate:wp,__runInitializers:xp,__propKey:_p,__setFunctionName:bp,__metadata:kp,__awaiter:L,__generator:jp,__createBinding:$o,__exportStar:Sp,__values:co,__read:Au,__spread:Ep,__spreadArrays:Np,__spreadArray:Cp,__await:jn,__asyncGenerator:Pp,__asyncDelegator:Tp,__asyncValues:Op,__makeTemplateObject:Rp,__importStar:Ap,__importDefault:Ip,__classPrivateFieldGet:$p,__classPrivateFieldSet:Lp,__classPrivateFieldIn:Up,__addDisposableResource:Mp,__disposeResources:Dp,__rewriteRelativeImportExtension:zp},dx=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Mp,get __assign(){return uo},__asyncDelegator:Tp,__asyncGenerator:Pp,__asyncValues:Op,__await:jn,__awaiter:L,__classPrivateFieldGet:$p,__classPrivateFieldIn:Up,__classPrivateFieldSet:Lp,__createBinding:$o,__decorate:vp,__disposeResources:Dp,__esDecorate:wp,__exportStar:Sp,__extends:gp,__generator:jp,__importDefault:Ip,__importStar:Ap,__makeTemplateObject:Rp,__metadata:kp,__param:yp,__propKey:_p,__read:Au,__rest:On,__rewriteRelativeImportExtension:zp,__runInitializers:xp,__setFunctionName:bp,__spread:Ep,__spreadArray:Cp,__spreadArrays:Np,__values:co,default:cx},Symbol.toStringTag,{value:"Module"})),hx=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);let Lo=class extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}},Bp=class extends Lo{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}},_l=class extends Lo{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}},bl=class extends Lo{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}};var ho;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(ho||(ho={}));class fx{constructor(t,{headers:r={},customFetch:n,region:s=ho.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=hx(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return L(this,arguments,void 0,function*(r,n={}){var s;let i,o;try{const{headers:l,method:u,body:c,signal:d,timeout:p}=n;let h={},{region:m}=n;m||(m=this.region);const y=new URL(`${this.url}/${r}`);m&&m!=="any"&&(h["x-region"]=m,y.searchParams.set("forceFunctionRegion",m));let w;c&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",w=c):typeof c=="string"?(h["Content-Type"]="text/plain",w=c):typeof FormData<"u"&&c instanceof FormData?w=c:(h["Content-Type"]="application/json",w=JSON.stringify(c)):w=c;let _=d;p&&(o=new AbortController,i=setTimeout(()=>o.abort(),p),d?(_=o.signal,d.addEventListener("abort",()=>o.abort())):_=o.signal);const g=yield this.fetch(y.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),l),body:w,signal:_}).catch(E=>{throw new Bp(E)}),f=g.headers.get("x-relay-error");if(f&&f==="true")throw new _l(g);if(!g.ok)throw new bl(g);let v=((s=g.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),x;return v==="application/json"?x=yield g.json():v==="application/octet-stream"||v==="application/pdf"?x=yield g.blob():v==="text/event-stream"?x=g:v==="multipart/form-data"?x=yield g.formData():x=yield g.text(),{data:x,error:null,response:g}}catch(l){return{data:null,error:l,response:l instanceof bl||l instanceof _l?l.context:void 0}}finally{i&&clearTimeout(i)}})}}const px=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return ho},FunctionsClient:fx,FunctionsError:Lo,FunctionsFetchError:Bp,FunctionsHttpError:bl,FunctionsRelayError:_l},Symbol.toStringTag,{value:"Module"})),Fp=Ps(px);var Re={};const Rn=Ps(dx);var ci={},di={},hi={},fi={},pi={},mi={},Cd;function Vp(){if(Cd)return mi;Cd=1,Object.defineProperty(mi,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return mi.default=e,mi}var Pd;function qp(){if(Pd)return pi;Pd=1,Object.defineProperty(pi,"__esModule",{value:!0});const t=Rn.__importDefault(Vp());let r=class{constructor(s){var i,o;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(i=s.shouldThrowOnError)!==null&&i!==void 0?i:!1,this.signal=s.signal,this.isMaybeSingle=(o=s.isMaybeSingle)!==null&&o!==void 0?o:!1,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,i){return this.headers=new Headers(this.headers),this.headers.set(s,i),this}then(s,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let l=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var c,d,p,h;let m=null,y=null,w=null,_=u.status,g=u.statusText;if(u.ok){if(this.method!=="HEAD"){const E=await u.text();E===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((c=this.headers.get("Accept"))===null||c===void 0)&&c.includes("application/vnd.pgrst.plan+text"))?y=E:y=JSON.parse(E))}const v=(d=this.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),x=(p=u.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");v&&x&&x.length>1&&(w=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(y)&&(y.length>1?(m={code:"PGRST116",details:`Results contain ${y.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},y=null,w=null,_=406,g="Not Acceptable"):y.length===1?y=y[0]:y=null)}else{const v=await u.text();try{m=JSON.parse(v),Array.isArray(m)&&u.status===404&&(y=[],m=null,_=200,g="OK")}catch{u.status===404&&v===""?(_=204,g="No Content"):m={message:v}}if(m&&this.isMaybeSingle&&(!((h=m==null?void 0:m.details)===null||h===void 0)&&h.includes("0 rows"))&&(m=null,_=200,g="OK"),m&&this.shouldThrowOnError)throw new t.default(m)}return{error:m,data:y,count:w,status:_,statusText:g}});return this.shouldThrowOnError||(l=l.catch(u=>{var c,d,p,h,m,y;let w="";const _=u==null?void 0:u.cause;if(_){const g=(c=_==null?void 0:_.message)!==null&&c!==void 0?c:"",f=(d=_==null?void 0:_.code)!==null&&d!==void 0?d:"";w=`${(p=u==null?void 0:u.name)!==null&&p!==void 0?p:"FetchError"}: ${u==null?void 0:u.message}`,w+=`

Caused by: ${(h=_==null?void 0:_.name)!==null&&h!==void 0?h:"Error"}: ${g}`,f&&(w+=` (${f})`),_!=null&&_.stack&&(w+=`
${_.stack}`)}else w=(m=u==null?void 0:u.stack)!==null&&m!==void 0?m:"";return{error:{message:`${(y=u==null?void 0:u.name)!==null&&y!==void 0?y:"FetchError"}: ${u==null?void 0:u.message}`,details:w,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),l.then(s,i)}returns(){return this}overrideTypes(){return this}};return pi.default=r,pi}var Td;function Hp(){if(Td)return fi;Td=1,Object.defineProperty(fi,"__esModule",{value:!0});const t=Rn.__importDefault(qp());let r=class extends t.default{select(s){let i=!1;const o=(s??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:i=!0,nullsFirst:o,foreignTable:l,referencedTable:u=l}={}){const c=u?`${u}.order`:"order",d=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${d?`${d},`:""}${s}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:i,referencedTable:o=i}={}){const l=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${s}`),this}range(s,i,{foreignTable:o,referencedTable:l=o}={}){const u=typeof l>"u"?"offset":`${l}.offset`,c=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(u,`${s}`),this.url.searchParams.set(c,`${i-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:i=!1,settings:o=!1,buffers:l=!1,wal:u=!1,format:c="text"}={}){var d;const p=[s?"analyze":null,i?"verbose":null,o?"settings":null,l?"buffers":null,u?"wal":null].filter(Boolean).join("|"),h=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${h}"; options=${p};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}};return fi.default=r,fi}var Od;function Iu(){if(Od)return hi;Od=1,Object.defineProperty(hi,"__esModule",{value:!0});const t=Rn.__importDefault(Hp()),r=new RegExp("[,()]");let n=class extends t.default{eq(i,o){return this.url.searchParams.append(i,`eq.${o}`),this}neq(i,o){return this.url.searchParams.append(i,`neq.${o}`),this}gt(i,o){return this.url.searchParams.append(i,`gt.${o}`),this}gte(i,o){return this.url.searchParams.append(i,`gte.${o}`),this}lt(i,o){return this.url.searchParams.append(i,`lt.${o}`),this}lte(i,o){return this.url.searchParams.append(i,`lte.${o}`),this}like(i,o){return this.url.searchParams.append(i,`like.${o}`),this}likeAllOf(i,o){return this.url.searchParams.append(i,`like(all).{${o.join(",")}}`),this}likeAnyOf(i,o){return this.url.searchParams.append(i,`like(any).{${o.join(",")}}`),this}ilike(i,o){return this.url.searchParams.append(i,`ilike.${o}`),this}ilikeAllOf(i,o){return this.url.searchParams.append(i,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(i,o){return this.url.searchParams.append(i,`ilike(any).{${o.join(",")}}`),this}regexMatch(i,o){return this.url.searchParams.append(i,`match.${o}`),this}regexIMatch(i,o){return this.url.searchParams.append(i,`imatch.${o}`),this}is(i,o){return this.url.searchParams.append(i,`is.${o}`),this}isDistinct(i,o){return this.url.searchParams.append(i,`isdistinct.${o}`),this}in(i,o){const l=Array.from(new Set(o)).map(u=>typeof u=="string"&&r.test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(i,`in.(${l})`),this}contains(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cs.{${o.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(o)}`),this}containedBy(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cd.{${o.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(o)}`),this}rangeGt(i,o){return this.url.searchParams.append(i,`sr.${o}`),this}rangeGte(i,o){return this.url.searchParams.append(i,`nxl.${o}`),this}rangeLt(i,o){return this.url.searchParams.append(i,`sl.${o}`),this}rangeLte(i,o){return this.url.searchParams.append(i,`nxr.${o}`),this}rangeAdjacent(i,o){return this.url.searchParams.append(i,`adj.${o}`),this}overlaps(i,o){return typeof o=="string"?this.url.searchParams.append(i,`ov.${o}`):this.url.searchParams.append(i,`ov.{${o.join(",")}}`),this}textSearch(i,o,{config:l,type:u}={}){let c="";u==="plain"?c="pl":u==="phrase"?c="ph":u==="websearch"&&(c="w");const d=l===void 0?"":`(${l})`;return this.url.searchParams.append(i,`${c}fts${d}.${o}`),this}match(i){return Object.entries(i).forEach(([o,l])=>{this.url.searchParams.append(o,`eq.${l}`)}),this}not(i,o,l){return this.url.searchParams.append(i,`not.${o}.${l}`),this}or(i,{foreignTable:o,referencedTable:l=o}={}){const u=l?`${l}.or`:"or";return this.url.searchParams.append(u,`(${i})`),this}filter(i,o,l){return this.url.searchParams.append(i,`${o}.${l}`),this}};return hi.default=n,hi}var Rd;function Wp(){if(Rd)return di;Rd=1,Object.defineProperty(di,"__esModule",{value:!0});const t=Rn.__importDefault(Iu());let r=class{constructor(s,{headers:i={},schema:o,fetch:l}){this.url=s,this.headers=new Headers(i),this.schema=o,this.fetch=l}select(s,i){const{head:o=!1,count:l}=i??{},u=o?"HEAD":"GET";let c=!1;const d=(s??"*").split("").map(p=>/\s/.test(p)&&!c?"":(p==='"'&&(c=!c),p)).join("");return this.url.searchParams.set("select",d),l&&this.headers.append("Prefer",`count=${l}`),new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:i,defaultToNull:o=!0}={}){var l;const u="POST";if(i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const c=s.reduce((d,p)=>d.concat(Object.keys(p)),[]);if(c.length>0){const d=[...new Set(c)].map(p=>`"${p}"`);this.url.searchParams.set("columns",d.join(","))}}return new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(s,{onConflict:i,ignoreDuplicates:o=!1,count:l,defaultToNull:u=!0}={}){var c;const d="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),l&&this.headers.append("Prefer",`count=${l}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const p=s.reduce((h,m)=>h.concat(Object.keys(m)),[]);if(p.length>0){const h=[...new Set(p)].map(m=>`"${m}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}update(s,{count:i}={}){var o;const l="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:s}={}){var i;const o="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}};return di.default=r,di}var Ad;function mx(){if(Ad)return ci;Ad=1,Object.defineProperty(ci,"__esModule",{value:!0});const e=Rn,t=e.__importDefault(Wp()),r=e.__importDefault(Iu());let n=class Kp{constructor(i,{headers:o={},schema:l,fetch:u}={}){this.url=i,this.headers=new Headers(o),this.schemaName=l,this.fetch=u}from(i){if(!i||typeof i!="string"||i.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const o=new URL(`${this.url}/${i}`);return new t.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new Kp(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,o={},{head:l=!1,get:u=!1,count:c}={}){var d;let p;const h=new URL(`${this.url}/rpc/${i}`);let m;l||u?(p=l?"HEAD":"GET",Object.entries(o).filter(([w,_])=>_!==void 0).map(([w,_])=>[w,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([w,_])=>{h.searchParams.append(w,_)})):(p="POST",m=o);const y=new Headers(this.headers);return c&&y.set("Prefer",`count=${c}`),new r.default({method:p,url:h,headers:y,schema:this.schemaName,body:m,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}};return ci.default=n,ci}Object.defineProperty(Re,"__esModule",{value:!0});Re.PostgrestError=Re.PostgrestBuilder=Re.PostgrestTransformBuilder=Re.PostgrestFilterBuilder=Re.PostgrestQueryBuilder=Re.PostgrestClient=void 0;const An=Rn,Gp=An.__importDefault(mx());Re.PostgrestClient=Gp.default;const Jp=An.__importDefault(Wp());Re.PostgrestQueryBuilder=Jp.default;const Qp=An.__importDefault(Iu());Re.PostgrestFilterBuilder=Qp.default;const Yp=An.__importDefault(Hp());Re.PostgrestTransformBuilder=Yp.default;const Xp=An.__importDefault(qp());Re.PostgrestBuilder=Xp.default;const Zp=An.__importDefault(Vp());Re.PostgrestError=Zp.default;Re.default={PostgrestClient:Gp.default,PostgrestQueryBuilder:Jp.default,PostgrestFilterBuilder:Qp.default,PostgrestTransformBuilder:Yp.default,PostgrestBuilder:Xp.default,PostgrestError:Zp.default};class em{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const gx="2.86.2",vx=`realtime-js/${gx}`,tm="1.0.0",yx="2.0.0",Id=tm,kl=1e4,wx=1e3,xx=100;var jr;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(jr||(jr={}));var pe;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(pe||(pe={}));var ft;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(ft||(ft={}));var jl;(function(e){e.websocket="websocket"})(jl||(jl={}));var Sr;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Sr||(Sr={}));class _x{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},o=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,r,n){var s,i;const o=t.topic,l=(s=t.ref)!==null&&s!==void 0?s:"",u=(i=t.join_ref)!==null&&i!==void 0?i:"",c=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},p=Object.keys(d).length===0?"":JSON.stringify(d);if(u.length>255)throw new Error(`joinRef length ${u.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`userEvent length ${c.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`metadata length ${p.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+u.length+l.length+o.length+c.length+p.length,m=new ArrayBuffer(this.HEADER_LENGTH+h);let y=new DataView(m),w=0;y.setUint8(w++,this.KINDS.userBroadcastPush),y.setUint8(w++,u.length),y.setUint8(w++,l.length),y.setUint8(w++,o.length),y.setUint8(w++,c.length),y.setUint8(w++,p.length),y.setUint8(w++,r),Array.from(u,g=>y.setUint8(w++,g.charCodeAt(0))),Array.from(l,g=>y.setUint8(w++,g.charCodeAt(0))),Array.from(o,g=>y.setUint8(w++,g.charCodeAt(0))),Array.from(c,g=>y.setUint8(w++,g.charCodeAt(0))),Array.from(p,g=>y.setUint8(w++,g.charCodeAt(0)));var _=new Uint8Array(m.byteLength+n.byteLength);return _.set(new Uint8Array(m),0),_.set(new Uint8Array(n),m.byteLength),_.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[s,i,o,l,u]=n;return r({join_ref:s,ref:i,topic:o,event:l,payload:u})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,s)}}_decodeUserBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2),o=r.getUint8(3),l=r.getUint8(4);let u=this.HEADER_LENGTH+4;const c=n.decode(t.slice(u,u+s));u=u+s;const d=n.decode(t.slice(u,u+i));u=u+i;const p=n.decode(t.slice(u,u+o));u=u+o;const h=t.slice(u,t.byteLength),m=l===this.JSON_ENCODING?JSON.parse(n.decode(h)):h,y={type:this.BROADCAST_EVENT,event:d,payload:m};return o>0&&(y.meta=JSON.parse(p)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST_EVENT,payload:y}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class rm{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Z;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Z||(Z={}));const $d=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,o)=>(i[o]=bx(o,e,t,s),i),{}):{}},bx=(e,t,r,n)=>{const s=t.find(l=>l.name===e),i=s==null?void 0:s.type,o=r[e];return i&&!n.includes(i)?nm(i,o):Sl(o)},nm=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return Ex(t,r)}switch(e){case Z.bool:return kx(t);case Z.float4:case Z.float8:case Z.int2:case Z.int4:case Z.int8:case Z.numeric:case Z.oid:return jx(t);case Z.json:case Z.jsonb:return Sx(t);case Z.timestamp:return Nx(t);case Z.abstime:case Z.date:case Z.daterange:case Z.int4range:case Z.int8range:case Z.money:case Z.reltime:case Z.text:case Z.time:case Z.timestamptz:case Z.timetz:case Z.tsrange:case Z.tstzrange:return Sl(t);default:return Sl(t)}},Sl=e=>e,kx=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},jx=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Sx=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Ex=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>nm(t,l))}return e},Nx=e=>typeof e=="string"?e.replace(" ","T"):e,sm=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class ga{constructor(t,r,n={},s=kl){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var El;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(El||(El={}));let im=class Ri{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ri.syncState(this.state,s,i,o),this.pendingDiffs.forEach(u=>{this.state=Ri.syncDiff(this.state,u,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Ri.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),o=this.transformState(r),l={},u={};return this.map(i,(c,d)=>{o[c]||(u[c]=d)}),this.map(o,(c,d)=>{const p=i[c];if(p){const h=d.map(_=>_.presence_ref),m=p.map(_=>_.presence_ref),y=d.filter(_=>m.indexOf(_.presence_ref)<0),w=p.filter(_=>h.indexOf(_.presence_ref)<0);y.length>0&&(l[c]=y),w.length>0&&(u[c]=w)}else l[c]=d}),this.syncDiff(i,{joins:l,leaves:u},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(l,u)=>{var c;const d=(c=t[l])!==null&&c!==void 0?c:[];if(t[l]=this.cloneDeep(u),d.length>0){const p=t[l].map(m=>m.presence_ref),h=d.filter(m=>p.indexOf(m.presence_ref)<0);t[l].unshift(...h)}n(l,d,u)}),this.map(o,(l,u)=>{let c=t[l];if(!c)return;const d=u.map(p=>p.presence_ref);c=c.filter(p=>d.indexOf(p.presence_ref)<0),t[l]=c,s(l,c,u),c.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var Nl;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Nl||(Nl={}));var mn;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(mn||(mn={}));var bt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(bt||(bt={}));const Cx=pe;let om=class am{constructor(t,r={config:{}},n){var s,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=pe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new ga(this,ft.join,this.params,this.timeout),this.rejoinTimer=new rm(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=pe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=pe.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=pe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=pe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=pe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ft.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new im(this),this.broadcastEndpointURL=sm(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==pe.closed){const{config:{broadcast:o,presence:l,private:u}}=this.params,c=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[mn.PRESENCE]&&this.bindings[mn.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,p={},h={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:c,private:u};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(bt.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(bt.CLOSED)),this.updateJoinPayload(Object.assign({config:h},p)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:m})=>{var y;if(this.socket.setAuth(),m===void 0){t==null||t(bt.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,_=(y=w==null?void 0:w.length)!==null&&y!==void 0?y:0,g=[];for(let f=0;f<_;f++){const v=w[f],{filter:{event:x,schema:E,table:S,filter:P}}=v,O=m&&m[f];if(O&&O.event===x&&O.schema===E&&O.table===S&&O.filter===P)g.push(Object.assign(Object.assign({},v),{id:O.id}));else{this.unsubscribe(),this.state=pe.errored,t==null||t(bt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(bt.SUBSCRIBED);return}}).receive("error",m=>{this.state=pe.errored,t==null||t(bt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(bt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===pe.joined&&t===mn.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var s;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(l.status===202)return{success:!0};let u=l.statusText;try{const c=await l.json();u=c.error||c.message||u}catch{}return Promise.reject(new Error(u))}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=t,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,u;const c=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((u=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||u===void 0)&&u.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=pe.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ft.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new ga(this,ft.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=pe.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new ga(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>xx){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const o=t.toLocaleLowerCase(),{close:l,error:u,leave:c,join:d}=ft;if(n&&[l,u,c,d].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var y,w,_;return((y=m.filter)===null||y===void 0?void 0:y.event)==="*"||((_=(w=m.filter)===null||w===void 0?void 0:w.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===o}).map(m=>m.callback(h,n)):(i=this.bindings[o])===null||i===void 0||i.filter(m=>{var y,w,_,g,f,v;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const x=m.id,E=(y=m.filter)===null||y===void 0?void 0:y.event;return x&&((w=r.ids)===null||w===void 0?void 0:w.includes(x))&&(E==="*"||(E==null?void 0:E.toLocaleLowerCase())===((_=r.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const x=(f=(g=m==null?void 0:m.filter)===null||g===void 0?void 0:g.event)===null||f===void 0?void 0:f.toLocaleLowerCase();return x==="*"||x===((v=r==null?void 0:r.event)===null||v===void 0?void 0:v.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof h=="object"&&"ids"in h){const y=h.data,{schema:w,table:_,commit_timestamp:g,type:f,errors:v}=y;h=Object.assign(Object.assign({},{schema:w,table:_,commit_timestamp:g,eventType:f,new:{},old:{},errors:v}),this._getPayloadRecords(y))}m.callback(h,n)})}_isClosed(){return this.state===pe.closed}_isJoined(){return this.state===pe.joined}_isJoining(){return this.state===pe.joining}_isLeaving(){return this.state===pe.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&am.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ft.close,{},t)}_onError(t){this._on(ft.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=pe.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=$d(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=$d(t.columns,t.old_record)),r}};const va=()=>{},gi={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Px=[1e3,2e3,5e3,1e4],Tx=1e4,Ox=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let Rx=class{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=kl,this.transport=null,this.heartbeatIntervalMs=gi.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=va,this.ref=0,this.reconnectTimer=null,this.vsn=Id,this.logger=va,this.conn=null,this.sendBuffer=[],this.serializer=new _x,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${jl.websocket}`,this.httpEndpoint=sm(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=em.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case jr.connecting:return Sr.Connecting;case jr.open:return Sr.Open;case jr.closing:return Sr.Closing;default:return Sr.Closed}}isConnected(){return this.connectionState()===Sr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new om(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:s,ref:i}=t,o=()=>{this.encode(t,l=>{var u;(u=this.conn)===null||u===void 0||u.send(l)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(wx,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},gi.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:o}=r,l=o?`(${o})`:"",u=i.status||"";this.log("receive",`${u} ${n} ${s} ${l}`.trim(),i),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(s,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===jr.open||this.conn.readyState===jr.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(ft.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([Ox],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:vx};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(ft.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new rm(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},gi.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,i,o,l,u,c,d,p,h,m;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:kl,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:gi.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:va,this.vsn=(u=t==null?void 0:t.vsn)!==null&&u!==void 0?u:Id,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:y=>Px[y-1]||Tx,this.vsn){case tm:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(y,w)=>w(JSON.stringify(y)),this.decode=(p=t==null?void 0:t.decode)!==null&&p!==void 0?p:(y,w)=>w(JSON.parse(y));break;case yx:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(m=t==null?void 0:t.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}};const Ax=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:Cx,get REALTIME_LISTEN_TYPES(){return mn},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return Nl},get REALTIME_PRESENCE_LISTEN_EVENTS(){return El},get REALTIME_SUBSCRIBE_STATES(){return bt},RealtimeChannel:om,RealtimeClient:Rx,RealtimePresence:im,WebSocketFactory:em},Symbol.toStringTag,{value:"Module"})),lm=Ps(Ax);class $s extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function se(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class um extends $s{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class fo extends $s{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const $u=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Ix=()=>Response,Cl=e=>{if(Array.isArray(e))return e.map(r=>Cl(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=Cl(n)}),t},$x=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Lx=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e),ya=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},Ux=(e,t,r)=>L(void 0,void 0,void 0,function*(){const n=yield Ix();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{const i=e.status||500,o=(s==null?void 0:s.statusCode)||i+"";t(new um(ya(s),i,o))}).catch(s=>{t(new fo(ya(s),s))}):t(new fo(ya(e),e))}),Mx=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?s:($x(n)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),r))};function Ls(e,t,r,n,s,i){return L(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,Mx(t,n,s,i)).then(u=>{if(!u.ok)throw u;return n!=null&&n.noResolveJson?u:u.json()}).then(u=>o(u)).catch(u=>Ux(u,l,n))})})}function Ns(e,t,r,n){return L(this,void 0,void 0,function*(){return Ls(e,"GET",t,r,n)})}function dt(e,t,r,n,s){return L(this,void 0,void 0,function*(){return Ls(e,"POST",t,n,s,r)})}function Pl(e,t,r,n,s){return L(this,void 0,void 0,function*(){return Ls(e,"PUT",t,n,s,r)})}function Dx(e,t,r,n){return L(this,void 0,void 0,function*(){return Ls(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Lu(e,t,r,n,s){return L(this,void 0,void 0,function*(){return Ls(e,"DELETE",t,n,s,r)})}class zx{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return L(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(se(t))return{data:null,error:t};throw t}})}}var cm;class Bx{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[cm]="BlobDownloadBuilder",this.promise=null}asStream(){return new zx(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return L(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(se(t))return{data:null,error:t};throw t}})}}cm=Symbol.toStringTag;const Fx={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ld={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Vx{constructor(t,r={},n,s){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=$u(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,s){return L(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Ld),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const u=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),u&&i.append("metadata",this.encodeMetadata(u)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),u&&!i.has("metadata")&&i.append("metadata",this.encodeMetadata(u))):(i=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,u&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(u))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const c=this._removeEmptyFolders(r),d=this._getFinalPath(c),p=yield(t=="PUT"?Pl:dt)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:c,id:p.Id,fullPath:p.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(se(i))return{data:null,error:i};throw i}})}upload(t,r,n){return L(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return L(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let u;const c=Object.assign({upsert:Ld.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(u=new FormData,u.append("cacheControl",c.cacheControl),u.append("",n)):typeof FormData<"u"&&n instanceof FormData?(u=n,u.append("cacheControl",c.cacheControl)):(u=n,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const p=yield Pl(this.fetch,l.toString(),u,{headers:d});return{data:{path:i,fullPath:p.Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(se(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(t,r){return L(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield dt(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new $s("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(se(n))return{data:null,error:n};throw n}})}update(t,r,n){return L(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return L(this,void 0,void 0,function*(){try{return{data:yield dt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(se(s))return{data:null,error:s};throw s}})}copy(t,r,n){return L(this,void 0,void 0,function*(){try{return{data:{path:(yield dt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(se(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return L(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield dt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(se(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return L(this,void 0,void 0,function*(){try{const s=yield dt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(se(s))return{data:null,error:s};throw s}})}download(t,r){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"",l=this._getFinalPath(t),u=()=>Ns(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0});return new Bx(u,this.shouldThrowOnError)}info(t){return L(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Ns(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Cl(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(se(n))return{data:null,error:n};throw n}})}exists(t){return L(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield Dx(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(se(n)&&n instanceof fo){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",u=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});u!==""&&s.push(u);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${c}`)}}}remove(t){return L(this,void 0,void 0,function*(){try{return{data:yield Lu(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(se(r))return{data:null,error:r};throw r}})}list(t,r,n){return L(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Fx),r),{prefix:t||""});return{data:yield dt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(se(s))return{data:null,error:s};throw s}})}listV2(t,r){return L(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield dt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(se(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const dm="2.86.2",hm={"X-Client-Info":`storage-js/${dm}`};class qx{constructor(t,r={},n,s){this.shouldThrowOnError=!1;const i=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},hm),r),this.fetch=$u(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return L(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(t);return{data:yield Ns(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(se(r))return{data:null,error:r};throw r}})}getBucket(t){return L(this,void 0,void 0,function*(){try{return{data:yield Ns(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(se(r))return{data:null,error:r};throw r}})}createBucket(t){return L(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield dt(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(se(s))return{data:null,error:s};throw s}})}updateBucket(t,r){return L(this,void 0,void 0,function*(){try{return{data:yield Pl(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(se(n))return{data:null,error:n};throw n}})}emptyBucket(t){return L(this,void 0,void 0,function*(){try{return{data:yield dt(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(se(r))return{data:null,error:r};throw r}})}deleteBucket(t){return L(this,void 0,void 0,function*(){try{return{data:yield Lu(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(se(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(t){const r={};return t&&("limit"in t&&(r.limit=String(t.limit)),"offset"in t&&(r.offset=String(t.offset)),t.search&&(r.search=t.search),t.sortColumn&&(r.sortColumn=t.sortColumn),t.sortOrder&&(r.sortOrder=t.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}var Cs=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Hx(e,t,r){const n=new URL(t,e);if(r)for(const[s,i]of Object.entries(r))i!==void 0&&n.searchParams.set(s,i);return n.toString()}async function Wx(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function Kx(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:s,body:i,headers:o}){const l=Hx(e.baseUrl,n,s),u=await Wx(e.auth),c=await t(l,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...u,...o},body:i?JSON.stringify(i):void 0}),d=await c.text(),p=(c.headers.get("content-type")||"").includes("application/json"),h=p&&d?JSON.parse(d):d;if(!c.ok){const m=p?h:void 0,y=m==null?void 0:m.error;throw new Cs((y==null?void 0:y.message)??`Request failed with status ${c.status}`,{status:c.status,icebergType:y==null?void 0:y.type,icebergCode:y==null?void 0:y.code,details:m})}return{status:c.status,headers:c.headers,data:h}}}}function vi(e){return e.join("")}var Gx=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:vi(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${vi(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${vi(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${vi(e.namespace)}`}),!0}catch(t){if(t instanceof Cs&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof Cs&&r.status===409)return;throw r}}};function qr(e){return e.join("")}var Jx=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${qr(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${qr(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${qr(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${qr(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${qr(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${qr(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof Cs&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof Cs&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},Qx=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=Kx({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new Gx(this.client,t),this.tableOps=new Jx(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}};class fm{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},hm),r),this.fetch=$u(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return L(this,void 0,void 0,function*(){try{return{data:yield dt(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(se(r))return{data:null,error:r};throw r}})}listBuckets(t){return L(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),s=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield Ns(this.fetch,s,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(se(r))return{data:null,error:r};throw r}})}deleteBucket(t){return L(this,void 0,void 0,function*(){try{return{data:yield Lu(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(se(r))return{data:null,error:r};throw r}})}from(t){if(!Lx(t))throw new $s("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");return new Qx({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:()=>L(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}}const Uu={"X-Client-Info":`storage-js/${dm}`,"Content-Type":"application/json"};class Mu extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Be(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class Ai extends Mu{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class pm extends Mu{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var Tl;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Tl||(Tl={}));const Uo=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Yx=()=>Response,mm=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Xx=e=>Array.from(new Float32Array(e)),Zx=(e,t)=>{if(t!==void 0&&e.float32.length!==t)throw new Error(`Vector dimension mismatch: expected ${t}, got ${e.float32.length}`)},Ud=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),e_=(e,t,r)=>L(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const s=e.status||500,i=e;if(typeof i.json=="function")i.json().then(o=>{const l=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||s+"";t(new Ai(Ud(o),s,l))}).catch(()=>{const o=s+"",l=i.statusText||`HTTP ${s} error`;t(new Ai(l,s,o))});else{const o=s+"",l=i.statusText||`HTTP ${s} error`;t(new Ai(l,s,o))}}else t(new pm(Ud(e),e))}),t_=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(mm(n)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,Object.assign(Object.assign({},s),r)):s};function r_(e,t,r,n,s,i){return L(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,t_(t,n,s,i)).then(u=>{if(!u.ok)throw u;if(n!=null&&n.noResolveJson)return u;const c=u.headers.get("content-type");return!c||!c.includes("application/json")?{}:u.json()}).then(u=>o(u)).catch(u=>e_(u,l,n))})})}function Je(e,t,r,n,s){return L(this,void 0,void 0,function*(){return r_(e,"POST",t,n,s,r)})}class gm{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Uu),r),this.fetch=Uo(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return L(this,void 0,void 0,function*(){try{return{data:(yield Je(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Be(r))return{data:null,error:r};throw r}})}getIndex(t,r){return L(this,void 0,void 0,function*(){try{return{data:yield Je(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Be(n))return{data:null,error:n};throw n}})}listIndexes(t){return L(this,void 0,void 0,function*(){try{return{data:yield Je(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Be(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return L(this,void 0,void 0,function*(){try{return{data:(yield Je(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Be(n))return{data:null,error:n};throw n}})}}class vm{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Uu),r),this.fetch=Uo(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return L(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Je(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Be(r))return{data:null,error:r};throw r}})}getVectors(t){return L(this,void 0,void 0,function*(){try{return{data:yield Je(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Be(r))return{data:null,error:r};throw r}})}listVectors(t){return L(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield Je(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Be(r))return{data:null,error:r};throw r}})}queryVectors(t){return L(this,void 0,void 0,function*(){try{return{data:yield Je(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Be(r))return{data:null,error:r};throw r}})}deleteVectors(t){return L(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Je(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Be(r))return{data:null,error:r};throw r}})}}class ym{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Uu),r),this.fetch=Uo(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return L(this,void 0,void 0,function*(){try{return{data:(yield Je(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Be(r))return{data:null,error:r};throw r}})}getBucket(t){return L(this,void 0,void 0,function*(){try{return{data:yield Je(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Be(r))return{data:null,error:r};throw r}})}listBuckets(){return L(this,arguments,void 0,function*(t={}){try{return{data:yield Je(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Be(r))return{data:null,error:r};throw r}})}deleteBucket(t){return L(this,void 0,void 0,function*(){try{return{data:(yield Je(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Be(r))return{data:null,error:r};throw r}})}}class wm extends ym{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new xm(this.url,this.headers,t,this.fetch)}createBucket(t){const r=Object.create(null,{createBucket:{get:()=>super.createBucket}});return L(this,void 0,void 0,function*(){return r.createBucket.call(this,t)})}getBucket(t){const r=Object.create(null,{getBucket:{get:()=>super.getBucket}});return L(this,void 0,void 0,function*(){return r.getBucket.call(this,t)})}listBuckets(){const t=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return L(this,arguments,void 0,function*(r={}){return t.listBuckets.call(this,r)})}deleteBucket(t){const r=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return L(this,void 0,void 0,function*(){return r.deleteBucket.call(this,t)})}}class xm extends gm{constructor(t,r,n,s){super(t,r,s),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return L(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return L(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return L(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return L(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new _m(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class _m extends vm{constructor(t,r,n,s,i){super(t,r,i),this.vectorBucketName=n,this.indexName=s}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return L(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return L(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return L(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return L(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return L(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class n_ extends qx{constructor(t,r={},n,s){super(t,r,n,s)}from(t){return new Vx(this.url,this.headers,t,this.fetch)}get vectors(){return new wm(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new fm(this.url+"/iceberg",this.headers,this.fetch)}}const s_=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:fm,StorageApiError:um,StorageClient:n_,StorageError:$s,StorageUnknownError:fo,StorageVectorsApiError:Ai,StorageVectorsClient:wm,StorageVectorsError:Mu,get StorageVectorsErrorCode(){return Tl},StorageVectorsUnknownError:pm,VectorBucketApi:ym,VectorBucketScope:xm,VectorDataApi:vm,VectorIndexApi:gm,VectorIndexScope:_m,isPlainObject:mm,isStorageError:se,isStorageVectorsError:Be,normalizeToFloat32:Xx,resolveFetch:Uo,resolveResponse:Yx,validateVectorDimension:Zx},Symbol.toStringTag,{value:"Module"})),i_=Ps(s_);var bm={},Mo={};Object.defineProperty(Mo,"__esModule",{value:!0});Mo.version=void 0;Mo.version="2.86.2";(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_REALTIME_OPTIONS=e.DEFAULT_AUTH_OPTIONS=e.DEFAULT_DB_OPTIONS=e.DEFAULT_GLOBAL_OPTIONS=e.DEFAULT_HEADERS=void 0;const t=Mo;let r="";typeof Deno<"u"?r="deno":typeof document<"u"?r="web":typeof navigator<"u"&&navigator.product==="ReactNative"?r="react-native":r="node",e.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${r}/${t.version}`},e.DEFAULT_GLOBAL_OPTIONS={headers:e.DEFAULT_HEADERS},e.DEFAULT_DB_OPTIONS={schema:"public"},e.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},e.DEFAULT_REALTIME_OPTIONS={}})(bm);var km={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.fetchWithAuth=e.resolveHeadersConstructor=e.resolveFetch=void 0;const t=s=>s?(...i)=>s(...i):(...i)=>fetch(...i);e.resolveFetch=t;const r=()=>Headers;e.resolveHeadersConstructor=r;const n=(s,i,o)=>{const l=(0,e.resolveFetch)(o),u=(0,e.resolveHeadersConstructor)();return async(c,d)=>{var p;const h=(p=await i())!==null&&p!==void 0?p:s;let m=new u(d==null?void 0:d.headers);return m.has("apikey")||m.set("apikey",s),m.has("Authorization")||m.set("Authorization",`Bearer ${h}`),l(c,Object.assign(Object.assign({},d),{headers:m}))}};e.fetchWithAuth=n})(km);var fr={};Object.defineProperty(fr,"__esModule",{value:!0});fr.isBrowser=void 0;fr.uuid=o_;fr.ensureTrailingSlash=jm;fr.applySettingDefaults=l_;fr.validateSupabaseUrl=u_;function o_(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0,r=e=="x"?t:t&3|8;return r.toString(16)})}function jm(e){return e.endsWith("/")?e:e+"/"}const a_=()=>typeof window<"u";fr.isBrowser=a_;function l_(e,t){var r,n;const{db:s,auth:i,realtime:o,global:l}=e,{db:u,auth:c,realtime:d,global:p}=t,h={db:Object.assign(Object.assign({},u),s),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},p),l),{headers:Object.assign(Object.assign({},(r=p==null?void 0:p.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function u_(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(jm(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Do={};const Sm="2.86.2",Gr=30*1e3,Ol=3,wa=Ol*Gr,c_="http://localhost:9999",d_="supabase.auth.token",h_={"X-Client-Info":`gotrue-js/${Sm}`},Rl="X-Supabase-Api-Version",Em={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},f_=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,p_=10*60*1e3;let Sn=class extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}};function U(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}let Nm=class extends Sn{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}};function Cm(e){return U(e)&&e.name==="AuthApiError"}let Qt=class extends Sn{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}},Ft=class extends Sn{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}},De=class extends Ft{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function Pm(e){return U(e)&&e.name==="AuthSessionMissingError"}let _r=class extends Ft{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},Gn=class extends Ft{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}},Jn=class extends Ft{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function Tm(e){return U(e)&&e.name==="AuthImplicitGrantRedirectError"}let Al=class extends Ft{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},po=class extends Ft{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}};function Ii(e){return U(e)&&e.name==="AuthRetryableFetchError"}let Il=class extends Ft{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}};function m_(e){return U(e)&&e.name==="AuthWeakPasswordError"}let mo=class extends Ft{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}};const go="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Md=` 	
\r=`.split(""),g_=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Md.length;t+=1)e[Md[t].charCodeAt(0)]=-2;for(let t=0;t<go.length;t+=1)e[go[t].charCodeAt(0)]=t;return e})();function Dd(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(go[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(go[n]),t.queuedBits-=6}}function Om(e,t,r){const n=g_[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function zd(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{w_(o,n,r)};for(let o=0;o<e.length;o+=1)Om(e.charCodeAt(o),s,i);return t.join("")}function v_(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function y_(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}v_(n,t)}}function w_(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function gn(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)Om(e.charCodeAt(s),r,n);return new Uint8Array(t)}function x_(e){const t=[];return y_(e,r=>t.push(r)),new Uint8Array(t)}function Pr(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>Dd(s,r,n)),Dd(null,r,n),t.join("")}function __(e){return Math.round(Date.now()/1e3)+e}function b_(){return Symbol("auth-callback")}const Se=()=>typeof window<"u"&&typeof document<"u",vr={tested:!1,writable:!1},Rm=()=>{if(!Se())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(vr.tested)return vr.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),vr.tested=!0,vr.writable=!0}catch{vr.tested=!0,vr.writable=!1}return vr.writable};function k_(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const Am=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),j_=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Jr=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},yr=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},je=async(e,t)=>{await e.removeItem(t)};class zo{constructor(){this.promise=new zo.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}zo.promiseConstructor=Promise;function xa(e){const t=e.split(".");if(t.length!==3)throw new mo("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!f_.test(t[n]))throw new mo("JWT not in base64url format");return{header:JSON.parse(zd(t[0])),payload:JSON.parse(zd(t[1])),signature:gn(t[2]),raw:{header:t[0],payload:t[1]}}}async function S_(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function E_(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function N_(e){return("0"+e.toString(16)).substr(-2)}function C_(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,N_).join("")}async function P_(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function T_(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await P_(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Hr(e,t,r=!1){const n=C_();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Jr(e,`${t}-code-verifier`,s);const i=await T_(n);return[i,n===i?"plain":"s256"]}const O_=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function R_(e){const t=e.headers.get(Rl);if(!t||!t.match(O_))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function A_(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function I_(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const $_=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Wr(e){if(!$_.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function _a(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function L_(e,t){return new Proxy(e,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,s)}})}function Bd(e){return JSON.parse(JSON.stringify(e))}const br=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),U_=[502,503,504];async function Fd(e){var t;if(!j_(e))throw new po(br(e),0);if(U_.includes(e.status))throw new po(br(e),e.status);let r;try{r=await e.json()}catch(i){throw new Qt(br(i),i)}let n;const s=R_(e);if(s&&s.getTime()>=Em["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Il(br(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new De}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Il(br(r),e.status,r.weak_password.reasons);throw new Nm(br(r),e.status||500,n)}const M_=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function z(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[Rl]||(i[Rl]=Em["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",u=await D_(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(u):{data:Object.assign({},u),error:null}}async function D_(e,t,r,n,s,i){const o=M_(t,n,s,i);let l;try{l=await e(r,Object.assign({},o))}catch(u){throw console.error(u),new po(br(u),0)}if(l.ok||await Fd(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(u){await Fd(u)}}function ut(e){var t;let r=null;F_(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=__(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Vd(e){const t=ut(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Yt(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function z_(e){return{data:e,error:null}}function B_(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,o=On(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},u=Object.assign({},o);return{data:{properties:l,user:u},error:null}}function qd(e){return e}function F_(e){return e.access_token&&e.refresh_token&&e.expires_in}const $i=["global","local","others"];let Du=class{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=Am(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=$i[0]){if($i.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${$i.join(", ")}`);try{return await z(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(U(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await z(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Yt})}catch(n){if(U(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=On(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await z(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:B_,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(U(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await z(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Yt})}catch(r){if(U(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,o,l,u;try{const c={nextPage:null,lastPage:0,total:0},d=await z(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:qd});if(d.error)throw d.error;const p=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(u=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&u!==void 0?u:[];return m.length>0&&(m.forEach(y=>{const w=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(y.split(";")[1].split("=")[1]);c[`${_}Page`]=w}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},p),c),error:null}}catch(c){if(U(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){Wr(t);try{return await z(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Yt})}catch(r){if(U(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Wr(t);try{return await z(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Yt})}catch(n){if(U(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Wr(t);try{return await z(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Yt})}catch(n){if(U(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Wr(t.userId);try{const{data:r,error:n}=await z(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(U(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Wr(t.userId),Wr(t.id);try{return{data:await z(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(U(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,s,i,o,l,u;try{const c={nextPage:null,lastPage:0,total:0},d=await z(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:qd});if(d.error)throw d.error;const p=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(u=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&u!==void 0?u:[];return m.length>0&&(m.forEach(y=>{const w=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(y.split(";")[1].split("=")[1]);c[`${_}Page`]=w}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},p),c),error:null}}catch(c){if(U(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(t){try{return await z(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(U(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await z(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(U(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await z(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(U(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await z(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(U(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await z(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(U(r))return{data:null,error:r};throw r}}};function Hd(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const kr={debug:!!(globalThis&&Rm()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class zu extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}let Im=class extends zu{};class V_ extends zu{}async function $m(e,t,r){kr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),kr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){kr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{kr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw kr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Im(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(kr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}const Wd={};async function q_(e,t,r){var n;const s=(n=Wd[e])!==null&&n!==void 0?n:Promise.resolve(),i=Promise.race([s.catch(()=>null),t>=0?new Promise((o,l)=>{setTimeout(()=>{l(new V_(`Acquring process lock with name "${e}" timed out`))},t)}):null].filter(o=>o)).catch(o=>{if(o&&o.isAcquireTimeout)throw o;return null}).then(async()=>await r());return Wd[e]=i.catch(async o=>{if(o&&o.isAcquireTimeout)return await s,null;throw o}),await i}function H_(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Lm(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function W_(e){return parseInt(e,16)}function K_(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function G_(e){var t;const{chainId:r,domain:n,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:l,requestId:u,resources:c,scheme:d,uri:p,version:h}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!p)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const m=Lm(e.address),y=d?`${d}://${n}`:n,w=e.statement?`${e.statement}
`:"",_=`${y} wants you to sign in with your Ethereum account:
${m}

${w}`;let g=`URI: ${p}
Version: ${h}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(g+=`
Expiration Time: ${s.toISOString()}`),l&&(g+=`
Not Before: ${l.toISOString()}`),u&&(g+=`
Request ID: ${u}`),c){let f=`
Resources:`;for(const v of c){if(!v||typeof v!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${v}`);f+=`
- ${v}`}g+=f}return`${_}
${g}`}class me extends Error{constructor({message:t,code:r,cause:n,name:s}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=s??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class vo extends me{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function J_({error:e,options:t}){var r,n,s;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new me({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new me({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new me({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new me({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new me({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new me({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new me({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new me({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(Um(o)){if(i.rp.id!==o)return new me({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new me({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new me({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new me({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new me({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function Q_({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new me({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new me({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(Um(n)){if(r.rpId!==n)return new me({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new me({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new me({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new me({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class Y_{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const X_=new Y_;function Z_(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,s=On(e,["challenge","user","excludeCredentials"]),i=gn(t).buffer,o=Object.assign(Object.assign({},r),{id:gn(r.id).buffer}),l=Object.assign(Object.assign({},s),{challenge:i,user:o});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let u=0;u<n.length;u++){const c=n[u];l.excludeCredentials[u]=Object.assign(Object.assign({},c),{id:gn(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return l}function eb(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=On(e,["challenge","allowCredentials"]),s=gn(t).buffer,i=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const l=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},l),{id:gn(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function tb(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Pr(new Uint8Array(e.response.attestationObject)),clientDataJSON:Pr(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function rb(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Pr(new Uint8Array(s.authenticatorData)),clientDataJSON:Pr(new Uint8Array(s.clientDataJSON)),signature:Pr(new Uint8Array(s.signature)),userHandle:s.userHandle?Pr(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Um(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Kd(){var e,t;return!!(Se()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function nb(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new vo("Browser returned unexpected credential type",t)}:{data:null,error:new vo("Empty credential response",t)}}catch(t){return{data:null,error:J_({error:t,options:e})}}}async function sb(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new vo("Browser returned unexpected credential type",t)}:{data:null,error:new vo("Empty credential response",t)}}catch(t){return{data:null,error:Q_({error:t,options:e})}}}const ib={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},ob={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function yo(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of e)if(s)for(const i in s){const o=s[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(r(o))n[i]=o;else if(t(o)){const l=n[i];t(l)?n[i]=yo(l,o):n[i]=yo(o)}else n[i]=o}return n}function ab(e,t){return yo(ib,e,t||{})}function lb(e,t){return yo(ob,e,t||{})}class ub{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:s},i){try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!o)return{data:null,error:l};const u=s??X_.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:c}=o.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${n}`),c.displayName||(c.displayName=c.name)}switch(o.webauthn.type){case"create":{const c=ab(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:p}=await nb({publicKey:c,signal:u});return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:p}}case"request":{const c=lb(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:p}=await sb(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:c,signal:u}));return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:p}}}}catch(o){return U(o)?{data:null,error:o}:{data:null,error:new Qt("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new Sn("rpId is required for WebAuthn authentication")};try{if(!Kd())return{data:null,error:new Qt("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:i});if(!o)return{data:null,error:l};const{webauthn:u}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:u.type,rpId:r,rpOrigins:n,credential_response:u.credential_response}})}catch(o){return U(o)?{data:null,error:o}:{data:null,error:new Qt("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new Sn("rpId is required for WebAuthn registration")};try{if(!Kd())return{data:null,error:new Qt("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(d=>{var p;return(p=d.data)===null||p===void 0?void 0:p.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:u,error:c}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:i});return u?this._verify({factorId:o.id,challengeId:u.challengeId,webauthn:{rpId:r,rpOrigins:n,type:u.webauthn.type,credential_response:u.webauthn.credential_response}}):{data:null,error:c}}catch(o){return U(o)?{data:null,error:o}:{data:null,error:new Qt("Unexpected error in register",o)}}}}H_();const cb={url:c_,storageKey:d_,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:h_,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Gd(e,t,r){return await r()}const Kr={};let Bu=class $l{get jwks(){var t,r;return(r=(t=Kr[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Kr[this.storageKey]=Object.assign(Object.assign({},Kr[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Kr[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Kr[this.storageKey]=Object.assign(Object.assign({},Kr[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},cb),t);if(this.storageKey=i.storageKey,this.instanceID=(r=$l.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,$l.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&Se()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Du({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Am(i.fetch),this.lock=i.lock||Gd,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:Se()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=$m:this.lock=Gd,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new ub(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:Rm()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Hd(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Hd(this.memoryStorage)),Se()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Sm}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(Se()&&(r=k_(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Se()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Tm(i)){const u=(t=i.details)===null||t===void 0?void 0:t.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return U(r)?this._returnResult({error:r}):this._returnResult({error:new Qt("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:ut}),{data:o,error:l}=i;if(l||!o)return this._returnResult({data:{user:null,session:null},error:l});const u=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:c,session:u},error:null})}catch(i){if(U(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:d,password:p,options:h}=t;let m=null,y=null;this.flowType==="pkce"&&([m,y]=await Hr(this.storage,this.storageKey)),i=await z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:p,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:y},xform:ut})}else if("phone"in t){const{phone:d,password:p,options:h}=t;i=await z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:p,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:ut})}else throw new Gn("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return await je(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const u=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:c,session:u},error:null})}catch(i){if(await je(this.storage,`${this.storageKey}-code-verifier`),U(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await z(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Vd})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await z(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Vd})}else throw new Gn("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const i=new _r;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(U(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,s,i,o,l,u,c,d,p,h;let m,y;if("message"in t)m=t.message,y=t.signature;else{const{chain:w,wallet:_,statement:g,options:f}=t;let v;if(Se())if(typeof _=="object")v=_;else{const M=window;if("ethereum"in M&&typeof M.ethereum=="object"&&"request"in M.ethereum&&typeof M.ethereum.request=="function")v=M.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!(f!=null&&f.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");v=_}const x=new URL((r=f==null?void 0:f.url)!==null&&r!==void 0?r:window.location.href),E=await v.request({method:"eth_requestAccounts"}).then(M=>M).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!E||E.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const S=Lm(E[0]);let P=(n=f==null?void 0:f.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!P){const M=await v.request({method:"eth_chainId"});P=W_(M)}const O={domain:x.host,address:S,statement:g,uri:x.href,version:"1",chainId:P,nonce:(s=f==null?void 0:f.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=f==null?void 0:f.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=f==null?void 0:f.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(u=f==null?void 0:f.signInWithEthereum)===null||u===void 0?void 0:u.notBefore,requestId:(c=f==null?void 0:f.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(d=f==null?void 0:f.signInWithEthereum)===null||d===void 0?void 0:d.resources};m=G_(O),y=await v.request({method:"personal_sign",params:[K_(m),S]})}try{const{data:w,error:_}=await z(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:y},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:ut});if(_)throw _;if(!w||!w.session||!w.user){const g=new _r;return this._returnResult({data:{user:null,session:null},error:g})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:_})}catch(w){if(U(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async signInWithSolana(t){var r,n,s,i,o,l,u,c,d,p,h,m;let y,w;if("message"in t)y=t.message,w=t.signature;else{const{chain:_,wallet:g,statement:f,options:v}=t;let x;if(Se())if(typeof g=="object")x=g;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))x=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=g}const E=new URL((r=v==null?void 0:v.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in x&&x.signIn){const S=await x.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},v==null?void 0:v.signInWithSolana),{version:"1",domain:E.host,uri:E.href}),f?{statement:f}:null));let P;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")P=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)P=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in P&&"signature"in P&&(typeof P.signedMessage=="string"||P.signedMessage instanceof Uint8Array)&&P.signature instanceof Uint8Array)y=typeof P.signedMessage=="string"?P.signedMessage:new TextDecoder().decode(P.signedMessage),w=P.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in x)||typeof x.signMessage!="function"||!("publicKey"in x)||typeof x!="object"||!x.publicKey||!("toBase58"in x.publicKey)||typeof x.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${E.host} wants you to sign in with your Solana account:`,x.publicKey.toBase58(),...f?["",f,""]:[""],"Version: 1",`URI: ${E.href}`,`Issued At: ${(s=(n=v==null?void 0:v.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=v==null?void 0:v.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${v.signInWithSolana.notBefore}`]:[],...!((o=v==null?void 0:v.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${v.signInWithSolana.expirationTime}`]:[],...!((l=v==null?void 0:v.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${v.signInWithSolana.chainId}`]:[],...!((u=v==null?void 0:v.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${v.signInWithSolana.nonce}`]:[],...!((c=v==null?void 0:v.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${v.signInWithSolana.requestId}`]:[],...!((p=(d=v==null?void 0:v.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||p===void 0)&&p.length?["Resources",...v.signInWithSolana.resources.map(P=>`- ${P}`)]:[]].join(`
`);const S=await x.signMessage(new TextEncoder().encode(y),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=S}}try{const{data:_,error:g}=await z(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:Pr(w)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:ut});if(g)throw g;if(!_||!_.session||!_.user){const f=new _r;return this._returnResult({data:{user:null,session:null},error:f})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:g})}catch(_){if(U(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async _exchangeCodeForSession(t){const r=await yr(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await z(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:ut});if(await je(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const l=new _r;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(await je(this.storage,`${this.storageKey}-code-verifier`),U(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=t,l=await z(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:ut}),{data:u,error:c}=l;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!u||!u.session||!u.user){const d=new _r;return this._returnResult({data:{user:null,session:null},error:d})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:u,error:c})}catch(r){if(U(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,s,i,o;try{if("email"in t){const{email:l,options:u}=t;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await Hr(this.storage,this.storageKey));const{error:p}=await z(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=u==null?void 0:u.data)!==null&&r!==void 0?r:{},create_user:(n=u==null?void 0:u.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:u==null?void 0:u.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:p})}if("phone"in t){const{phone:l,options:u}=t,{data:c,error:d}=await z(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=u==null?void 0:u.data)!==null&&s!==void 0?s:{},create_user:(i=u==null?void 0:u.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},channel:(o=u==null?void 0:u.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d})}throw new Gn("You must provide either an email or phone number.")}catch(l){if(await je(this.storage,`${this.storageKey}-code-verifier`),U(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await z(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:ut});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const u=o.session,c=o.user;return u!=null&&u.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),this._returnResult({data:{user:c,session:u},error:null})}catch(s){if(U(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var r,n,s,i,o;try{let l=null,u=null;this.flowType==="pkce"&&([l,u]=await Hr(this.storage,this.storageKey));const c=await z(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:u}),headers:this.headers,xform:z_});return!((i=c.data)===null||i===void 0)&&i.url&&Se()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(c.data.url),this._returnResult(c)}catch(l){if(await je(this.storage,`${this.storageKey}-code-verifier`),U(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new De;const{error:s}=await z(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(U(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:o}=await z(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:o,error:l}=await z(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l})}throw new Gn("You must provide either an email or phone number and a type")}catch(r){if(U(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await yr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<wa:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await yr(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=_a()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=L_(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await z(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Yt}):await this._useSession(async r=>{var n,s,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new De}:await z(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Yt})})}catch(r){if(U(r))return Pm(r)&&(await this._removeSession(),await je(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new De;const o=s.session;let l=null,u=null;this.flowType==="pkce"&&t.email!=null&&([l,u]=await Hr(this.storage,this.storageKey));const{data:c,error:d}=await z(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:u}),jwt:o.access_token,xform:Yt});if(d)throw d;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(await je(this.storage,`${this.storageKey}-code-verifier`),U(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new De;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=xa(t.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{data:l,error:u}=await this._callRefreshToken(t.refresh_token);if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:u}=await this._getUser(t.access_token);if(u)throw u;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(U(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new De;const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(U(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!Se())throw new Jn("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Jn(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Al("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Jn("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Al("No code detected.");const{data:f,error:v}=await this._exchangeCodeForSession(t.code);if(v)throw v;const x=new URL(window.location.href);return x.searchParams.delete("code"),window.history.replaceState(window.history.state,"",x.toString()),{data:{session:f.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:u,token_type:c}=t;if(!i||!l||!o||!c)throw new Jn("No session defined in URL");const d=Math.round(Date.now()/1e3),p=parseInt(l);let h=d+p;u&&(h=parseInt(u));const m=h-d;m*1e3<=Gr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${p}s`);const y=h-p;d-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,h,d):d-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,h,d);const{data:w,error:_}=await this._getUser(i);if(_)throw _;const g={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:p,expires_at:h,refresh_token:o,token_type:c,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:g,redirectType:t.type},error:null})}catch(n){if(U(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await yr(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({error:i});const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(Cm(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await je(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=b_(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Hr(this.storage,this.storageKey,!0));try{return await z(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await je(this.storage,`${this.storageKey}-code-verifier`),U(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(U(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,l,u,c,d;const{data:p,error:h}=i;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(u=t.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await z(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(c=p.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Se()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(U(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:i}}=r;if(s)throw s;const{options:o,provider:l,token:u,access_token:c,nonce:d}=t,p=await z(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:u,access_token:c,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:ut}),{data:h,error:m}=p;return m?this._returnResult({data:{user:null,session:null},error:m}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new _r}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:m}))}catch(s){if(await je(this.storage,`${this.storageKey}-code-verifier`),U(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await z(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(U(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await E_(async s=>(s>0&&await S_(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await z(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:ut})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Ii(i)&&Date.now()+o-n<Gr})}catch(n){if(this._debug(r,"error",n),U(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Se()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await yr(this.storage,this.storageKey);if(s&&this.userStorage){let o=await yr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await Jr(this.userStorage,this.storageKey+"-user",o)),s.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:_a()}else if(s&&!s.user&&!s.user){const o=await yr(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await je(this.storage,this.storageKey+"-user"),await Jr(this.storage,this.storageKey,s)):s.user=_a()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<wa;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${wa}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),Ii(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(s.access_token);!l&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new De;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new zo;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new De;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),U(i)){const o={data:null,error:i};return Ii(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(u){i.push(u)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await je(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Jr(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=Bd(s);await Jr(this.storage,this.storageKey,i)}else{const s=Bd(r);await Jr(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await je(this.storage,this.storageKey),await je(this.storage,this.storageKey+"-code-verifier"),await je(this.storage,this.storageKey+"-user"),this.userStorage&&await je(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Se()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Gr);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Gr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Gr}ms, refresh threshold is ${Ol} ticks`),s<=Ol&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof zu)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Se()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Hr(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?this._returnResult({data:null,error:i}):await z(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(U(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:u,error:c}=await z(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(t.factorType==="totp"&&u.type==="totp"&&(!((s=u==null?void 0:u.totp)===null||s===void 0)&&s.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),this._returnResult({data:u,error:null}))})}catch(r){if(U(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?tb(t.webauthn.credential_response):rb(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:u}=await z(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:u}))})}catch(r){if(U(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=await z(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:Z_(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:eb(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(U(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=xa(n.access_token);let o=null;i.aal&&(o=i.aal);let l=o;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const c=i.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:c},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await z(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new De})})}catch(r){if(U(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new De});const o=await z(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&Se()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(U(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new De});const o=await z(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&Se()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(U(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await z(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new De})})}catch(t){if(U(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?(await z(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new De})})}catch(r){if(U(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+p_>s)return n;const{data:i,error:o}=await z(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:m,error:y}=await this.getSession();if(y||!m.session)return this._returnResult({data:null,error:y});n=m.session.access_token}const{header:s,payload:i,signature:o,raw:{header:l,payload:u}}=xa(n);r!=null&&r.allowExpired||A_(i.exp);const c=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!c){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:i,header:s,signature:o},error:null}}const d=I_(s.alg),p=await crypto.subtle.importKey("jwk",c,d,!0,["verify"]);if(!await crypto.subtle.verify(d,p,o,x_(`${l}.${u}`)))throw new mo("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(U(n))return this._returnResult({data:null,error:n});throw n}}};Bu.nextInstanceID={};const db=Du,hb=Bu,fb=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:db,AuthApiError:Nm,AuthClient:hb,AuthError:Sn,AuthImplicitGrantRedirectError:Jn,AuthInvalidCredentialsError:Gn,AuthInvalidJwtError:mo,AuthInvalidTokenResponseError:_r,AuthPKCEGrantCodeExchangeError:Al,AuthRetryableFetchError:po,AuthSessionMissingError:De,AuthUnknownError:Qt,AuthWeakPasswordError:Il,CustomAuthError:Ft,GoTrueAdminApi:Du,GoTrueClient:Bu,NavigatorLockAcquireTimeoutError:Im,SIGN_OUT_SCOPES:$i,isAuthApiError:Cm,isAuthError:U,isAuthImplicitGrantRedirectError:Tm,isAuthRetryableFetchError:Ii,isAuthSessionMissingError:Pm,isAuthWeakPasswordError:m_,lockInternals:kr,navigatorLock:$m,processLock:q_},Symbol.toStringTag,{value:"Module"})),Mm=Ps(fb);Object.defineProperty(Do,"__esModule",{value:!0});Do.SupabaseAuthClient=void 0;const pb=Mm;class mb extends pb.AuthClient{constructor(t){super(t)}}Do.SupabaseAuthClient=mb;Object.defineProperty(lo,"__esModule",{value:!0});const gb=Fp,vb=Re,yb=lm,wb=i_,yi=bm,xb=km,Jd=fr,_b=Do;let bb=class{constructor(t,r,n){var s,i,o;this.supabaseUrl=t,this.supabaseKey=r;const l=(0,Jd.validateSupabaseUrl)(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,c={db:yi.DEFAULT_DB_OPTIONS,realtime:yi.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},yi.DEFAULT_AUTH_OPTIONS),{storageKey:u}),global:yi.DEFAULT_GLOBAL_OPTIONS},d=(0,Jd.applySettingDefaults)(n??{},c);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(p,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=(0,xb.fetchWithAuth)(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.accessToken&&this.accessToken().then(p=>this.realtime.setAuth(p)).catch(p=>console.warn("Failed to set initial Realtime auth token:",p)),this.rest=new vb.PostgrestClient(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new wb.StorageClient(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new gb.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,storageKey:o,flowType:l,lock:u,debug:c,throwOnError:d},p,h){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new _b.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),p),storageKey:o,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,flowType:l,lock:u,debug:c,throwOnError:d,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(y=>y.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new yb.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};lo.default=bb;(function(e){var t=Fr&&Fr.__createBinding||(Object.create?function(d,p,h,m){m===void 0&&(m=h);var y=Object.getOwnPropertyDescriptor(p,h);(!y||("get"in y?!p.__esModule:y.writable||y.configurable))&&(y={enumerable:!0,get:function(){return p[h]}}),Object.defineProperty(d,m,y)}:function(d,p,h,m){m===void 0&&(m=h),d[m]=p[h]}),r=Fr&&Fr.__exportStar||function(d,p){for(var h in d)h!=="default"&&!Object.prototype.hasOwnProperty.call(p,h)&&t(p,d,h)},n=Fr&&Fr.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(e,"__esModule",{value:!0}),e.createClient=e.SupabaseClient=e.FunctionRegion=e.FunctionsError=e.FunctionsRelayError=e.FunctionsFetchError=e.FunctionsHttpError=e.PostgrestError=void 0;const s=n(lo);r(Mm,e);var i=Re;Object.defineProperty(e,"PostgrestError",{enumerable:!0,get:function(){return i.PostgrestError}});var o=Fp;Object.defineProperty(e,"FunctionsHttpError",{enumerable:!0,get:function(){return o.FunctionsHttpError}}),Object.defineProperty(e,"FunctionsFetchError",{enumerable:!0,get:function(){return o.FunctionsFetchError}}),Object.defineProperty(e,"FunctionsRelayError",{enumerable:!0,get:function(){return o.FunctionsRelayError}}),Object.defineProperty(e,"FunctionsError",{enumerable:!0,get:function(){return o.FunctionsError}}),Object.defineProperty(e,"FunctionRegion",{enumerable:!0,get:function(){return o.FunctionRegion}}),r(lm,e);var l=lo;Object.defineProperty(e,"SupabaseClient",{enumerable:!0,get:function(){return n(l).default}});const u=(d,p,h)=>new s.default(d,p,h);e.createClient=u;function c(){if(typeof window<"u"||typeof process>"u")return!1;const d=process.version;if(d==null)return!1;const p=d.match(/^v(\d+)\./);return p?parseInt(p[1],10)<=18:!1}c()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(Ru);const Dm=Qd(Ru),kb=p0({__proto__:null,default:Dm},[Ru]),{PostgrestError:u1,FunctionsHttpError:c1,FunctionsFetchError:d1,FunctionsRelayError:h1,FunctionsError:f1,FunctionRegion:p1,SupabaseClient:m1,createClient:jb,GoTrueAdminApi:g1,GoTrueClient:v1,AuthAdminApi:y1,AuthClient:w1,navigatorLock:x1,NavigatorLockAcquireTimeoutError:_1,lockInternals:b1,processLock:k1,SIGN_OUT_SCOPES:j1,AuthError:S1,AuthApiError:E1,AuthUnknownError:N1,CustomAuthError:C1,AuthSessionMissingError:P1,AuthInvalidTokenResponseError:T1,AuthInvalidCredentialsError:O1,AuthImplicitGrantRedirectError:R1,AuthPKCEGrantCodeExchangeError:A1,AuthRetryableFetchError:I1,AuthWeakPasswordError:$1,AuthInvalidJwtError:L1,isAuthError:U1,isAuthApiError:M1,isAuthSessionMissingError:D1,isAuthImplicitGrantRedirectError:z1,isAuthRetryableFetchError:B1,isAuthWeakPasswordError:F1,RealtimePresence:V1,RealtimeChannel:q1,RealtimeClient:H1,REALTIME_LISTEN_TYPES:W1,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:K1,REALTIME_PRESENCE_LISTEN_EVENTS:G1,REALTIME_SUBSCRIBE_STATES:J1,REALTIME_CHANNEL_STATES:Q1}=Dm||kb,Sb="https://cxnamtgphelbrsecedkb.supabase.co",Eb="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImN4bmFtdGdwaGVsYnJzZWNlZGtiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ4NjU0ODUsImV4cCI6MjA4MDQ0MTQ4NX0.WdjXX3PAnYCjS_drxYL3hurwmq4XANtTjhmCjcKhamk",V=jb(Sb,Eb),Nb=({onSuccess:e})=>{const[t,r]=T.useState(!0),[n,s]=T.useState(!1),[i,o]=T.useState(null),[l,u]=T.useState(null),[c,d]=T.useState(""),[p,h]=T.useState(""),[m,y]=T.useState(""),[w,_]=T.useState(""),[g,f]=T.useState(""),[v,x]=T.useState(""),[E,S]=T.useState(""),[P,O]=T.useState("");T.useEffect(()=>{d(cp())},[]);const M=H=>{const Y=H.target.value;if(h(Y),!w||w==="@"){const be="@"+Y.toLowerCase().replace(/\s+/g,"").slice(0,10);_(be)}},$=async H=>{if(H.preventDefault(),o(null),u(null),s(!0),g!==v){o("As senhas no coincidem."),s(!1);return}if(g.length<6){o("A senha deve ter pelo menos 6 caracteres."),s(!1);return}const Y=w.startsWith("@")?w:`@${w}`;try{const{data:be,error:Ie}=await V.from("profiles").select("handle").eq("handle",Y).maybeSingle();if(Ie)throw new Error("Erro ao verificar nome de usurio.");if(be){o(`O usurio ${Y} j existe.`),s(!1);return}const{data:X,error:ve}=await V.auth.signUp({email:m,password:g,options:{data:{name:p,handle:Y}}});if(ve)throw ve.message.includes("User already registered")?new Error("E-mail j cadastrado."):ve;X.user&&(u("Conta criada! Faa login para comear."),r(!0),S(m),O(""),h(""),y(""),_(""),f(""),x(""))}catch(be){o(be.message||"Erro ao criar conta.")}finally{s(!1)}},G=async H=>{H.preventDefault(),o(null),u(null),s(!0);let Y=E.trim();const be=/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(Y);try{if(!be){let ve=Y;ve.startsWith("@")||(ve=`@${ve}`);const{data:R,error:F}=await V.from("profiles").select("email").eq("handle",ve).single();if(F||!(R!=null&&R.email))throw new Error("Usurio no encontrado ou login por handle indisponvel. Tente seu e-mail.");Y=R.email}const{data:Ie,error:X}=await V.auth.signInWithPassword({email:Y,password:P});if(X)throw X;Ie.user&&e()}catch(Ie){const X=Ie.message==="Invalid login credentials"?"Credenciais invlidas.":Ie.message;o(X||"Erro ao entrar.")}finally{s(!1)}};return a.jsxs("div",{className:"min-h-screen bg-pulse-dark flex flex-col lg:flex-row relative overflow-hidden",children:[a.jsxs("div",{className:"lg:w-1/2 p-8 lg:p-16 flex flex-col justify-center relative z-10 bg-gradient-to-br from-slate-900 via-pulse-dark to-slate-900 border-b lg:border-b-0 lg:border-r border-slate-800",children:[a.jsx("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none opacity-20",children:a.jsx("div",{className:"absolute top-10 left-10 w-64 h-64 bg-pulse-vitality/20 rounded-full blur-[100px]"})}),a.jsxs("div",{className:"max-w-md mx-auto lg:mx-0",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[a.jsx("div",{className:"w-12 h-12 bg-pulse-vitality rounded-full flex items-center justify-center shadow-lg shadow-yellow-500/20",children:a.jsx(jt,{className:"text-pulse-dark w-7 h-7"})}),a.jsxs("h1",{className:"text-3xl lg:text-4xl font-bold text-white tracking-tight",children:["PULSE",a.jsx("span",{className:"text-pulse-vitality",children:"OUT"})]})]}),a.jsxs("h2",{className:"text-3xl lg:text-5xl font-extrabold text-white mb-6 leading-tight",children:["Supere o ",a.jsx("br",{}),a.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-pulse-vitality to-yellow-600",children:"Superficial."})]}),a.jsx("p",{className:"text-slate-400 text-lg mb-10 leading-relaxed",children:"A rede social desenhada para restaurar a qualidade da conexo humana. Sem algoritmos de vcio, apenas comunidades intencionais e conversas que importam."}),a.jsxs("div",{className:"bg-slate-800/50 border border-slate-700 p-6 rounded-2xl mb-10 backdrop-blur-sm relative group hover:border-pulse-vitality/50 transition-colors",children:[a.jsx(fp,{className:"absolute top-4 right-4 text-slate-600 w-8 h-8 opacity-20 group-hover:opacity-40 transition-opacity"}),a.jsx("p",{className:"text-xs font-bold text-pulse-vitality uppercase tracking-widest mb-2",children:"Reflexo do Dia"}),a.jsxs("p",{className:"text-white text-xl font-serif italic",children:['"',c,'"']}),a.jsxs("div",{className:"mt-4 flex items-center gap-2 text-sm text-slate-500",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),a.jsx("span",{children:"42 pessoas debatendo isso agora no Global Pulse."})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx(Lt,{className:"text-indigo-400 w-6 h-6"}),a.jsx("span",{className:"font-bold text-white",children:"Pockets"}),a.jsx("span",{className:"text-xs text-slate-500",children:"Grupos limitados a 50 pessoas."})]}),a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx(Oi,{className:"text-emerald-400 w-6 h-6"}),a.jsx("span",{className:"font-bold text-white",children:"Profundidade"}),a.jsx("span",{className:"text-xs text-slate-500",children:"Recompensas por contedo denso."})]}),a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx(Tu,{className:"text-rose-400 w-6 h-6"}),a.jsx("span",{className:"font-bold text-white",children:"rbitros"}),a.jsx("span",{className:"text-xs text-slate-500",children:"Moderao humana e justa."})]})]})]})]}),a.jsx("div",{className:"lg:w-1/2 flex items-center justify-center p-4 lg:p-8 bg-pulse-base",children:a.jsxs("div",{className:"w-full max-w-md",children:[a.jsx("div",{className:"lg:hidden text-center mb-8",children:a.jsx("h3",{className:"text-xl font-bold text-white",children:"Bem-vindo de volta"})}),a.jsxs("div",{className:"bg-pulse-dark border border-slate-800 rounded-2xl p-8 shadow-2xl",children:[a.jsxs("div",{className:"flex border-b border-slate-800 mb-8",children:[a.jsx("button",{onClick:()=>{r(!0),o(null),u(null)},className:`flex-1 pb-4 text-sm font-bold transition-all border-b-2 ${t?"text-white border-pulse-vitality":"text-slate-500 border-transparent hover:text-slate-300"}`,children:"Entrar"}),a.jsx("button",{onClick:()=>{r(!1),o(null),u(null)},className:`flex-1 pb-4 text-sm font-bold transition-all border-b-2 ${t?"text-slate-500 border-transparent hover:text-slate-300":"text-white border-pulse-vitality"}`,children:"Cadastrar"})]}),l&&a.jsxs("div",{className:"mb-6 p-4 bg-emerald-900/20 border border-emerald-500/30 rounded-xl flex items-start gap-3 animate-fade-in",children:[a.jsx(Tn,{className:"w-5 h-5 text-emerald-400 mt-0.5"}),a.jsx("p",{className:"text-emerald-200 text-sm font-medium",children:l})]}),i&&a.jsx("div",{className:"mb-6 p-4 bg-red-900/20 border border-red-500/30 rounded-xl text-red-300 text-sm text-center font-medium animate-pulse",children:i}),t?a.jsxs("form",{onSubmit:G,className:"space-y-5",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-slate-400 text-xs uppercase tracking-wider font-bold mb-2",children:"E-mail ou Usurio"}),a.jsxs("div",{className:"relative",children:[a.jsx(Gw,{className:"absolute left-3 top-3.5 text-slate-500 w-4 h-4"}),a.jsx("input",{required:!0,type:"text",className:"w-full bg-slate-900 border border-slate-700 rounded-xl py-3 pl-10 pr-3 text-white focus:border-pulse-vitality focus:outline-none transition-colors placeholder-slate-600",placeholder:"seu@email.com ou @usuario",value:E,onChange:H=>S(H.target.value)})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-slate-400 text-xs uppercase tracking-wider font-bold mb-2",children:"Senha"}),a.jsxs("div",{className:"relative",children:[a.jsx(Kw,{className:"absolute left-3 top-3.5 w-4 h-4 text-slate-500"}),a.jsx("input",{required:!0,type:"password",className:"w-full bg-slate-900 border border-slate-700 rounded-xl py-3 pl-10 pr-3 text-white focus:border-pulse-vitality focus:outline-none transition-colors placeholder-slate-600",placeholder:"",value:P,onChange:H=>O(H.target.value)})]})]}),a.jsx("button",{type:"submit",disabled:n,className:"w-full bg-white hover:bg-slate-200 text-pulse-dark font-bold py-4 rounded-xl transition-all shadow-lg mt-4",children:n?"Entrando...":"Acessar Comunidade"}),a.jsxs("div",{className:"text-center mt-4",children:[a.jsx("span",{className:"text-slate-500 text-xs",children:"Esqueceu a senha? "}),a.jsx("button",{type:"button",className:"text-pulse-vitality text-xs font-bold hover:underline",children:"Recuperar acesso"})]})]}):a.jsxs("form",{onSubmit:$,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-slate-400 text-xs uppercase tracking-wider font-bold mb-1",children:"Nome"}),a.jsx("input",{required:!0,className:"w-full bg-slate-900 border border-slate-700 rounded-xl p-3 text-white focus:border-pulse-vitality focus:outline-none",placeholder:"Seu nome",value:p,onChange:M})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-slate-400 text-xs uppercase tracking-wider font-bold mb-1",children:"E-mail"}),a.jsx("input",{required:!0,type:"email",className:"w-full bg-slate-900 border border-slate-700 rounded-xl p-3 text-white focus:border-pulse-vitality focus:outline-none",placeholder:"seu@email.com",value:m,onChange:H=>y(H.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-slate-400 text-xs uppercase tracking-wider font-bold mb-1",children:"Handle (@)"}),a.jsx("input",{required:!0,className:"w-full bg-slate-900 border border-slate-700 rounded-xl p-3 text-slate-200 focus:border-pulse-vitality focus:outline-none",placeholder:"@usuario",value:w,onChange:H=>_(H.target.value)})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("label",{className:"block text-slate-400 text-xs uppercase tracking-wider font-bold mb-1",children:"Senha"}),a.jsx("input",{required:!0,type:"password",className:"w-full bg-slate-900 border border-slate-700 rounded-xl p-3 text-white focus:border-pulse-vitality focus:outline-none",placeholder:"",value:g,onChange:H=>f(H.target.value)})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("label",{className:"block text-slate-400 text-xs uppercase tracking-wider font-bold mb-1",children:"Confirmar"}),a.jsx("input",{required:!0,type:"password",className:"w-full bg-slate-900 border border-slate-700 rounded-xl p-3 text-white focus:border-pulse-vitality focus:outline-none",placeholder:"",value:v,onChange:H=>x(H.target.value)})]})]}),a.jsx("button",{type:"submit",disabled:n,className:"w-full bg-pulse-vitality hover:bg-yellow-400 text-pulse-dark font-bold py-4 rounded-xl shadow-lg mt-4 disabled:opacity-50",children:n?"Registrando...":"Criar Conta"})]})]}),a.jsxs("p",{className:"text-center text-slate-600 text-xs mt-6",children:["Ao entrar, voc concorda com o nosso ",a.jsx("span",{className:"underline cursor-pointer",children:"Pacto de No-Toxicidade"}),"."]})]})})]})},Cb=({onClose:e,onSearch:t,results:r,onToggleFollow:n,currentUser:s})=>{const[i,o]=T.useState(""),l=T.useRef(null);return T.useEffect(()=>{i.trim().length>1&&(l.current&&clearTimeout(l.current),l.current=setTimeout(()=>{t(i)},500))},[i,t]),a.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-pulse-base border border-slate-700 rounded-2xl max-w-lg w-full p-6 shadow-2xl relative h-[600px] flex flex-col",children:[a.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-slate-500 hover:text-white",children:a.jsx(Pn,{})}),a.jsxs("div",{className:"mb-6",children:[a.jsxs("h2",{className:"text-xl font-bold text-white mb-1 flex items-center gap-2",children:[a.jsx(ao,{className:"w-6 h-6 text-pulse-vitality"}),"Buscar Pessoas"]}),a.jsx("p",{className:"text-slate-400 text-sm",children:"Encontre vozes para sintonizar."})]}),a.jsxs("div",{className:"relative mb-6",children:[a.jsx("input",{autoFocus:!0,type:"text",placeholder:"Nome ou @handle...",className:"w-full bg-pulse-dark border border-slate-700 rounded-xl py-3 pl-10 pr-4 text-white focus:border-pulse-vitality focus:outline-none",value:i,onChange:u=>o(u.target.value)}),a.jsx(ao,{className:"absolute left-3 top-3.5 w-4 h-4 text-slate-500"})]}),a.jsx("div",{className:"flex-1 overflow-y-auto space-y-3 pr-2 custom-scrollbar",children:i.length>1&&r.length===0?a.jsx("div",{className:"text-center py-10 text-slate-500",children:"Nenhum usurio encontrado."}):r.map(u=>{const c=s.following.includes(u.id);return s.id===u.id?null:a.jsxs("div",{className:"flex items-center justify-between bg-slate-800/40 p-3 rounded-xl border border-slate-800 hover:border-slate-700 transition-colors",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("img",{src:u.avatar,alt:u.name,className:"w-10 h-10 rounded-full object-cover"}),a.jsxs("div",{children:[a.jsxs("p",{className:"font-bold text-slate-200 text-sm flex items-center gap-1",children:[u.name,u.isFounder?a.jsx(Ar,{className:"w-3 h-3 text-yellow-500 fill-current"}):u.isVerified&&a.jsx(Rr,{className:"w-3 h-3 text-pulse-vitality fill-current"})]}),a.jsx("p",{className:"text-xs text-slate-500",children:u.handle})]})]}),a.jsx("button",{onClick:()=>n(u.id),className:`px-3 py-1.5 rounded-lg text-xs font-bold flex items-center gap-1 transition-all ${c?"bg-emerald-900/20 text-emerald-400 border border-emerald-900":"bg-pulse-vitality text-pulse-dark hover:bg-yellow-400"}`,children:c?a.jsxs(a.Fragment,{children:[a.jsx(Tn,{className:"w-3 h-3"})," Sintonizado"]}):a.jsxs(a.Fragment,{children:[a.jsx(hp,{className:"w-3 h-3"})," Sintonizar"]})})]},u.id)})})]})})},Pb=({onClose:e,onSubmit:t})=>{const[r,n]=T.useState(""),[s,i]=T.useState(""),[o,l]=T.useState(""),[u,c]=T.useState(""),[d,p]=T.useState(""),[h,m]=T.useState(""),y=w=>{w.preventDefault();const _=o.split(",").map(g=>g.trim()).filter(g=>g.length>0);t({name:r,description:s,tags:_,applicationQuestions:[u,d,h]})};return a.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-pulse-base border border-slate-700 rounded-2xl max-w-2xl w-full p-6 md:p-8 shadow-2xl relative animate-fade-in-up max-h-[90vh] overflow-y-auto",children:[a.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-slate-500 hover:text-white",children:a.jsx(Pn,{})}),a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("div",{className:"p-3 bg-indigo-500/20 rounded-full",children:a.jsx(is,{className:"w-6 h-6 text-indigo-400"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-white",children:"Criar Novo Pocket"}),a.jsx("p",{className:"text-slate-400 text-sm",children:"Crie um micro-universo para conexes profundas."})]})]}),a.jsxs("form",{onSubmit:y,className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs uppercase tracking-wider text-slate-500 font-bold mb-2",children:"Nome do Pocket"}),a.jsx("input",{required:!0,maxLength:40,type:"text",className:"w-full bg-pulse-dark border border-slate-700 rounded-xl p-3 text-white focus:border-pulse-vitality focus:outline-none transition-colors",placeholder:"Ex: Cinema Noir",value:r,onChange:w=>n(w.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs uppercase tracking-wider text-slate-500 font-bold mb-2",children:"Tags (Separe por vrgula)"}),a.jsx("input",{required:!0,type:"text",className:"w-full bg-pulse-dark border border-slate-700 rounded-xl p-3 text-white focus:border-pulse-vitality focus:outline-none transition-colors",placeholder:"Ex: Filmes, Arte, Clssicos",value:o,onChange:w=>l(w.target.value)})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs uppercase tracking-wider text-slate-500 font-bold mb-2",children:"Descrio / Manifesto"}),a.jsx("textarea",{required:!0,maxLength:200,rows:3,className:"w-full bg-pulse-dark border border-slate-700 rounded-xl p-3 text-white focus:border-pulse-vitality focus:outline-none resize-none transition-colors",placeholder:"Qual o propsito deste grupo? O que une as pessoas aqui?",value:s,onChange:w=>i(w.target.value)})]}),a.jsxs("div",{className:"bg-slate-800/30 p-4 rounded-xl border border-slate-800",children:[a.jsxs("h3",{className:"text-pulse-vitality font-bold text-sm mb-3 flex items-center gap-2",children:[a.jsx(Tn,{className:"w-4 h-4"})," Perguntas de Aplicao (Obrigatrias)"]}),a.jsx("p",{className:"text-xs text-slate-400 mb-4",children:"No PULSEOUT, ningum entra sem bater na porta. Defina 3 perguntas para filtrar quem realmente se importa com o tema."}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("input",{required:!0,type:"text",className:"w-full bg-pulse-dark border border-slate-700 rounded-lg p-2 text-sm text-white focus:border-indigo-500 focus:outline-none",placeholder:"Pergunta 1 (Ex: Qual sua experincia com...)",value:u,onChange:w=>c(w.target.value)}),a.jsx("input",{required:!0,type:"text",className:"w-full bg-pulse-dark border border-slate-700 rounded-lg p-2 text-sm text-white focus:border-indigo-500 focus:outline-none",placeholder:"Pergunta 2 (Ex: O que voc espera contribuir...)",value:d,onChange:w=>p(w.target.value)}),a.jsx("input",{required:!0,type:"text",className:"w-full bg-pulse-dark border border-slate-700 rounded-lg p-2 text-sm text-white focus:border-indigo-500 focus:outline-none",placeholder:"Pergunta 3 (Ex: Um fato curioso sobre...)",value:h,onChange:w=>m(w.target.value)})]})]}),a.jsx("div",{className:"flex justify-end pt-2",children:a.jsx("button",{type:"submit",className:"bg-pulse-vitality text-pulse-dark font-bold py-3 px-8 rounded-xl hover:bg-yellow-400 transition-colors shadow-lg shadow-yellow-500/10",children:"Fundar Pocket"})})]})]})})},Tb=({userPockets:e,onClose:t,onSubmit:r,initialContent:n=""})=>{const[s,i]=T.useState(n?`Reflexo: "${n}"

`:""),[o,l]=T.useState("global"),[u,c]=T.useState(null),[d,p]=T.useState(""),[h,m]=T.useState(!1),[y,w]=T.useState(!1),[_,g]=T.useState("24h"),f=T.useRef(null),v=T.useRef(null),x=30,E=s.trim().length,S=Math.min(E/x*100,100),P=E>=x;T.useEffect(()=>{v.current&&(v.current.focus(),v.current.setSelectionRange(v.current.value.length,v.current.value.length))},[]);const O=$=>{if($.preventDefault(),!P&&!u)return;let G=null;if(y){const H=new Date;_==="24h"&&H.setDate(H.getDate()+1),_==="7d"&&H.setDate(H.getDate()+7),_==="30d"&&H.setDate(H.getDate()+30),G=H.toISOString()}r(s,o==="global"?null:o,u,d.trim()||null,G)},M=$=>{var H;const G=(H=$.target.files)==null?void 0:H[0];if(G){const Y=new FileReader;Y.onloadend=()=>{c(Y.result)},Y.readAsDataURL(G)}};return a.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-pulse-base border border-slate-700 rounded-2xl max-w-lg w-full p-6 shadow-2xl relative animate-fade-in-up flex flex-col max-h-[90vh]",children:[a.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-slate-500 hover:text-white",children:a.jsx(Pn,{})}),a.jsxs("h2",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2",children:[a.jsx(jt,{className:"w-5 h-5 text-pulse-vitality"}),"Criar Nova Publicao"]}),a.jsxs("form",{onSubmit:O,className:"flex-1 overflow-y-auto pr-2 custom-scrollbar",children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-xs uppercase tracking-wider text-slate-500 font-bold mb-2",children:"Onde publicar?"}),a.jsxs("div",{className:"relative",children:[a.jsxs("select",{value:o,onChange:$=>l($.target.value),className:"w-full bg-pulse-dark border border-slate-700 rounded-xl p-3 text-slate-200 appearance-none focus:border-pulse-vitality focus:outline-none",children:[a.jsx("option",{value:"global",children:" Pulse Global (Pblico)"}),a.jsx("optgroup",{label:"Seus Pockets",children:e.map($=>a.jsx("option",{value:$.id,children:$.name},$.id))})]}),a.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center px-2 pointer-events-none",children:a.jsx(Lt,{className:"w-4 h-4 text-slate-500"})})]})]}),a.jsxs("div",{className:"mb-2",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("label",{className:"block text-xs uppercase tracking-wider text-slate-500 font-bold",children:"Sua mensagem"}),a.jsxs("span",{className:`text-xs font-bold transition-colors ${P?"text-emerald-400":"text-slate-500"}`,children:[E,"/",x," caracteres"]})]}),a.jsx("textarea",{ref:v,required:!u,rows:5,placeholder:"Compartilhe algo genuno. Evite o superficial...",className:"w-full bg-pulse-dark border border-slate-700 rounded-xl p-3 text-white focus:border-pulse-vitality focus:outline-none resize-none",value:s,onChange:$=>i($.target.value)}),a.jsx("div",{className:"h-1 w-full bg-slate-800 rounded-full mt-2 overflow-hidden",children:a.jsx("div",{className:`h-full transition-all duration-500 ${P?"bg-emerald-500":"bg-slate-600"}`,style:{width:`${S}%`}})}),!P&&!u&&a.jsx("p",{className:"text-xs text-slate-500 mt-1 italic",children:"* Escreva um pouco mais para aprofundar a conexo."})]}),a.jsx("button",{type:"button",onClick:()=>m(!h),className:"text-xs text-indigo-400 font-bold mt-2 mb-2 flex items-center gap-1 hover:text-indigo-300",children:h?" Ocultar Opes Avanadas":"+ Duetos e Cpsula do Tempo"}),h&&a.jsxs("div",{className:"bg-slate-800/30 border border-slate-700 p-3 rounded-xl mb-4 space-y-4 animate-fade-in",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"text-xs text-slate-400 font-bold mb-1 flex items-center gap-2",children:[a.jsx(ox,{className:"w-3 h-3"})," Co-Autor (Dueto)"]}),a.jsx("input",{type:"text",placeholder:"@handle do parceiro",className:"w-full bg-slate-900 border border-slate-700 rounded-lg p-2 text-sm text-white",value:d,onChange:$=>p($.target.value)})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("label",{className:"text-xs text-slate-400 font-bold flex items-center gap-2",children:[a.jsx(vl,{className:"w-3 h-3"})," Cpsula do Tempo"]}),a.jsx("input",{type:"checkbox",checked:y,onChange:$=>w($.target.checked),className:"accent-pulse-vitality"})]}),y&&a.jsxs("select",{className:"w-full bg-slate-900 border border-slate-700 rounded-lg p-2 text-sm text-white",value:_,onChange:$=>g($.target.value),children:[a.jsx("option",{value:"24h",children:"Revelar em 24 horas"}),a.jsx("option",{value:"7d",children:"Revelar em 7 dias"}),a.jsx("option",{value:"30d",children:"Revelar em 30 dias"})]})]})]}),u&&a.jsxs("div",{className:"mb-4 relative rounded-xl overflow-hidden border border-slate-700 group mt-4",children:[a.jsx("img",{src:u,alt:"Preview",className:"w-full h-48 object-cover opacity-80 group-hover:opacity-100 transition-opacity"}),a.jsx("button",{type:"button",onClick:()=>{c(null),f.current&&(f.current.value="")},className:"absolute top-2 right-2 p-2 bg-red-900/80 text-white rounded-full hover:bg-red-600 transition-colors",title:"Remover imagem",children:a.jsx(Es,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"flex items-center justify-between gap-4 mt-6",children:[a.jsxs("div",{className:"flex-shrink-0",children:[a.jsx("input",{type:"file",ref:f,accept:"image/*",className:"hidden",onChange:M}),a.jsxs("button",{type:"button",onClick:()=>{var $;return($=f.current)==null?void 0:$.click()},className:"flex items-center gap-2 px-4 py-3 rounded-xl border border-slate-700 text-slate-400 hover:text-white hover:bg-slate-800 transition-colors",title:"Anexar Imagem",children:[a.jsx(Ww,{className:"w-5 h-5"}),a.jsx("span",{className:"text-sm font-medium",children:"Foto"})]})]}),a.jsxs("button",{type:"submit",disabled:!P&&!u,className:"flex-grow bg-pulse-vitality text-pulse-dark font-bold py-3 rounded-xl hover:bg-yellow-400 disabled:opacity-30 disabled:cursor-not-allowed transition-all flex items-center justify-center gap-2 transform active:scale-95",children:[a.jsx(Ou,{className:"w-4 h-4"}),y?"Agendar Cpsula":"Publicar"]})]})]})]})})},Ob=({onAccept:e})=>{const[t,r]=T.useState(!1);return a.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-pulse-base border border-slate-700 rounded-2xl max-w-lg w-full p-8 shadow-2xl relative animate-fade-in-up",children:[a.jsxs("div",{className:"flex flex-col items-center mb-6",children:[a.jsx("div",{className:"w-16 h-16 bg-pulse-vitality/20 rounded-full flex items-center justify-center mb-4",children:a.jsx(Ss,{className:"w-8 h-8 text-pulse-vitality"})}),a.jsx("h2",{className:"text-2xl font-bold text-white text-center",children:"Pacto de No-Toxicidade"}),a.jsx("p",{className:"text-slate-400 text-center mt-2",children:"Antes de entrar, precisamos do seu compromisso."})]}),a.jsx("div",{className:"bg-pulse-dark p-6 rounded-xl border border-slate-800 mb-6",children:a.jsxs("p",{className:"text-slate-300 italic text-center leading-relaxed",children:['"',qv,'"']})}),a.jsxs("div",{className:"flex items-center mb-8 justify-center",children:[a.jsx("input",{type:"checkbox",id:"pact-check",className:"w-5 h-5 accent-pulse-vitality rounded cursor-pointer",checked:t,onChange:n=>r(n.target.checked)}),a.jsx("label",{htmlFor:"pact-check",className:"ml-3 text-slate-300 cursor-pointer select-none",children:"Li e aceito os termos de convivncia."})]}),a.jsx("button",{onClick:e,disabled:!t,className:"w-full py-4 rounded-xl font-bold text-pulse-dark bg-pulse-vitality hover:bg-yellow-400 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:"Entrar no PULSEOUT"})]})})},Rb=({pocket:e,onClose:t,onSubmit:r,userScore:n})=>{const[s,i]=T.useState(["","",""]),[o,l]=T.useState(""),[u,c]=T.useState(!1),d=n<50,p=m=>{m.preventDefault(),c(!0),setTimeout(()=>{r(),c(!1)},1500)},h=(m,y)=>{const w=[...s];w[m]=y,i(w)};return a.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4 overflow-y-auto",children:a.jsxs("div",{className:"bg-pulse-base border border-slate-700 rounded-2xl max-w-2xl w-full p-6 md:p-8 shadow-2xl relative my-8",children:[a.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-slate-500 hover:text-white",children:a.jsx(Pn,{})}),a.jsxs("div",{className:"mb-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx(Lt,{className:"text-pulse-vitality w-6 h-6"}),a.jsxs("h2",{className:"text-2xl font-bold text-white",children:["Aplicao: ",e.name]})]}),a.jsx("p",{className:"text-slate-400",children:"Para manter a qualidade das conexes, este Pocket exige respostas breves para entrar. Mximo 50 membros."})]}),d&&a.jsxs("div",{className:"bg-indigo-900/30 border border-indigo-500/40 rounded-xl p-4 mb-6 flex items-start gap-3",children:[a.jsx(Xw,{className:"w-6 h-6 text-indigo-400 mt-0.5 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-indigo-300 text-sm",children:"Apadrinhamento Necessrio"}),a.jsxs("p",{className:"text-xs text-indigo-200 mt-1",children:["Seu PULSE Score (",n,") ainda  baixo. Para entrar em Pockets restritos, voc precisa ser apadrinhado por um membro ou rbitro existente."]})]})]}),a.jsxs("form",{onSubmit:p,className:"space-y-6",children:[e.applicationQuestions.map((m,y)=>a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-pulse-vitality mb-2",children:[y+1,". ",m]}),a.jsx("textarea",{required:!0,rows:3,className:"w-full bg-pulse-dark border border-slate-700 rounded-xl p-3 text-slate-200 focus:border-pulse-vitality focus:ring-1 focus:ring-pulse-vitality outline-none transition-colors",placeholder:"Sua resposta honesta...",value:s[y],onChange:w=>h(y,w.target.value)})]},y)),d&&a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-indigo-400 mb-2 flex items-center gap-2",children:[a.jsx(os,{className:"w-4 h-4"})," Handle do Padrinho (@)"]}),a.jsx("input",{required:!0,type:"text",className:"w-full bg-pulse-dark border border-indigo-500/50 rounded-xl p-3 text-slate-200 focus:border-indigo-500 outline-none transition-colors placeholder-slate-600",placeholder:"@nomedousuario",value:o,onChange:m=>l(m.target.value)}),a.jsx("p",{className:"text-[10px] text-slate-500 mt-1",children:"* Se o padrinho no validar em 24h, a aplicao expira."})]}),a.jsx("div",{className:"flex justify-end pt-4",children:a.jsx("button",{type:"submit",disabled:u,className:"px-8 py-3 rounded-xl font-bold text-pulse-dark bg-pulse-vitality hover:bg-yellow-400 disabled:opacity-70 transition-all flex items-center gap-2",children:u?"Enviando...":"Enviar Aplicao"})})]})]})})},Ab=({onClose:e,onSubmit:t,remaining:r})=>{const[n,s]=T.useState(""),i=o=>{o.preventDefault(),n.trim().length>5&&t(n)};return a.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-pulse-base border border-slate-700 rounded-2xl max-w-md w-full p-8 shadow-2xl relative",children:[a.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-slate-500 hover:text-white",children:a.jsx(Pn,{})}),a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("div",{className:"w-12 h-12 bg-indigo-500/20 rounded-full flex items-center justify-center mx-auto mb-3",children:a.jsx(js,{className:"w-6 h-6 text-indigo-400"})}),a.jsx("h2",{className:"text-xl font-bold text-white",children:"Enviar PULSE Ping"}),a.jsxs("p",{className:"text-slate-400 text-sm mt-1",children:["Conexes diretas exigem contexto. ",a.jsx("br",{}),"Voc tem ",a.jsx("span",{className:"text-pulse-vitality font-bold",children:r})," pings hoje."]})]}),a.jsxs("form",{onSubmit:i,children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{className:"block text-xs uppercase tracking-wider text-slate-500 font-bold mb-2",children:"Tpico de Contexto (Obrigatrio)"}),a.jsx("input",{autoFocus:!0,type:"text",required:!0,placeholder:"Ex: Sobre seu post de estoicismo...",className:"w-full bg-pulse-dark border border-slate-700 rounded-lg p-3 text-white focus:border-indigo-500 focus:outline-none",value:n,onChange:o=>s(o.target.value)})]}),a.jsx("button",{type:"submit",className:"w-full bg-indigo-600 hover:bg-indigo-500 text-white font-bold py-3 rounded-xl transition-colors",children:"Enviar Ping"})]})]})})},Ht=[{title:"Bem-vindo ao PULSEOUT",description:"Voc acaba de entrar em uma rede desenhada para a profundidade. Esquea a rolagem infinita e a dopamina barata. Aqui, a moeda  a conexo genuna.",icon:jt,color:"text-pulse-vitality"},{title:"Pockets: Micro-Comunidades",description:"Nada de grupos com 50.000 pessoas gritando. Pockets so limitados a 50 membros. Para entrar, voc precisa aplicar e ser aceito. Qualidade > Quantidade.",icon:Lt,color:"text-emerald-400"},{title:"Pings: Inteno Real",description:"No existem DMs ilimitadas. Voc tem 5 'Pings' por dia para iniciar conversas privadas. Use-os com sabedoria e sempre fornea um contexto.",icon:js,color:"text-indigo-400"},{title:"Sentimento > Like",description:"Interaja com humanidade: Inspirou (Novas ideias), Profundo (Reflexo), Apoio (Solidariedade) e Grato (Reconhecimento).",icon:yl,color:"text-purple-400"},{title:"PULSE Score & rbitros",description:"Sua pontuao (0-150) define sua influncia. Comportamento txico reduz seu score. Pontuao alta permite criar Pockets e virar rbitro.",icon:Tu,color:"text-rose-400"}],Ib=({onComplete:e})=>{const[t,r]=T.useState(0),n=()=>{t<Ht.length-1?r(i=>i+1):e()},s=Ht[t].icon;return a.jsx("div",{className:"fixed inset-0 bg-pulse-dark/95 backdrop-blur-md z-[60] flex items-center justify-center p-4 animate-fade-in",children:a.jsxs("div",{className:"bg-pulse-base border border-slate-700 rounded-3xl max-w-lg w-full p-8 shadow-2xl relative overflow-hidden flex flex-col min-h-[400px]",children:[a.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-gradient-to-br from-white/5 to-transparent rounded-full blur-3xl -mr-20 -mt-20 pointer-events-none transition-colors duration-500"}),a.jsx("div",{className:"flex gap-2 mb-8",children:Ht.map((i,o)=>a.jsx("div",{className:`h-1 flex-1 rounded-full transition-all duration-300 ${o<=t?"bg-pulse-vitality":"bg-slate-800"}`},o))}),a.jsxs("div",{className:"flex-1 flex flex-col items-center text-center justify-center animate-fade-in-up",children:[a.jsx("div",{className:"w-20 h-20 rounded-full bg-slate-800/50 border border-slate-700 flex items-center justify-center mb-6 shadow-lg",children:a.jsx(s,{className:`w-10 h-10 ${Ht[t].color}`})}),a.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:Ht[t].title}),a.jsx("p",{className:"text-slate-400 text-lg leading-relaxed",children:Ht[t].description})]},t),a.jsxs("div",{className:"mt-8 flex items-center justify-between",children:[a.jsx("button",{onClick:e,className:"text-slate-500 hover:text-white text-sm font-medium px-4 py-2 transition-colors",children:"Pular Tour"}),a.jsxs("button",{onClick:n,className:"bg-pulse-vitality text-pulse-dark font-bold py-3 px-6 rounded-xl hover:bg-yellow-400 transition-all flex items-center gap-2 shadow-lg shadow-yellow-500/10 group",children:[t===Ht.length-1?"Comear Jornada":"Prximo",t===Ht.length-1?a.jsx(Tn,{className:"w-4 h-4"}):a.jsx(mp,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]})]})]})})};function $b(){const[e,t]=T.useState(null),[r,n]=T.useState("HOME"),[s,i]=T.useState(!1),[o,l]=T.useState(!0),[u,c]=T.useState(!0),[d,p]=T.useState(!1),[h,m]=T.useState([]),[y,w]=T.useState([]),[_,g]=T.useState([]),[f,v]=T.useState("GLOBAL"),[x,E]=T.useState(Vv),[S,P]=T.useState([]),[O,M]=T.useState(null),[$,G]=T.useState([]),[H,Y]=T.useState(0),[be,Ie]=T.useState("SCROLL"),[X,ve]=T.useState(0),[R,F]=T.useState(null),[q,te]=T.useState(!1),[he,Vt]=T.useState(!1),[Nt,pr]=T.useState(!1),[Ct,mr]=T.useState(!1),[Bm,Fu]=T.useState([]),[Fm,Vu]=T.useState(""),[qu,Hu]=T.useState(null),[Pt,Wu]=T.useState(!1),[ke,Br]=T.useState({name:"",bio:"",avatar:"",isArbiter:!1,shelf:[]}),[We,Us]=T.useState({category:"BOOK",title:"",author:""}),[Ms,Ku]=T.useState("POSTS"),Gu=T.useRef(null),[Ub,Mb]=T.useState(!1),Bo=T.useRef(null),[Ds,Ju]=T.useState("");T.useEffect(()=>{V.auth.getSession().then(({data:{session:b}})=>{b?Qu(b.user.id):c(!1)});const{data:{subscription:k}}=V.auth.onAuthStateChange((b,N)=>{N?Qu(N.user.id):(t(null),c(!1))});return()=>k.unsubscribe()},[]),T.useEffect(()=>{let k,b;return e&&(zs(),Bs(),Yu(),k=V.channel("public:pings").on("postgres_changes",{event:"*",schema:"public",table:"pings"},()=>{Yu()}).subscribe(),b=V.channel("public:posts").on("postgres_changes",{event:"*",schema:"public",table:"posts"},()=>{zs()}).subscribe()),()=>{k&&V.removeChannel(k),b&&V.removeChannel(b)}},[e]),T.useEffect(()=>{let k;if(O&&e){if(!/^[0-9a-f]{8}-[0-9a-f]{4}-[0-5][0-9a-f]{3}-[089ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(O)){const j=Fv.find(A=>A.id===O);j&&G(j.messages);return}Vm(O),k=V.channel(`ping-${O}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"messages",filter:`ping_id=eq.${O}`},j=>{const A=j.new,D={id:A.id,senderId:A.sender_id===e.id?"me":"other",text:A.content,timestamp:new Date(A.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})};G(Q=>[...Q,D])}).subscribe()}return()=>{k&&V.removeChannel(k)}},[O,e]),T.useEffect(()=>{O&&Bo.current&&Bo.current.scrollIntoView({behavior:"smooth"})},[$,O]);const Qu=async k=>{var b,N;try{const{data:j,error:A}=await V.from("profiles").select("*").eq("id",k).single();if(A)throw A;let D=[];const{data:Q}=await V.from("follows").select("following_id").eq("follower_id",k);Q&&(D=Q.map(fe=>fe.following_id));let Ke=j.bookmarks||[],yt=[];try{const fe=`pulseout_shelf_${k}`,Tt=localStorage.getItem(fe);Tt?yt=JSON.parse(Tt):yt=j.shelf||[]}catch(fe){console.error("Error parsing shelf data",fe),yt=[]}if(j){const fe=((b=j.handle)==null?void 0:b.toLowerCase())==="@gustavolanconi"||((N=j.name)==null?void 0:N.toLowerCase())==="gustavolanconi",Tt={id:j.id,name:j.name,handle:j.handle,avatar:j.avatar||`https://picsum.photos/seed/${j.id}/200`,bio:j.bio,pulseScore:j.pulse_score,isArbiter:j.is_arbiter,isVerified:fe?!0:j.is_verified||!1,isFounder:fe,dailyPingsRemaining:j.daily_pings_remaining,following:D,bookmarks:Ke,shelf:yt,reactionStats:{I:5,P:2,A:8,T:1},hasVoiceBio:j.has_voice_bio||!1};t(Tt);const $n=localStorage.getItem("pulseout_pact"),gr=localStorage.getItem("pulseout_tour_completed");$n==="true"?(i(!0),l(gr==="true")):(i(!1),l(!0))}}catch(j){console.error("Profile Error:",j)}finally{c(!1)}},zs=async()=>{if(p(!0),!e)return;const{data:k,error:b}=await V.from("posts").select(`
            *,
            user:user_id(name, avatar, handle),
            pocket:pocket_id(name),
            comments(*, user:user_id(name, avatar, handle))
        `).order("created_at",{ascending:!1}),{data:N,error:j}=await V.from("post_reactions").select("post_id, reaction_type").eq("user_id",e.id);if(b){console.error("Fetch Posts Error:",b),oe("Erro ao carregar feed."),p(!1);return}if(k){const A=k.map(D=>{var yt,fe,Tt,$n,gr,wt,ec,tc;const Q=N==null?void 0:N.find(tt=>tt.post_id===D.id),Ke=((fe=(yt=D.user)==null?void 0:yt.handle)==null?void 0:fe.toLowerCase())==="@gustavolanconi"||(($n=(Tt=D.user)==null?void 0:Tt.name)==null?void 0:$n.toLowerCase())==="gustavolanconi";return{id:D.id,userId:D.user_id,userName:((gr=D.user)==null?void 0:gr.name)||"Unknown",userAvatar:((wt=D.user)==null?void 0:wt.avatar)||"https://via.placeholder.com/150",userIsVerified:Ke?!0:((ec=D.user)==null?void 0:ec.is_verified)||!1,userIsFounder:Ke,userDominantReaction:"A",coAuthorName:D.co_author_name,content:D.content,timestamp:new Date(D.created_at).toLocaleDateString(),depthBadge:D.depth_badge,isSlowMode:D.is_slow_mode,isTimeCapsule:!!D.scheduled_for,scheduledFor:D.scheduled_for,reactions:D.reactions||{I:0,P:0,A:0,T:0},currentUserReaction:Q?Q.reaction_type:null,pocketId:D.pocket_id,pocketName:(tc=D.pocket)==null?void 0:tc.name,imageUrl:D.image_url,comments:D.comments?D.comments.map(tt=>{var nc,sc,ic,oc,ac,lc,uc;const rc=((sc=(nc=tt.user)==null?void 0:nc.handle)==null?void 0:sc.toLowerCase())==="@gustavolanconi"||((oc=(ic=tt.user)==null?void 0:ic.name)==null?void 0:oc.toLowerCase())==="gustavolanconi";return{id:tt.id,userId:tt.user_id,userName:((ac=tt.user)==null?void 0:ac.name)||"Usurio",userAvatar:((lc=tt.user)==null?void 0:lc.avatar)||"https://via.placeholder.com/150",userIsVerified:rc?!0:((uc=tt.user)==null?void 0:uc.is_verified)||!1,userIsFounder:rc,content:tt.content,isVoice:tt.is_voice,timestamp:new Date(tt.created_at).toLocaleDateString()}}):[]}});m(A)}p(!1)},Bs=async()=>{const{data:k,error:b}=await V.from("pockets").select("*");if(b){console.error("Fetch Pockets Error:",b);return}let N=[];if(e){const{data:j}=await V.from("pocket_members").select("pocket_id").eq("user_id",e.id);j&&(N=j.map(A=>A.pocket_id))}if(k){const j=k.map(A=>{const D=N.includes(A.id);return{id:A.id,name:A.name,description:A.description,memberCount:0,maxMembers:50,tags:A.tags||[],isMember:D,applicationQuestions:A.application_questions||[],isCampfire:A.is_campfire,campfireTime:A.campfire_time,created_by:A.created_by}});g(j),w(j.filter(A=>A.isMember))}},Yu=async()=>{if(!e)return;const{data:k,error:b}=await V.from("pings").select("*, sender:sender_id(name, avatar, handle), receiver:receiver_id(name, avatar, handle)").or(`sender_id.eq.${e.id},receiver_id.eq.${e.id}`).order("created_at",{ascending:!1});if(!b&&k){let N=0;const j=k.map(A=>{const D=A.sender_id===e.id,Q=D?A.receiver:A.sender;return!D&&!A.is_read&&N++,{id:A.id,fromUser:(Q==null?void 0:Q.name)||"Usurio",fromAvatar:(Q==null?void 0:Q.avatar)||"https://via.placeholder.com/150",context:A.context,timestamp:new Date(A.created_at).toLocaleDateString(),isRead:A.is_read,messages:[]}});P(j),Y(N)}},Vm=async k=>{if(!e||!/^[0-9a-f]{8}-[0-9a-f]{4}-[0-5][0-9a-f]{3}-[089ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(k))return;const{data:N,error:j}=await V.from("messages").select("*").eq("ping_id",k).order("created_at",{ascending:!0});if(N){const A=N.map(D=>({id:D.id,senderId:D.sender_id===e.id?"me":"other",text:D.content,timestamp:new Date(D.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}));G(A)}},qm=async k=>{if(!k.trim()){Fu([]);return}const{data:b,error:N}=await V.from("profiles").select("*").ilike("name",`%${k}%`).limit(10);if(b){const j=b.map(A=>{var Q,Ke;const D=((Q=A.handle)==null?void 0:Q.toLowerCase())==="@gustavolanconi"||((Ke=A.name)==null?void 0:Ke.toLowerCase())==="gustavolanconi";return{id:A.id,name:A.name,handle:A.handle,avatar:A.avatar||`https://picsum.photos/seed/${A.id}/200`,bio:A.bio,pulseScore:A.pulse_score,isArbiter:A.is_arbiter,isVerified:D?!0:A.is_verified||!1,isFounder:D,dailyPingsRemaining:0,following:[],bookmarks:[],shelf:[],reactionStats:{I:0,P:0,A:0,T:0}}});Fu(j)}},Hm=async k=>{const b=S.map(j=>j.id===k?{...j,isRead:!0}:j);P(b),S.find(j=>j.id===k&&j.isRead===!1)&&Y(j=>Math.max(0,j-1)),e&&k.length>10&&await V.from("pings").update({is_read:!0}).eq("id",k).eq("receiver_id",e.id)},Wm=k=>{M(k),Hm(k)},Fo=async k=>{if(!e)return;const{error:b}=await V.from("posts").delete().eq("id",k).eq("user_id",e.id);b?(console.error("Delete Post Error:",b),b.code==="23503"?oe("Erro: Comentrios impedem excluso. Configure Cascade no Banco."):oe(`Erro ao excluir: ${b.message}`)):(m(N=>N.filter(j=>j.id!==k)),oe("Post excludo com sucesso."))},Vo=async k=>{const{error:b}=await V.from("comments").delete().eq("id",k);b?(console.error("Delete Comment Error:",b),oe(`Erro ao excluir: ${b.message}`)):(m(N=>N.map(j=>({...j,comments:j.comments.filter(A=>A.id!==k)}))),oe("Comentrio excludo."))},Km=async k=>{if(!window.confirm("Ateno: Excluir este Pocket remover todos os membros e posts associados. Continuar?"))return;const{error:b}=await V.from("pockets").delete().eq("id",k);b?(oe(`Erro ao excluir Pocket: ${b.message}`),console.error(b)):(Bs(),oe("Pocket excludo."),f==="MY_POCKETS"&&v("GLOBAL"))},Fs=async(k,b,N,j)=>{if(!e)return;const A=h.find(fe=>fe.id===k);if(!A)return;const D=A.currentUserReaction;let Q={...N},Ke=b;D===b?(Q[b]=Math.max(0,(Q[b]||0)-1),Ke=null):(D&&(Q[D]=Math.max(0,(Q[D]||0)-1)),Q[b]=(Q[b]||0)+1),m(h.map(fe=>fe.id===k?{...fe,reactions:Q,currentUserReaction:Ke}:fe));const{error:yt}=await V.from("posts").update({reactions:Q}).eq("id",k);if(yt){console.error("Error updating reaction count:",yt);return}if(Ke?await V.from("post_reactions").upsert({user_id:e.id,post_id:k,reaction_type:Ke},{onConflict:"user_id, post_id"}):await V.from("post_reactions").delete().eq("user_id",e.id).eq("post_id",k),j!==e.id){const fe=wt=>wt==="I"?5:wt==="P"?2:wt==="A"?3:wt==="T"?1:0,Tt=fe(D),gr=fe(Ke)-Tt;if(gr!==0){const{data:wt}=await V.from("profiles").select("pulse_score").eq("id",j).single();wt&&await V.from("profiles").update({pulse_score:wt.pulse_score+gr}).eq("id",j)}}},Vs=async(k,b,N=!1)=>{if(!e)return;const{error:j}=await V.from("comments").insert({post_id:k,user_id:e.id,content:b,is_voice:N});j||zs()},In=async k=>{if(!e)return;const b=e.following.includes(k);let N=[];b?(N=e.following.filter(j=>j!==k),await V.from("follows").delete().eq("follower_id",e.id).eq("following_id",k),oe("Sintonia encerrada.")):(N=[...e.following,k],await V.from("follows").insert({follower_id:e.id,following_id:k}),oe("Sintonizado! Posts aparecero na sua aba Conexes.")),t({...e,following:N})},qs=async k=>{if(!e)return;const b=e.bookmarks.includes(k);let N=[];b?(N=e.bookmarks.filter(j=>j!==k),await V.from("profiles").update({bookmarks:N}).eq("id",e.id),oe("Eco removido.")):(N=[...e.bookmarks,k],await V.from("profiles").update({bookmarks:N}).eq("id",e.id),oe("Eco salvo para reflexo futura.")),t({...e,bookmarks:N})},Gm=()=>{if(!We.title||!We.author)return;const k={id:Date.now().toString(),category:We.category,title:We.title,author:We.author};Br(b=>({...b,shelf:[...b.shelf,k]})),Us({category:"BOOK",title:"",author:""})},Jm=k=>{Br(b=>({...b,shelf:b.shelf.filter(N=>N.id!==k)}))},Qm=async()=>{await V.auth.signOut(),localStorage.removeItem("pulseout_pact"),localStorage.removeItem("pulseout_tour_completed"),t(null),i(!1),l(!0),n("HOME")},Ym=()=>{localStorage.setItem("pulseout_pact","true"),i(!0),localStorage.getItem("pulseout_tour_completed")!=="true"&&l(!1)},Xm=()=>{localStorage.setItem("pulseout_tour_completed","true"),l(!0)},Zm=k=>{F(k)},e0=async()=>{if(!R||!e)return;const{error:k}=await V.from("pocket_members").insert({pocket_id:R.id,user_id:e.id});k?(oe("Erro ao entrar no Pocket."),console.error(k)):(Bs(),F(null),oe(`Bem-vindo ao Pocket "${R.name}"!`))},t0=async k=>{if(e&&e.dailyPingsRemaining>0){const b={...e,dailyPingsRemaining:e.dailyPingsRemaining-1};t(b),te(!1),oe("Ping enviado! (Simulado)")}},r0=async k=>{if(!O||!k.trim()||!e)return;if(O.length<10){G(N=>[...N,{id:`msg-${Date.now()}`,senderId:"me",text:k,timestamp:"Agora"}]);return}const{error:b}=await V.from("messages").insert({ping_id:O,sender_id:e.id,content:k});b&&oe("Erro ao enviar mensagem.")},Xu=(k="")=>{Vu(k),Vt(!0)},n0=async(k,b,N,j,A)=>{if(!e)return;const{error:D}=await V.from("posts").insert({user_id:e.id,pocket_id:b,content:k,image_url:N,is_slow_mode:!1,depth_badge:k.length>200,co_author_name:j,scheduled_for:A});D?(console.error("Create Post Error",D),oe("Erro ao criar postagem.")):(zs(),Vt(!1),oe(A?"Cpsula do tempo criada!":"Postagem criada com sucesso!"),be==="COMPASS"&&ve(0),v(b?"MY_POCKETS":"GLOBAL"))},s0=async k=>{if(!e)return;const{data:b,error:N}=await V.from("pockets").insert({name:k.name,description:k.description,tags:k.tags,application_questions:k.applicationQuestions,created_by:e.id}).select().single();if(N||!b){console.error("Create Pocket Error",N),oe("Erro ao criar Pocket.");return}await V.from("pocket_members").insert({pocket_id:b.id,user_id:e.id,role:"admin"}),Bs(),pr(!1),oe(`Pocket "${k.name}" criado com sucesso!`)},i0=k=>{var N;const b=(N=k.target.files)==null?void 0:N[0];if(b){const j=new FileReader;j.onloadend=()=>{Br(A=>({...A,avatar:j.result}))},j.readAsDataURL(b)}},o0=async()=>{if(e){const k={...e,name:ke.name,bio:ke.bio,avatar:ke.avatar,isArbiter:ke.isArbiter,shelf:ke.shelf};try{localStorage.setItem(`pulseout_shelf_${e.id}`,JSON.stringify(ke.shelf))}catch(N){console.error("Failed to save shelf locally",N)}t(k),Wu(!1),oe("Perfil atualizado!");const{error:b}=await V.from("profiles").update({name:ke.name,bio:ke.bio,avatar:ke.avatar,is_arbiter:ke.isArbiter}).eq("id",e.id);b&&console.error("Error updating profile DB:",b)}},a0=async()=>{e&&(t({...e,hasVoiceBio:!0}),await V.from("profiles").update({has_voice_bio:!0}).eq("id",e.id),oe("Apresentao de voz gravada!"))},Zu=(k,b)=>{E(x.filter(j=>j.id!==k)),oe(b==="PENALIZE"?"Denncia validada. Score impactado.":"Denncia absolvida.")},oe=k=>{Hu(k),setTimeout(()=>Hu(null),3e3)},l0=()=>{if(!(e!=null&&e.reactionStats))return"border-pulse-vitality";const{I:k,P:b,A:N,T:j}=e.reactionStats,A=Math.max(k,b,N,j);return A===0?"border-pulse-vitality":A===k?"border-purple-400":A===b?"border-blue-400":A===N?"border-orange-400":A===j?"border-pink-400":"border-pulse-vitality"},u0=()=>{const k=h.filter(j=>f==="GLOBAL"?!0:f==="MY_POCKETS"?j.pocketId&&y.some(A=>A.id===j.pocketId):f==="CONNECTIONS"?e==null?void 0:e.following.includes(j.userId):!0),b=X<k.length-1,N=X>0;return a.jsxs("div",{className:"animate-fade-in relative",children:[a.jsxs("div",{className:"mb-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h2",{className:"text-3xl font-bold text-white",children:"Feed Pulse"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("div",{className:"bg-slate-800 rounded-lg p-1 flex border border-slate-700",children:[a.jsx("button",{onClick:()=>Ie("SCROLL"),className:`p-2 rounded-md ${be==="SCROLL"?"bg-pulse-base text-pulse-vitality shadow-sm":"text-slate-500"}`,children:a.jsx(Yw,{className:"w-5 h-5"})}),a.jsx("button",{onClick:()=>Ie("COMPASS"),className:`p-2 rounded-md ${be==="COMPASS"?"bg-pulse-base text-pulse-vitality shadow-sm":"text-slate-500"}`,children:a.jsx(Qw,{className:"w-5 h-5"})})]}),a.jsxs("button",{onClick:()=>Xu(),className:"bg-pulse-vitality text-pulse-dark hover:bg-yellow-400 font-bold px-4 py-2 rounded-xl flex items-center gap-2",children:[a.jsx(is,{className:"w-5 h-5"}),a.jsx("span",{className:"hidden md:inline",children:"Nova Postagem"})]})]})]}),a.jsxs("div",{className:"flex bg-pulse-base p-1 rounded-xl inline-flex border border-slate-800 overflow-x-auto max-w-full",children:[a.jsxs("button",{onClick:()=>{v("GLOBAL"),ve(0)},className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-bold whitespace-nowrap ${f==="GLOBAL"?"bg-pulse-light text-white":"text-slate-500"}`,children:[a.jsx(_d,{className:"w-4 h-4"})," Global"]}),a.jsxs("button",{onClick:()=>{v("MY_POCKETS"),ve(0)},className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-bold whitespace-nowrap ${f==="MY_POCKETS"?"bg-pulse-light text-white":"text-slate-500"}`,children:[a.jsx(Lt,{className:"w-4 h-4"})," Pockets"]}),a.jsxs("button",{onClick:()=>{v("CONNECTIONS"),ve(0)},className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-bold whitespace-nowrap ${f==="CONNECTIONS"?"bg-pulse-light text-white":"text-slate-500"}`,children:[a.jsx(os,{className:"w-4 h-4"})," Conexes"]})]})]}),d?a.jsx("div",{className:"text-center py-10",children:a.jsx(jt,{className:"w-8 h-8 text-pulse-vitality animate-spin mx-auto"})}):k.length>0?a.jsx("div",{children:be==="SCROLL"?a.jsx("div",{className:"space-y-6",children:k.map(j=>a.jsx(ui,{post:j,isCurrentUser:j.userId===(e==null?void 0:e.id),isFollowing:(e==null?void 0:e.following.includes(j.userId))||!1,isBookmarked:(e==null?void 0:e.bookmarks.includes(j.id))||!1,onToggleFollow:()=>In(j.userId),onToggleBookmark:()=>qs(j.id),onReact:A=>Fs(j.id,A,j.reactions,j.userId),onComment:(A,D)=>Vs(j.id,A,D),onDelete:()=>Fo(j.id),onDeleteComment:A=>{const D=j.comments.find(Q=>Q.id===A);D&&D.userId===(e==null?void 0:e.id)&&Vo(A)}},j.id))}):a.jsxs("div",{className:"py-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("span",{className:"text-xs font-bold uppercase tracking-wider text-slate-500",children:["Modo Bssola  ",X+1," de ",k.length]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{disabled:!N,onClick:()=>ve(j=>j-1),className:"p-3 bg-slate-800 rounded-full text-white disabled:opacity-30",children:a.jsx(kd,{className:"w-6 h-6"})}),a.jsx("button",{disabled:!b,onClick:()=>ve(j=>j+1),className:"p-3 bg-pulse-vitality rounded-full text-pulse-dark disabled:opacity-30",children:a.jsx(mp,{className:"w-6 h-6"})})]})]}),a.jsx("div",{className:"animate-fade-in",children:a.jsx(ui,{post:k[X],isCurrentUser:k[X].userId===(e==null?void 0:e.id),isFollowing:(e==null?void 0:e.following.includes(k[X].userId))||!1,isBookmarked:(e==null?void 0:e.bookmarks.includes(k[X].id))||!1,onToggleFollow:()=>In(k[X].userId),onToggleBookmark:()=>qs(k[X].id),onReact:j=>Fs(k[X].id,j,k[X].reactions,k[X].userId),onComment:(j,A)=>Vs(k[X].id,j,A),onDelete:()=>Fo(k[X].id),onDeleteComment:j=>Vo(j)})},X)]})}):a.jsxs("div",{className:"text-center py-12 border border-dashed border-slate-800 rounded-xl",children:[a.jsx("div",{className:"w-16 h-16 bg-slate-800 rounded-full flex items-center justify-center mx-auto mb-4",children:f==="GLOBAL"?a.jsx(_d,{className:"text-slate-500"}):f==="CONNECTIONS"?a.jsx(os,{className:"text-slate-500"}):a.jsx(Lt,{className:"text-slate-500"})}),a.jsx("p",{className:"text-slate-400 font-medium",children:f==="CONNECTIONS"?"Voc ainda no sintonizou em ningum. Encontre vozes que ressoam com voc no feed Global.":"Nenhum post encontrado."})]})]})},c0=()=>{const k=S.find(N=>N.id===O),b=N=>{N.preventDefault(),Ds.trim()&&(r0(Ds),Ju(""))};return k?a.jsxs("div",{className:"animate-fade-in flex flex-col h-[calc(100vh-100px)] md:h-[600px] bg-pulse-base border border-slate-800 rounded-2xl overflow-hidden relative",children:[a.jsxs("div",{className:"bg-slate-900/80 p-4 border-b border-slate-800 flex items-center gap-3 backdrop-blur-md sticky top-0 z-10",children:[a.jsx("button",{onClick:()=>{M(null),G([])},className:"p-2 -ml-2 text-slate-400 hover:text-white rounded-full hover:bg-slate-800",children:a.jsx(kd,{className:"w-5 h-5"})}),a.jsx("img",{src:k.fromAvatar,alt:k.fromUser,className:"w-10 h-10 rounded-full"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-white text-sm",children:k.fromUser}),a.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-indigo-400",children:[a.jsx("span",{className:"w-1.5 h-1.5 bg-indigo-500 rounded-full animate-pulse"}),a.jsxs("span",{children:["Contexto: ",k.context]})]})]})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-pulse-dark/50",children:[$.length>0?$.map(N=>a.jsx("div",{className:`flex ${N.senderId==="me"?"justify-end":"justify-start"}`,children:a.jsxs("div",{className:`max-w-[80%] rounded-2xl p-3 text-sm leading-relaxed ${N.senderId==="me"?"bg-pulse-vitality text-pulse-dark rounded-br-none":"bg-slate-800 text-slate-200 rounded-bl-none border border-slate-700"}`,children:[a.jsx("p",{children:N.text}),a.jsx("div",{className:`text-[10px] mt-1 text-right ${N.senderId==="me"?"text-yellow-900/60":"text-slate-500"}`,children:N.timestamp})]})},N.id)):a.jsxs("div",{className:"text-center text-slate-500 text-sm mt-10",children:['Inicie a conversa sobre: "',k.context,'"']}),a.jsx("div",{ref:Bo})]}),a.jsxs("form",{onSubmit:b,className:"p-4 bg-slate-900 border-t border-slate-800 flex gap-2",children:[a.jsx("input",{type:"text",value:Ds,onChange:N=>Ju(N.target.value),placeholder:"Digite...",className:"flex-1 bg-pulse-dark border border-slate-700 rounded-xl px-4 py-3 text-white focus:outline-none focus:border-pulse-vitality"}),a.jsx("button",{type:"submit",disabled:!Ds.trim(),className:"bg-indigo-600 hover:bg-indigo-500 text-white p-3 rounded-xl",children:a.jsx(Ou,{className:"w-5 h-5"})})]})]}):a.jsxs("div",{className:"animate-fade-in",children:[a.jsx("div",{className:"mb-6 bg-indigo-900/20 border border-indigo-500/30 rounded-xl p-6",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"bg-indigo-500/20 p-3 rounded-full",children:a.jsx(oo,{className:"w-6 h-6 text-indigo-400"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-white mb-1",children:"Caixa de Entrada"}),a.jsx("p",{className:"text-slate-300 text-sm",children:"Pings custam energia. Valorize a inteno."})]})]})}),a.jsx("div",{className:"space-y-4",children:S.length>0?S.map(N=>a.jsxs("div",{onClick:()=>Wm(N.id),className:`bg-pulse-base border ${N.isRead?"border-slate-800":"border-indigo-500/50"} rounded-xl p-4 flex gap-4 hover:bg-slate-800/50 cursor-pointer relative`,children:[a.jsx("img",{src:N.fromAvatar,alt:N.fromUser,className:"w-12 h-12 rounded-full object-cover"}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex justify-between items-start mb-1",children:[a.jsx("span",{className:`font-bold ${N.isRead?"text-slate-300":"text-white"}`,children:N.fromUser}),a.jsx("span",{className:"text-xs text-slate-500",children:N.timestamp})]}),a.jsxs("div",{className:"bg-slate-900/50 p-3 rounded-lg border border-slate-800 mb-2",children:[a.jsx("span",{className:"text-xs text-indigo-400 font-bold uppercase tracking-wider block mb-1",children:"Contexto:"}),a.jsxs("p",{className:"text-sm text-slate-300 italic",children:['"',N.context,'"']})]}),a.jsx("div",{className:"flex justify-end opacity-70",children:a.jsxs("span",{className:"text-xs font-bold text-pulse-vitality flex items-center gap-1",children:[a.jsx(js,{className:"w-3 h-3"})," Abrir"]})})]}),!N.isRead&&a.jsx("div",{className:"absolute top-4 right-4 w-3 h-3 bg-indigo-500 rounded-full animate-pulse shadow-indigo"})]},N.id)):a.jsxs("div",{className:"text-center py-12 border border-dashed border-slate-700 rounded-xl",children:[a.jsx(oo,{className:"w-12 h-12 text-slate-600 mx-auto mb-3"}),a.jsx("p",{className:"text-slate-400",children:"Caixa de entrada vazia."})]})})]})},d0=()=>a.jsxs("div",{className:"animate-fade-in",children:[a.jsxs("div",{className:"mb-8 flex justify-between items-end",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Pockets"}),a.jsx("p",{className:"text-slate-400",children:"Micro-comunidades limitadas."})]}),a.jsxs("button",{onClick:()=>pr(!0),className:"bg-indigo-600 hover:bg-indigo-500 text-white font-bold px-4 py-2 rounded-xl flex items-center gap-2",children:[a.jsx(is,{className:"w-5 h-5"})," Criar"]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:_.map(k=>a.jsxs("div",{className:`bg-pulse-base border rounded-2xl p-6 relative overflow-hidden group ${k.isCampfire?"border-orange-500/30":"border-slate-700"}`,children:[k.isCampfire&&a.jsx("div",{className:"absolute top-0 right-0 p-3",children:a.jsx(bd,{className:"text-orange-500 w-5 h-5"})}),e&&k.created_by===e.id&&a.jsx("button",{onClick:()=>Km(k.id),className:"absolute top-3 right-3 p-2 text-slate-600 hover:text-red-400 hover:bg-red-900/20 rounded-lg transition-colors z-10 opacity-0 group-hover:opacity-100",title:"Excluir Pocket",children:a.jsx(Es,{className:"w-4 h-4"})}),a.jsxs("div",{className:"flex justify-between items-start mb-4 pr-10",children:[a.jsx("div",{children:a.jsx("h3",{className:"text-xl font-bold text-white",children:k.name})}),a.jsxs("span",{className:"bg-slate-800 text-slate-300 text-xs px-2 py-1 rounded-md",children:[k.memberCount||0,"/50"]})]}),a.jsx("p",{className:"text-slate-300 text-sm mb-4",children:k.description}),a.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:k.tags.map(b=>a.jsxs("span",{className:"text-xs text-indigo-300 bg-indigo-900/30 px-2 py-1 rounded",children:["#",b]},b))}),k.isMember?a.jsxs("button",{disabled:!0,className:"w-full py-2 bg-emerald-900/30 text-emerald-400 border border-emerald-800 rounded-lg text-sm font-bold flex items-center justify-center gap-2",children:[a.jsx(Ss,{className:"w-4 h-4"})," Membro"]}):a.jsx("button",{onClick:()=>Zm(k),className:"w-full py-2 bg-slate-100 hover:bg-white text-pulse-dark rounded-lg text-sm font-bold",children:"Aplicar"})]},k.id))})]}),h0=()=>{var k;return a.jsxs("div",{className:"animate-fade-in",children:[a.jsxs("div",{className:"bg-pulse-base border border-slate-800 rounded-2xl p-6 md:p-8 mb-8 relative",children:[a.jsxs("div",{className:"absolute top-4 right-4 flex gap-2 z-10",children:[Pt?a.jsxs("button",{onClick:o0,className:"flex items-center gap-2 bg-pulse-vitality text-pulse-dark px-4 py-2 rounded-xl font-bold text-sm",children:[a.jsx(Hw,{className:"w-4 h-4"})," Salvar"]}):a.jsxs("button",{onClick:()=>{Br({name:(e==null?void 0:e.name)||"",bio:(e==null?void 0:e.bio)||"",avatar:(e==null?void 0:e.avatar)||"",isArbiter:(e==null?void 0:e.isArbiter)||!1,shelf:(e==null?void 0:e.shelf)||[]}),Wu(!0)},className:"flex items-center gap-2 bg-slate-800 text-slate-300 px-4 py-2 rounded-xl font-medium text-sm",children:[a.jsx(Fw,{className:"w-4 h-4"})," Editar"]}),a.jsx("button",{onClick:Qm,className:"p-2 bg-red-900/20 text-red-400 rounded-xl hover:bg-red-900/40",children:a.jsx(Vw,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"flex flex-col items-center md:flex-row md:items-start gap-6 mt-4 md:mt-0",children:[a.jsxs("div",{className:`p-1 rounded-full border-4 ${l0()} relative group overflow-hidden ${Pt?"cursor-pointer":""}`,onClick:()=>{var b;return Pt&&((b=Gu.current)==null?void 0:b.click())},children:[a.jsx("img",{src:Pt?ke.avatar:e==null?void 0:e.avatar,alt:e==null?void 0:e.name,className:"w-24 h-24 md:w-32 md:h-32 rounded-full object-cover"}),Pt&&a.jsx("div",{className:"absolute inset-0 bg-black/60 flex items-center justify-center",children:a.jsx(qw,{className:"w-8 h-8 text-white"})}),a.jsx("input",{type:"file",ref:Gu,className:"hidden",accept:"image/*",onChange:i0})]}),a.jsx("div",{className:"text-center md:text-left flex-1 w-full",children:Pt?a.jsxs("div",{className:"space-y-4 max-w-lg mx-auto md:mx-0",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs uppercase tracking-wider text-slate-500 font-bold mb-1",children:"Nome"}),a.jsx("input",{type:"text",value:ke.name,onChange:b=>Br({...ke,name:b.target.value}),className:"w-full bg-pulse-dark border border-slate-700 p-3 rounded-xl text-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs uppercase tracking-wider text-slate-500 font-bold mb-1",children:"Bio"}),a.jsx("textarea",{value:ke.bio,onChange:b=>Br({...ke,bio:b.target.value}),className:"w-full bg-pulse-dark border border-slate-700 p-3 rounded-xl text-slate-300 text-sm resize-none",rows:3})]}),a.jsxs("div",{className:"pt-4 border-t border-slate-700",children:[a.jsxs("h4",{className:"text-pulse-vitality text-sm font-bold mb-3 flex items-center gap-2",children:[a.jsx(li,{className:"w-4 h-4"})," Minhas Referncias"]}),a.jsxs("div",{className:"space-y-4",children:[ke.shelf.map(b=>a.jsxs("div",{className:"flex items-center justify-between bg-slate-900 border border-slate-700 p-3 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"bg-slate-800 p-2 rounded-full text-slate-400",children:[b.category==="BOOK"&&a.jsx(li,{className:"w-4 h-4"}),b.category==="SHOW"&&a.jsx(jd,{className:"w-4 h-4"}),b.category==="MUSIC"&&a.jsx(Sd,{className:"w-4 h-4"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-bold text-white",children:b.title}),a.jsx("p",{className:"text-xs text-slate-500",children:b.author})]})]}),a.jsx("button",{onClick:()=>Jm(b.id),className:"text-red-400 hover:text-red-300",children:a.jsx(Es,{className:"w-4 h-4"})})]},b.id)),ke.shelf.length<3&&a.jsxs("div",{className:"flex gap-2 items-end bg-slate-900/50 p-3 rounded-xl border border-slate-800 border-dashed",children:[a.jsxs("div",{className:"w-24",children:[a.jsx("label",{className:"text-[10px] text-slate-500 block mb-1",children:"Tipo"}),a.jsxs("select",{value:We.category,onChange:b=>Us({...We,category:b.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg p-2 text-xs text-white",children:[a.jsx("option",{value:"BOOK",children:"Livro"}),a.jsx("option",{value:"SHOW",children:"Filme/Srie"}),a.jsx("option",{value:"MUSIC",children:"Msica"})]})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("label",{className:"text-[10px] text-slate-500 block mb-1",children:"Ttulo"}),a.jsx("input",{type:"text",placeholder:"Ex: Matrix",className:"w-full bg-slate-800 border border-slate-700 rounded-lg p-2 text-xs text-white",value:We.title,onChange:b=>Us({...We,title:b.target.value})})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("label",{className:"text-[10px] text-slate-500 block mb-1",children:"Autor/Diretor"}),a.jsx("input",{type:"text",placeholder:"Ex: Wachowskis",className:"w-full bg-slate-800 border border-slate-700 rounded-lg p-2 text-xs text-white",value:We.author,onChange:b=>Us({...We,author:b.target.value})})]}),a.jsx("button",{type:"button",onClick:Gm,disabled:!We.title||!We.author,className:"bg-pulse-vitality text-pulse-dark p-2 rounded-lg disabled:opacity-50",children:a.jsx(is,{className:"w-4 h-4"})})]})]})]}),a.jsx("div",{className:"pt-2",children:a.jsxs("button",{onClick:a0,type:"button",className:"w-full border border-dashed border-slate-600 hover:border-indigo-400 text-slate-400 p-3 rounded-xl flex items-center justify-center gap-2",children:[a.jsx(pp,{className:"w-4 h-4"})," ",a.jsx("span",{className:"text-sm font-bold",children:"Gravar Voz"})]})})]}):a.jsxs(a.Fragment,{children:[a.jsxs("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-1 flex items-center gap-2",children:[e==null?void 0:e.name,e!=null&&e.isFounder?a.jsx(Ar,{className:"w-6 h-6 text-yellow-500 fill-current"}):(e==null?void 0:e.isVerified)&&a.jsx(Rr,{className:"w-6 h-6 text-pulse-vitality fill-current"})]}),a.jsx("p",{className:"text-pulse-vitality font-medium text-sm mb-4",children:e==null?void 0:e.handle}),a.jsx("p",{className:"text-slate-300 max-w-lg mx-auto md:mx-0 leading-relaxed",children:(e==null?void 0:e.bio)||"Sem bio."}),a.jsx("div",{className:"flex items-center gap-4 mt-4 justify-center md:justify-start",children:a.jsxs("div",{className:"text-xs font-bold text-slate-500 uppercase flex items-center gap-1",children:[a.jsx(os,{className:"w-3 h-3"})," Sintonizados: ",a.jsx("span",{className:"text-white ml-1",children:((k=e==null?void 0:e.following)==null?void 0:k.length)||0})]})})]})})]})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[a.jsxs("div",{className:"bg-slate-900/50 p-4 rounded-xl border border-slate-800 text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-pulse-vitality",children:e==null?void 0:e.pulseScore}),a.jsx("div",{className:"text-xs text-slate-500 uppercase font-semibold",children:"PULSE Score"})]}),a.jsxs("div",{className:"bg-slate-900/50 p-4 rounded-xl border border-slate-800 text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-indigo-400",children:e!=null&&e.isArbiter?"Sim":"No"}),a.jsx("div",{className:"text-xs text-slate-500 uppercase font-semibold",children:"rbitro"})]}),a.jsxs("div",{className:"bg-slate-900/50 p-4 rounded-xl border border-slate-800 text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-emerald-400",children:y.length}),a.jsx("div",{className:"text-xs text-slate-500 uppercase font-semibold",children:"Pockets"})]}),a.jsxs("div",{className:"bg-slate-900/50 p-4 rounded-xl border border-slate-800 text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-slate-200",children:h.filter(b=>b.userId===(e==null?void 0:e.id)).length}),a.jsx("div",{className:"text-xs text-slate-500 uppercase font-semibold",children:"Posts"})]})]}),!Pt&&(e==null?void 0:e.shelf)&&e.shelf.length>0&&a.jsxs("div",{className:"mb-8",children:[a.jsxs("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:[a.jsx(li,{className:"w-5 h-5 text-pulse-vitality"})," Estante de Referncias"]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:e.shelf.map(b=>a.jsxs("div",{className:"bg-slate-900/50 border border-slate-800 p-4 rounded-xl flex items-center gap-4 hover:border-slate-600 transition-colors",children:[a.jsxs("div",{className:"w-12 h-12 rounded-lg bg-slate-800 flex items-center justify-center text-slate-400 flex-shrink-0",children:[b.category==="BOOK"&&a.jsx(li,{className:"w-6 h-6"}),b.category==="SHOW"&&a.jsx(jd,{className:"w-6 h-6"}),b.category==="MUSIC"&&a.jsx(Sd,{className:"w-6 h-6"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-white text-sm line-clamp-1",children:b.title}),a.jsx("p",{className:"text-xs text-slate-500 line-clamp-1",children:b.author}),a.jsx("span",{className:"text-[10px] text-slate-600 font-bold uppercase tracking-wider mt-1 block",children:b.category==="BOOK"?"Livro":b.category==="SHOW"?"Filme/Srie":"Msica"})]})]},b.id))})]}),!Pt&&a.jsxs("div",{className:"flex justify-center mb-6 border-b border-slate-800",children:[a.jsx("button",{onClick:()=>Ku("POSTS"),className:`px-6 py-3 text-sm font-bold border-b-2 transition-colors ${Ms==="POSTS"?"border-pulse-vitality text-white":"border-transparent text-slate-500 hover:text-slate-300"}`,children:"Meus Posts"}),a.jsx("button",{onClick:()=>Ku("BOOKMARKS"),className:`px-6 py-3 text-sm font-bold border-b-2 transition-colors ${Ms==="BOOKMARKS"?"border-pulse-vitality text-white":"border-transparent text-slate-500 hover:text-slate-300"}`,children:"Ecos Guardados"})]}),!Pt&&a.jsxs("div",{className:"animate-fade-in",children:[Ms==="POSTS"&&a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:[a.jsx(Lt,{className:"w-5 h-5 text-indigo-400"})," Meus Pockets"]}),y.length>0?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-8",children:y.map(b=>a.jsxs("div",{className:"bg-pulse-base border border-slate-800 p-4 rounded-xl flex justify-between items-center",children:[a.jsx("div",{children:a.jsxs("h4",{className:"font-bold text-slate-200 flex items-center gap-2",children:[b.name,b.isCampfire&&a.jsx(bd,{className:"w-3 h-3 text-orange-500"})]})}),a.jsx("span",{className:"text-xs bg-emerald-900/30 text-emerald-400 px-2 py-1 rounded",children:"Membro"})]},b.id))}):a.jsx("div",{className:"bg-slate-900/30 border border-slate-800 border-dashed rounded-xl p-8 text-center mb-8",children:a.jsx("p",{className:"text-slate-400",children:"Nenhum pocket ainda."})}),a.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Histrico de Publicaes"}),h.filter(b=>b.userId===(e==null?void 0:e.id)).length>0?h.filter(b=>b.userId===(e==null?void 0:e.id)).map(b=>a.jsx(ui,{post:b,isCurrentUser:!0,isFollowing:!1,isBookmarked:e==null?void 0:e.bookmarks.includes(b.id),onToggleFollow:()=>In(b.userId),onToggleBookmark:()=>qs(b.id),onReact:N=>Fs(b.id,N,b.reactions,b.userId),onComment:(N,j)=>Vs(b.id,N,j),onDelete:()=>Fo(b.id),onDeleteComment:N=>Vo(N)},b.id)):a.jsx("div",{className:"text-center py-8 bg-slate-800/20 rounded-xl border border-dashed border-slate-700",children:a.jsx("p",{className:"text-slate-500",children:"Voc ainda no publicou nada."})})]}),Ms==="BOOKMARKS"&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-6 text-pulse-vitality",children:[a.jsx(gl,{className:"w-5 h-5"}),a.jsx("h3",{className:"text-lg font-bold text-white",children:"Ecos Guardados"})]}),(e==null?void 0:e.bookmarks.length)>0?h.filter(b=>e.bookmarks.includes(b.id)).map(b=>a.jsx(ui,{post:b,isCurrentUser:b.userId===e.id,isFollowing:e.following.includes(b.userId),isBookmarked:!0,onToggleFollow:()=>In(b.userId),onToggleBookmark:()=>qs(b.id),onReact:N=>Fs(b.id,N,b.reactions,b.userId),onComment:(N,j)=>Vs(b.id,N,j)},b.id)):a.jsxs("div",{className:"text-center py-12 border border-dashed border-slate-800 rounded-xl",children:[a.jsx(gl,{className:"w-12 h-12 text-slate-600 mx-auto mb-3"}),a.jsx("p",{className:"text-slate-400 font-medium",children:"Voc ainda no salvou nenhum Eco."}),a.jsx("p",{className:"text-slate-600 text-sm mt-1",children:"Salve posts que valem a pena reler."})]})]})]})]})},f0=()=>a.jsxs("div",{className:"animate-fade-in",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("div",{className:"bg-red-900/30 p-3 rounded-full",children:a.jsx(ml,{className:"w-8 h-8 text-red-400"})}),a.jsx("div",{children:a.jsx("h2",{className:"text-3xl font-bold text-white",children:"Zona dos rbitros"})})]}),x.length>0?a.jsx("div",{className:"grid gap-4",children:x.map(k=>a.jsxs("div",{className:"bg-pulse-base border border-slate-800 rounded-xl p-6",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsx("span",{className:"bg-red-900/30 text-red-400 text-xs px-2 py-1 rounded-md font-bold uppercase",children:k.reason}),a.jsxs("span",{className:"text-slate-500 text-xs",children:["Autor: ",k.author]})]}),a.jsxs("p",{className:"text-slate-200 italic mb-6",children:['"',k.content,'"']}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("button",{onClick:()=>Zu(k.id,"DISMISS"),className:"flex-1 py-3 rounded-lg border border-slate-700 text-slate-400 font-bold flex items-center justify-center gap-2",children:[a.jsx(Pn,{className:"w-4 h-4"})," Absolver"]}),a.jsxs("button",{onClick:()=>Zu(k.id,"PENALIZE"),className:"flex-1 py-3 rounded-lg bg-red-600/20 border border-red-600/50 text-red-400 font-bold flex items-center justify-center gap-2",children:[a.jsx(ml,{className:"w-4 h-4"})," Penalizar"]})]})]},k.id))}):a.jsxs("div",{className:"text-center py-20 bg-slate-800/20 rounded-2xl border border-dashed border-slate-700",children:[a.jsx(Tn,{className:"w-16 h-16 text-emerald-500/50 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Tudo Limpo!"})]})]});return u?a.jsx("div",{className:"min-h-screen bg-pulse-dark flex items-center justify-center",children:a.jsx(jt,{className:"w-10 h-10 text-pulse-vitality animate-bounce"})}):e?a.jsxs(a.Fragment,{children:[!s&&a.jsx(Ob,{onAccept:Ym}),!o&&s&&a.jsx(Ib,{onComplete:Xm}),R&&a.jsx(Rb,{pocket:R,onClose:()=>F(null),onSubmit:e0,userScore:e.pulseScore}),Nt&&a.jsx(Pb,{onClose:()=>pr(!1),onSubmit:s0}),q&&a.jsx(Ab,{remaining:e.dailyPingsRemaining,onClose:()=>te(!1),onSubmit:t0}),he&&a.jsx(Tb,{userPockets:y,onClose:()=>{Vt(!1),Vu("")},onSubmit:n0,initialContent:Fm}),Ct&&e&&a.jsx(Cb,{onClose:()=>mr(!1),onSearch:qm,results:Bm,onToggleFollow:In,currentUser:e}),qu&&a.jsxs("div",{className:"fixed bottom-6 right-6 bg-emerald-600 text-white px-6 py-3 rounded-lg shadow-xl z-50 flex items-center gap-3 animate-fade-in-up",children:[a.jsx(Ss,{className:"w-5 h-5"}),qu]}),a.jsxs(ax,{user:e,currentView:r,onNavigate:n,onOpenPing:()=>te(!0),onTriggerPost:Xu,onOpenSearch:()=>mr(!0),unreadPingCount:H,children:[r==="HOME"&&u0(),r==="INBOX"&&c0(),r==="POCKETS"&&d0(),r==="PROFILE"&&h0(),r==="ARBITER"&&f0()]})]}):a.jsx(Nb,{onSuccess:()=>{}})}const zm=document.getElementById("root");if(!zm)throw new Error("Could not find root element to mount to");const Lb=ba.createRoot(zm);Lb.render(a.jsx(T0.StrictMode,{children:a.jsx($b,{})}));
